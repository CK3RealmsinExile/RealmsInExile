namespace = rohirrim_war_event_chain

### Freca/Wulf Events ###
#			Helm's Council
#			rohirrim_war_event_chain.0100		Freca is called to Council
#			rohirrim_war_event_chain.0101		Proud Freca arrives in Edoras
#			rohirrim_war_event_chain.0102		Helm receives proud Freca
#			rohirrim_war_event_chain.0103		Freca makes his demands
#			rohirrim_war_event_chain.0104		Helm's positive response to Freca
#			rohirrim_war_event_chain.0105		Helm's negative response to Freca
#			rohirrim_war_event_chain.0106		Helm takes Freca outside
#			rohirrim_war_event_chain.0107		Freca's Death
#			rohirrim_war_event_chain.0108		Humble Freca arrives in Edoras
#			rohirrim_war_event_chain.0109		Helm receives humble Freca
#			rohirrim_war_event_chain.0110		Freca makes his requests
#			rohirrim_war_event_chain.0111		Freca's Death, Wulf reaction
--------------------------------------------------------------


# A Call to Council
rohirrim_war_event_chain.0100 = {
	type = character_event
	title = rohirrim_war_event_chain.0100.title
	desc = rohirrim_war_event_chain.0100.desc
	theme = intrigue
	
	right_portrait = {
		character = root
		animation = scheme
	}
	
	option = { #Go Proudly
		name = rohirrim_war_event_chain.0100.a
		
		start_travel_plan = {
			destination = title:c_edoras.title_province
			on_arrival_event = rohirrim_war_event_chain.0101
			return_trip = no
			players_use_planner = no
			on_arrival_destinations = last
		}
		set_variable = cannot_cancel_travel
		ai_chance = {
			base = 0 # LotR: This should be tied to WotR mode.
			modifier = { # Game Rule
				has_game_rule = default_ai_behavior
				add = 100
			}
			modifier = { # Game Rule
				has_game_rule = weighted_ai_behavior
				add = 80
			}
			modifier = { # Game Rule
				has_game_rule = random_ai_behavior
				add = 60
			}
		}
	}
	
	option = { #Play Softly
		name = rohirrim_war_event_chain.0100.b
		
		start_travel_plan = {
			destination = title:c_edoras.title_province
			on_arrival_event = rohirrim_war_event_chain.0108
			return_trip = no
			players_use_planner = no
			on_arrival_destinations = last
		}
		add_stress = major_stress_gain
		ai_chance = {
			base = 0 # LotR: This should be tied to WotR mode.
			modifier = { # Game Rule
				has_game_rule = default_ai_behavior
				add = 0
			}
			modifier = { # Game Rule
				has_game_rule = weighted_ai_behavior
				add = 20
			}
			modifier = { # Game Rule
				has_game_rule = random_ai_behavior
				add = 40
			}
		}
	}
	
}

# Proud Freca arrives in Edoras
rohirrim_war_event_chain.0101 = {
	type = character_event
	title = rohirrim_war_event_chain.0101.title
	desc = rohirrim_war_event_chain.0101.desc
	theme = feast_activity
	
	right_portrait = {
		character = root
		animation = scheme
	}
	
	option = { 
		name = rohirrim_war_event_chain.0101.a
		
		character:lineofeorl9 = { 
			trigger_event = {
				id = rohirrim_war_event_chain.0102
				days = { 1 2 }
			}
		}
	}
	
}

# Helm receives Proud Freca
rohirrim_war_event_chain.0102 = {
	type = character_event
	title = rohirrim_war_event_chain.0102.title
	desc = rohirrim_war_event_chain.0102.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
		animation = personality_honorable
	}
	
	right_portrait = {
		character = scope:freca
		animation = personality_bold
	}
	
	option = { 
		name = rohirrim_war_event_chain.0102.a
		
		character:lineofeorl9 = { 
			trigger_event = {
				id = rohirrim_war_event_chain.0103
				days = { 1 2 }
			}
		}
	}
	
}

# Freca makes his demands
rohirrim_war_event_chain.0103 = {
	type = character_event
	title = rohirrim_war_event_chain.0103.title
	desc = rohirrim_war_event_chain.0103.desc
	theme = diplomacy
	
	left_portrait = {
		character = root
		animation = personality_honorable
	}
	
	right_portrait = {
		character = scope:freca
		animation = personality_dishonorable
	}
	lower_right_portrait = scope:wulf
	lower_left_portrait = scope:hera
	
	option = { #Accept
		name = rohirrim_war_event_chain.0103.a
		
		character:lineoffreca = { 
			trigger_event = {
				id = rohirrim_war_event_chain.0104
				days = { 1 2 }
			}
		}
		ai_chance = {
 			base = 0
		}
	}
	
	option = { #Refuse
		name = rohirrim_war_event_chain.0103.b
		
		character:lineofeorl9 = { 
			trigger_event = {
				id = rohirrim_war_event_chain.0105
				days = { 1 2 }
			}
		}
		ai_chance = {
 			base = 100
		}
	}
	
}

# Helm's positive response to Freca
rohirrim_war_event_chain.0104 = {
	type = character_event
	title = rohirrim_war_event_chain.0104.title
	desc = rohirrim_war_event_chain.0104.desc
	theme = diplomacy
	
	left_portrait = {
		character = root
		animation = personality_greedy
	}
	
	right_portrait = {
		character = scope:helm
		animation = personality_bold
	}
	
	option = { 
		name = rohirrim_war_event_chain.0104.a
		
		character:lineofeorl9 = { 
			trigger_event = {
				id = TBD
				days = { 1 2 }
			}
		}
	}
	
}

# Helm's negative response to Freca
rohirrim_war_event_chain.0105 = {
	type = character_event
	title = rohirrim_war_event_chain.0105.title
	desc = rohirrim_war_event_chain.0105.desc
	theme = martial
	
	left_portrait = {
		character = root
		animation = personality_anger
	}
	
	right_portrait = {
		character = scope:helm
		animation = personality_anger
	}
	
	option = { 
		name = rohirrim_war_event_chain.0105.a
		
		character:lineofeorl9 = { 
			trigger_event = {
				id = rohirrim_war_event_chain.0106
				days = { 1 2 }
			}
		}
	}
	
}

# Helm takes Freca outside
rohirrim_war_event_chain.0106 = {
	type = character_event
	title = rohirrim_war_event_chain.0106.title
	desc = rohirrim_war_event_chain.0106.desc
	theme = martial
	
	left_portrait = {
		character = root
		animation = anger
	}
	
	right_portrait = {
		character = scope:freca
		animation = anger
	}
	
	option = { 
		name = rohirrim_war_event_chain.0106.a
		
		character:lineoffreca1 = { 
			trigger_event = {
				id = rohirrim_war_event_chain.0107
				days = { 1 2 }
			}
		}
	}
	
}

# Freca's Death
rohirrim_war_event_chain.0107 = {
	type = character_event
	title = rohirrim_war_event_chain.0107.title
	desc = rohirrim_war_event_chain.0107.desc
	theme = death
	
	left_portrait = {
		character = root
		animation = shock
	}
	
	right_portrait = {
		character = scope:helm
		animation = anger
	}
	
	option = { 
		name = rohirrim_war_event_chain.0107.a
		
		death = { 
			death_reason = death_battle 
			killer = scope:helm
		}
		character:lineoffreca3 = { 
			trigger_event = {
				id = rohirrim_war_event_chain.0111
				days = { 2 4 }
			}
		}
	}
	
}

# Humble Freca arrives in Edoras
rohirrim_war_event_chain.0108 = {
	type = character_event
	title = rohirrim_war_event_chain.0108.title
	desc = rohirrim_war_event_chain.0108.desc
	theme = feast_activity
	
	right_portrait = {
		character = root
		animation = scheme
	}
	
	option = { 
		name = rohirrim_war_event_chain.0108.a
		
		character:lineofeorl9 = { 
			trigger_event = {
				id = rohirrim_war_event_chain.0109
				days = { 1 2 }
			}
		}
	}
	
}

# Helm receives Humble Freca
rohirrim_war_event_chain.0109 = {
	type = character_event
	title = rohirrim_war_event_chain.0109.title
	desc = rohirrim_war_event_chain.0109.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
		animation = personality_honorable
	}
	
	right_portrait = {
		character = scope:freca
		animation = personality_bold
	}
	
	option = { 
		name = rohirrim_war_event_chain.0109.a
		
		character:lineofeorl9 = { 
			trigger_event = {
				id = rohirrim_war_event_chain.0110
				days = { 1 2 }
			}
		}
	}
	
}

# Freca makes his requests
rohirrim_war_event_chain.0110 = {
	type = character_event
	title = rohirrim_war_event_chain.0110.title
	desc = rohirrim_war_event_chain.0110.desc
	theme = diplomacy
	
	left_portrait = {
		character = root
		animation = personality_honorable
	}
	
	right_portrait = {
		character = scope:freca
		animation = personality_rational
	}
	lower_right_portrait = scope:wulf
	lower_left_portrait = scope:hera
	
	option = { #Accept
		name = rohirrim_war_event_chain.0110.a
		
		character:lineoffreca = { 
			trigger_event = {
				id = rohirrim_war_event_chain.0104
				days = { 1 2 }
			}
		}
		ai_chance = {
			base = 0 # LotR: This should be tied to WotR mode.
			modifier = { # Game Rule
				has_game_rule = default_ai_behavior
				add = 20
			}
			modifier = { # Game Rule
				has_game_rule = weighted_ai_behavior
				add = 35
			}
			modifier = { # Game Rule
				has_game_rule = random_ai_behavior
				add = 50
			}
		}
	}
	
	option = { #Refuse
		name = rohirrim_war_event_chain.0110.a
		
		character:lineofeorl9 = { 
			trigger_event = {
				id = rohirrim_war_event_chain.0105
				days = { 1 2 }
			}
		}
		ai_chance = {
			base = 0 # LotR: This should be tied to WotR mode.
			modifier = { # Game Rule
				has_game_rule = default_ai_behavior
				add = 80
			}
			modifier = { # Game Rule
				has_game_rule = weighted_ai_behavior
				add = 65
			}
			modifier = { # Game Rule
				has_game_rule = random_ai_behavior
				add = 50
			}
		}
	}
	
}

# Freca's Death, Wulf Reaction
rohirrim_war_event_chain.0111 = {
	type = character_event
	title = rohirrim_war_event_chain.0111.title
	desc = rohirrim_war_event_chain.0111.desc
	theme = death
	
	left_portrait = {
		character = root
		animation = anger
	}
	
	right_portrait = {
		character = scope:helm
		animation = personality_bold
	}
	
	option = { 
		name = rohirrim_war_event_chain.0111.a
		
		set_relation_rival = {
			target = scope:helm
#			reason = 
		}
		character:lineofeorl9 = { 
			trigger_event = {
				id = rohirrim_war_event_chain.0112
				days = { 1 2 }
			}
		}
	}
	
}