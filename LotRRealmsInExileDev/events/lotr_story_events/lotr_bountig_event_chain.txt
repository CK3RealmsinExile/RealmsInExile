namespace = bountig_event_chain

#	bountig_event_chain.0001 - 4999 ~ Bountig's events
#	bountig_event_chain.5000 - 5100 ~ Khand & Ovatha
# 	bountig_event_chain.9000 - 9999 ~ Management events

scripted_effect set_contract_scopes_effect = {
	scope:task_contract.task_contract_taker ?= { save_scope_as = task_contract_taker }
	scope:task_contract.task_contract_employer ?= { save_scope_as = task_contract_employer }
	if = {
		limit = { exists = scope:task_contract.task_contract_destination }
		scope:task_contract.task_contract_destination = { save_scope_as = task_contract_destination }
	}
	else = {
		scope:task_contract.var:task_contract_destination ?= { save_scope_as = task_contract_destination }
	}
	if = {
		limit = { exists = scope:task_contract.task_contract_target }
		scope:task_contract.task_contract_target ?= { save_scope_as = task_contract_target }
	}
	else = {
		scope:task_contract.var:task_contract_target ?= { save_scope_as = task_contract_target }
	}
	scope:task_contract.var:task_contract_war ?= { save_scope_as = task_contract_war }
	if = {
		limit = { exists = scope:task_contract.var:task_contract_object }
		scope:task_contract.var:task_contract_object = { save_scope_as = task_contract_object }
	}
	if = {
		limit = { exists = scope:task_contract.var:escorted_artifact }
		scope:task_contract.var:escorted_artifact = { save_scope_as = escorted_artifact }
	}
	if = {
		limit = { exists = scope:task_contract.var:escorted_gold }
		scope:task_contract.var:escorted_gold = { save_scope_as = escorted_gold }
	}
	if = {
		limit = { exists = scope:task_contract.var:escorted_story }
		scope:task_contract.var:escorted_story = { save_scope_as = escorted_story }
	}
}

scripted_effect set_laamp_variables_for_contracts_to_spawn_effect = {
	set_variable = {
		name = contract_passive_spawn_location
		value = location.empire
	}
	set_variable = {
		name = contract_passive_spawn_tally
		value = 0
	}
}

scripted_effect build_or_upgrade_domicile_building_effect = {
	if = {
		limit = { has_domicile_building_or_higher = $BUILDING$_01 }
		switch = {
			trigger = has_domicile_building
			$BUILDING$_01 = { add_domicile_building = $BUILDING$_02 }
			$BUILDING$_02 = { add_domicile_building = $BUILDING$_03 }
			$BUILDING$_03 = { add_domicile_building = $BUILDING$_04 }
			$BUILDING$_04 = { add_domicile_building = $BUILDING$_05 }
			$BUILDING$_05 = { add_domicile_building = $BUILDING$_06 }
		}
	} else = { add_domicile_building = $BUILDING$_01 }
}

scripted_effect fill_provisions_effect = {
	domicile = {
		if = {
			limit = { provisions < max_provisions }
			change_provisions = max_provisions
		}
	}
}

scripted_effect visiting_lore_city_reward_effect = {
	random_list = {
		25 = { #Gain/Upgrade domicile building
			trigger = { domicile = { free_external_domicile_building_slots >= 1 } }
			custom_tooltip = {
				text = "bountig_gain_random_domicile_building_effect"
				domicile = {
					random_list = {
						1 = {
							trigger = { NOT = { has_domicile_building = supply_tent_06 } }
							build_or_upgrade_domicile_building_effect = { BUILDING = supply_tent }
						}
						1 = {
							trigger = { NOT = { has_domicile_building = barber_tent_06 } }
							build_or_upgrade_domicile_building_effect = { BUILDING = barber_tent }
						}
						1 = {
							trigger = { NOT = { has_domicile_building = baggage_train_06 } }
							build_or_upgrade_domicile_building_effect = { BUILDING = baggage_train }
						}
						1 = {
							trigger = { NOT = { has_domicile_building = mess_tent_06 } }
							build_or_upgrade_domicile_building_effect = { BUILDING = mess_tent }
						}
						1 = {
							trigger = { NOT = { has_domicile_building = camp_fire_06 } }
							build_or_upgrade_domicile_building_effect = { BUILDING = camp_fire }
						}
						1 = {
							trigger = { NOT = { has_domicile_building = proving_grounds_06 } }
							build_or_upgrade_domicile_building_effect = { BUILDING = proving_grounds }
						}
						1 = {
							trigger = { NOT = { has_domicile_building = camp_perimeter_06 } }
							build_or_upgrade_domicile_building_effect = { BUILDING = camp_perimeter }
						}
					}
				}
			}
		}
		25 = { #Gain additional XP in trait tracks
			if = { #Gondor
				limit = {
					title:c_minas_tirith.empire = { is_de_jure_liege_or_above_target = root.domicile.domicile_location.county }
				}
				root = { save_scope_as = bountig }
				send_interface_message = {
					type = event_generic_good_with_text
					title = bountig_gains_xp_in_special_trait.t
					desc = bountig_gains_xp_in_special_trait.desc
					add_trait_xp = {
						trait = bountig_story_trait
						track = gondor_cities
						value = 15
					}
				}
			} 
			else_if = { #Harwan
				limit = {
					title:c_amrun.empire = { is_de_jure_liege_or_above_target = root.domicile.domicile_location.county }
				}
				root = { save_scope_as = bountig }
				send_interface_message = {
					type = event_generic_good_with_text
					title = bountig_gains_xp_in_special_trait.t
					desc = bountig_gains_xp_in_special_trait.desc
					add_trait_xp = {
						trait = bountig_story_trait
						track = haruzan_cities
						value = 15
					}
				}
			} 
			else_if = { #umbar
				limit = {
					title:c_umbar.empire = { is_de_jure_liege_or_above_target = root.domicile.domicile_location.county }
				}
				root = { save_scope_as = bountig }
				send_interface_message = {
					type = event_generic_good_with_text
					title = bountig_gains_xp_in_special_trait.t
					desc = bountig_gains_xp_in_special_trait.desc
					add_trait_xp = {
						trait = bountig_story_trait
						track = umbar_cities
						value = 15
					}
				}
			}
		}
		25 = { #Gain a random knight courtier
			create_character = {
				template = old_knight_teacher
				culture = root.location.culture
				faith = root.location.faith
				gender_female_chance = root_soldier_female_chance
				location = root.location
				save_scope_as = soldier_character
				after_creation = {
					add_trait_xp = {
						trait = lifestyle_blademaster
						value = 100
					}
					set_employer = root
				}
			}
			custom_tooltip = {
				text = bountig_gain_random_follower_effect
			}
			send_interface_message = {				
				type = event_generic_good_with_text
				title = bountig_knight_joins_entourage
				desc = bountig_knight_joins_entourage_desc
				left_icon = scope:soldier_character
			}
		}
		25 = {
			trigger = {
				any_character_artifact = {
					count < 4
					artifact_slot_type = miscellaneous
				}
			}
			root = { save_scope_as = bountig }
			custom_tooltip = {
				text = bountig_gain_random_trinket_artifact_effect
				generate_trinket_effect = {
					TRINKET_RECEIVER = root
					TRINKET_GIVER = root
					GRAB_ALL_TRINKETS = yes
					HISTORY_TYPE = discovered
				}
			}
			send_interface_message = {				
				type = event_generic_good_with_text
				title = bountig_gains_random_trinket
				desc = bountig_gains_random_trinket_desc
				left_icon = scope:new_trinket
			}
		}
	}
}

### BOUNTIG EVENTS ###

bountig_event_chain.0002 = {
	hidden = yes 

	trigger = {
		is_available = yes
	}

	on_trigger_fail = { #Trigger invitation again if it was blocked because the character was handling another invitation
		trigger_event = { id = bountig_event_chain.0002 days = 1 }
	}

	immediate = {
		pan_camera_to_province = title:c_minas_tirith.title_province
		scope:task_contract = { open_view_data = task_contract }
	}
}

bountig_event_chain.0003 = { #Bountig accepts the contract in the East
	content_source = realms_dlc
	type = character_event
	title = bountig_event_chain.0003.t
	desc = bountig_event_chain.0003.desc
	theme = martial
	
	right_portrait = {
		character = root
		animation = personality_rational
	}

	immediate = {
		set_contract_scopes_effect = yes 
	}

	option = { # Travel with full domicile
		name = bountig_event_chain.0003.a
		set_variable = cannot_cancel_travel
		custom_tooltip = bountig_event_chain.0003.a.tt
		hidden_effect = { #Provisions so Bountig doesn't insta-die
			domicile = { add_domicile_building = supply_tent_01 }
		}
		start_travel_plan = {
			destination = scope:task_contract_destination
			travel_with_domicile = yes
			return_trip = no
			players_use_planner = no
			on_arrival_event = bountig_event_chain.0004
			on_arrival_destinations = all
		}
	}
	after = { hidden_effect = { fill_provisions_effect = yes } }
}

bountig_event_chain.0004 = {
	hidden = yes
	# Saved scopes:
	## employer
	## task_contract_taker
	## task_contract_destination
	## task_contract
	immediate = {
		remove_variable = cannot_cancel_travel
		save_scope_as = bountig
		title:k_rohan.holder ?= { save_scope_as = war_target }

		if = {
			limit = { exists = scope:war_target }
			scope:employer = {
				start_war = {
					casus_belli = bountig_special_raid_for_captives_cb
					target = scope:war_target
					target_title = scope:war_target.primary_title
				}
			}
		} else = {
			title:k_south_rhovanion = { # Start a war between a Ioriag duke and Rohan
				random_de_jure_county = {
					limit = {
						is_wastelands = no
						culture = { has_cultural_pillar = heritage_ioriag }
						holder = { highest_held_title_tier > tier_county }
						holder = { is_at_war = no }
						NOT = { holder = scope:employer }
					}
					alternative_limit = {
						is_wastelands = no
						culture = { has_cultural_pillar = heritage_ioriag }
						holder = { highest_held_title_tier > tier_barony }
						holder = { is_at_war = no }
						NOT = { holder = scope:employer }
					}
					alternative_limit = {
						is_wastelands = no
						culture = { has_cultural_pillar = heritage_ioriag }
						holder = { highest_held_title_tier > tier_county }
						NOT = { holder = scope:employer }
					}
					holder = { save_scope_as = war_target }
				}
			}
			scope:employer = {
				start_war = {
					casus_belli = bountig_special_raid_for_captives_cb
					target = scope:war_target
					target_title = scope:war_target.primary_title
				}
			}
		}

		scope:employer = {
			random_character_war = {
				limit = { primary_defender = scope:war_target }
				set_called_to = scope:bountig
				add_attacker = scope:bountig
				save_scope_as = story_war
			}
			set_variable = {
				name = bountig
				value = scope:bountig 
			}
		}
		scope:war_target = {
			every_vassal = {
				limit = { culture = top_liege.culture } # Avoid dunlendings joining in
				trigger_event = bountig_event_chain.0010
			}
		}
	}
}

bountig_event_chain.0005 = { # Bountig gets offered land or gold, either ending or boosting his story line
	content_source = realms_dlc
	type = character_event
	title = bountig_event_chain.0005.t
	desc = bountig_event_chain.0005.desc
	theme = martial
	
	right_portrait = {
		character = root
		animation = personality_rational
	}

	left_portrait = {
		character = scope:attacker
		animation = personality_rational
	}

	immediate = { save_scope_as = bountigmedlokan }

	option = { # Travel with full domicile
		name = bountig_event_chain.0005.a
		custom_tooltip = bountig_event_chain.0005.a.tt
		set_variable = cannot_cancel_travel
		title:c_minas_tirith.empire.holder ?= { save_scope_as = gondor_ruler }
		add_gold = 500
		add_prestige = 500
		set_laamp_variables_for_contracts_to_spawn_effect = yes
		start_travel_plan = {
			destination = title:b_pelannor.title_province
			travel_with_domicile = yes
			return_trip = no
			players_use_planner = no
			on_arrival_event = bountig_event_chain.0012
			on_arrival_destinations = all
		}
		hidden_effect = { fill_provisions_effect = yes }
	}

	option = { #Decide to end story line, stay in Rhun
		name = bountig_event_chain.0005.b
		custom_tooltip = bountig_event_chain.0005.b.tt

		trigger = {
			scope:attacker = {
				any_held_county = { count > 1 }
			}
		}
		random_owned_story = {
			limit = { story_type = story_cycle_bountig_medlokan }
			end_story = yes
		}
		scope:attacker = {
			random_held_county = {
				limit = { NOT = { this = scope:attacker.capital_county } }
				save_scope_as = handed_out_county
			}
		}
		create_title_and_vassal_change = {
			type = granted
			save_scope_as = change
			add_claim_on_loss = no
		}
		scope:handed_out_county = {
			change_title_holder = {
				holder = root
				change = scope:change
			}
		}
		resolve_title_and_vassal_change = scope:change

		create_title_and_vassal_change = {
			type = swear_fealty
			save_scope_as = change
			add_claim_on_loss = no
		}
		change_liege = {
			liege = scope:attacker
			change = scope:change
		}
		resolve_title_and_vassal_change = scope:change
	}
}

bountig_event_chain.0010 = { # Eastern Rohan vassals get opportunity to join war
	content_source = realms_dlc
	type = character_event
	title = bountig_event_chain.0010.t
	desc = bountig_event_chain.0010.desc
	theme = martial
	
	right_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = {
		any_held_county = {
			any_neighboring_county = {
				exists = holder
				OR = {
					holder = { is_wastelands = yes }
					holder = { faith_is_good = no }
				}
			}
		}
	}
	
	option = {
		name = bountig_event_chain.0010.a
		trigger = {
			NOT = {
				any_character_war = {
					is_defender = scope:war_target
					is_attacker = root
				}
			}
		}

		if = {
			limit = {
				NOT = { any_character_war = { this = scope:story_war } }
			}
			scope:story_war = { add_defender = root }
		}
		ai_chance = {
 			base = 90
			ai_value_modifier = {
				ai_boldness = 0.5
			}
 			modifier = {
 				add = 100
 				OR = {
 					has_trait = ambitious
					has_trait = honest
 				}
 			}
			modifier = {
				factor = 0.5
				OR = {
					has_any_bad_relationship_with_character_trigger = { CHARACTER = scope:war_target }
				}
			}
		}
	}

	option = {
		name = bountig_event_chain.0010.b
		
		ai_chance = {
 			base = 0
 			modifier = {
 				add = 100
 				has_trait = craven
 			}
		}
	}
}

bountig_event_chain.0011 = { #Bountig is forced to travel southwards
	content_source = realms_dlc
	type = character_event
	title = bountig_event_chain.0011.t
	desc = bountig_event_chain.0011.desc
	theme = martial
	
	right_portrait = {
		character = root
		animation = personality_rational
	}

	immediate = { title:c_minas_tirith.empire.holder ?= { save_scope_as = gondor_ruler } }

	option = { # Travel with full domicile
		name = bountig_event_chain.0011.a
		set_variable = cannot_cancel_travel
		custom_tooltip = bountig_event_chain.0011.a.tt
		set_laamp_variables_for_contracts_to_spawn_effect = yes
		start_travel_plan = {
			destination = title:b_pelannor.title_province
			travel_with_domicile = yes
			return_trip = no
			players_use_planner = no
			on_arrival_event = bountig_event_chain.0012
			on_arrival_destinations = all
		}
		hidden_effect = { fill_provisions_effect = yes }
	}
}

bountig_event_chain.0012 = { #Bountig arrives in Minas Tirith
	content_source = realms_dlc
	type = character_event
	title = bountig_event_chain.0012.t
	desc = bountig_event_chain.0012.desc
	theme = martial
	
	right_portrait = {
		character = root
		animation = personality_rational
	}

	option = {
		name = bountig_event_chain.0012.a
		add_trait = bountig_story_trait
		custom_tooltip = bountig_event_chain.0012.a.tt.1
		custom_tooltip = bountig_event_chain.0012.a.tt.2
		custom_tooltip = bountig_event_chain.0012.a.tt.3
		remove_variable = cannot_cancel_travel
	}
}

bountig_event_chain.0013 = { #Generic Event for Bountig choosing to visit a special building in Gondor
	content_source = realms_dlc
	type = character_event
	title = bountig_event_chain.0013.t
	desc = bountig_event_chain.0013.desc
	theme = martial
	
	right_portrait = {
		character = root
		animation = personality_rational
	}

	option = {
		name = bountig_event_chain.0013.a
		custom_tooltip = bountig_event_chain.0013.a.tt
		set_variable = cannot_cancel_travel
		location = { save_scope_as = curr_domicile_location }
		start_travel_plan = {
			destination = root.var:gondor_target_province
			travel_with_domicile = no
			return_trip = yes
			players_use_planner = no
			on_arrival_event = bountig_event_chain.0014
			on_arrival_destinations = all_but_last
		}
	}
}

bountig_event_chain.0014 = { #Arrives in a Gondor city
	content_source = realms_dlc
	type = character_event
	theme = martial
	title = {
		first_valid = {
			triggered_desc = { #Minas Tirith
				trigger = { location = title:c_minas_tirith.title_province }
				desc =  bountig_event_chain.0014.t_minas_tirith
			}
			triggered_desc = { #Dol Amroth
				trigger = { location = title:c_dol_amroth.title_province }
				desc =  bountig_event_chain.0014.t_dol_amroth
			}
			triggered_desc = { #Pelargir
				trigger = { location = title:c_pelargir.title_province }
				desc =  bountig_event_chain.0014.t_pelargir
			}
			triggered_desc = { #Linhir
				trigger = { location = title:c_linhir.title_province }
				desc =  bountig_event_chain.0014.t_linhir
			}
			triggered_desc = { #Serelond
				trigger = { location = title:c_serelond.title_province }
				desc =  bountig_event_chain.0014.t_serelond
			}
			triggered_desc = { #Cair Andros
				trigger = { location = title:c_aranelaith.title_province }
				desc =  bountig_event_chain.0014.t_cair_andros
			}
			triggered_desc = { #Hyarpendë
				trigger = { location = title:c_alagdor.title_province }
				desc =  bountig_event_chain.0014.t_hyarpende
			}
			triggered_desc = { #Edhellond
				trigger = { location = title:c_edhellond.title_province }
				desc =  bountig_event_chain.0014.t_edhellond
			}
		}
	}
	desc = {
		first_valid = {
			triggered_desc = { #Minas Tirith
				trigger = { location = title:c_minas_tirith.title_province }
				desc =  bountig_event_chain.0014.desc_minas_tirith
			}
			triggered_desc = { #Dol Amroth
				trigger = { location = title:c_dol_amroth.title_province }
				desc =  bountig_event_chain.0014.desc_dol_amroth
			}
			triggered_desc = { #Pelargir
				trigger = { location = title:c_pelargir.title_province }
				desc =  bountig_event_chain.0014.desc_pelargir
			}
			triggered_desc = { #Linhir
				trigger = { location = title:c_linhir.title_province }
				desc =  bountig_event_chain.0014.desc_linhir
			}
			triggered_desc = { #Serelond
				trigger = { location = title:c_serelond.title_province }
				desc =  bountig_event_chain.0014.desc_serelond
			}
			triggered_desc = { #Cair Andros
				trigger = { location = title:c_aranelaith.title_province }
				desc =  bountig_event_chain.0014.desc_cair_andros
			}
			triggered_desc = { #Hyarpendë
				trigger = { location = title:c_alagdor.title_province }
				desc =  bountig_event_chain.0014.desc_hyarpende
			}
			triggered_desc = { #Edhellond
				trigger = { location = title:c_edhellond.title_province }
				desc =  bountig_event_chain.0014.desc_edhellond
			}
		}
	}
	override_background = { #Minas Tirith
        trigger = { location = title:c_minas_tirith.title_province }
        reference = minas_tirith
    }
	override_background = { #Dol Amroth
        trigger = { location = title:c_dol_amroth.title_province }
        reference = dol_amroth
    }
	override_background = { #Pelargir/Serelond/Hyarpende
        trigger = {
			OR = {
				location = title:c_alagdor.title_province
				location = title:c_pelargir.title_province
				location = title:c_serelond.title_province
			}
		}
        reference = docks_dunedain
    }
	override_background = { #Linhir
        trigger = { location = title:c_linhir.title_province }
		reference = market_dunedain
	}
	override_background = { #Cair Andros
        trigger = { location = title:c_aranelaith.title_province }
		reference = on_river
	}
	override_background = { #Edhellond
        trigger = { location = title:c_edhellond.title_province }
		reference = fornost
	}
	
	right_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = { location = scope:employer.capital_province }

	option = {
		
		name = {
			text = {
				first_valid = {
					triggered_desc = { #Minas Tirith
						trigger = { location = title:c_minas_tirith.title_province }
						desc =  bountig_event_chain.0014.a_minas_tirith
					}
					triggered_desc = { #Dol Amroth
						trigger = { location = title:c_dol_amroth.title_province }
						desc =  bountig_event_chain.0014.a_dol_amroth
					}
					triggered_desc = { #Pelargir
						trigger = { location = title:c_pelargir.title_province }
						desc =  bountig_event_chain.0014.a_pelargir
					}
					triggered_desc = { #Linhir
						trigger = { location = title:c_linhir.title_province }
						desc =  bountig_event_chain.0014.a_linhir
					}
					triggered_desc = { #Serelond
						trigger = { location = title:c_serelond.title_province }
						desc =  bountig_event_chain.0014.a_serelond
					}
					triggered_desc = { #Cair Andros
						trigger = { location = title:c_aranelaith.title_province }
						desc =  bountig_event_chain.0014.a_cair_andros
					}
					triggered_desc = { #Hyarpendë
						trigger = { location = title:c_alagdor.title_province }
						desc =  bountig_event_chain.0014.a_hyarpende
					}
					triggered_desc = { #Edhellond
						trigger = { location = title:c_edhellond.title_province }
						desc =  bountig_event_chain.0014.a_edhellond
					}
				}
			}
		}
		custom_tooltip = bountig_event_chain.0014.a.tt
		remove_variable = cannot_cancel_travel
		visiting_lore_city_reward_effect = yes
		random_character_active_contract = {
			limit = { has_task_contract_type = lotr_bountig_story_gondor_cities }
			complete_task_contract = success_standard
		}
	}
}

bountig_event_chain.0020 = { #Bountig heads for Amrun
	content_source = realms_dlc
	type = character_event
	title = bountig_event_chain.0020.t
	desc = bountig_event_chain.0020.desc
	theme = martial
	
	right_portrait = {
		character = root
		animation = personality_rational
	}

	option = { #Head for Amrun
		name = bountig_event_chain.0020.a
		set_variable = cannot_cancel_travel
		custom_tooltip = bountig_event_chain.0020.a.tt
		start_travel_plan = {
			destination = title:c_harnen.title_province
			travel_with_domicile = yes
			return_trip = no
			players_use_planner = no
			on_arrival_event = bountig_event_chain.0021
			on_arrival_destinations = all
		}
		every_task_contract = {
			limit = { has_task_contract_type = lotr_bountig_story_gondor_cities }
			complete_task_contract = failure_standard
		}
		hidden_effect = { fill_provisions_effect = yes }
	}

	option = { #Stay in Gondor a while longer
		name = bountig_event_chain.0020.b
		custom_tooltip = bountig_event_chain.0020.b.tt
		if = { #Allow contract to be re-generated on Amrun
			limit = {
				is_target_in_variable_list = {
					name = harwan_cities_visited
					target = title:c_amrun.title_province
				}
			}
			remove_list_variable = {
				name = harwan_cities_visited
				target = title:c_amrun.title_province
			}
		}
		every_character_active_contract = {
			limit = { has_task_contract_type = lotr_bountig_story_harwan_cities }
			invalidate_contract = yes
		}
	}
}

bountig_event_chain.0021 = { #Bountig arrives in Amrun
	content_source = realms_dlc
	type = character_event
	title = bountig_event_chain.0021.t
	desc = bountig_event_chain.0021.desc
	theme = martial
	
	right_portrait = {
		character = root
		animation = personality_rational
	}

	option = {
		name = bountig_event_chain.0021.a
		remove_variable = cannot_cancel_travel
		random_character_active_contract = {
			limit = { has_task_contract_type = lotr_bountig_story_harwan_cities }
			complete_task_contract = success_standard
		}
	}
}

bountig_event_chain.0022 = { #Generic Event for Bountig choosing to visit a special building in Harwan
	content_source = realms_dlc
	type = character_event
	title = bountig_event_chain.0022.t
	desc = bountig_event_chain.0022.desc
	theme = martial
	
	right_portrait = {
		character = root
		animation = personality_rational
	}

	option = {
		name = bountig_event_chain.0022.a
		custom_tooltip = bountig_event_chain.0022.a.tt
		set_variable = cannot_cancel_travel
		location = { save_scope_as = curr_domicile_location }
		start_travel_plan = {
			destination = var:harwan_target_province
			travel_with_domicile = no
			return_trip = yes
			players_use_planner = no
			on_arrival_event = bountig_event_chain.0023
			on_arrival_destinations = all_but_last
		}
	}
}

bountig_event_chain.0023 = { #Arrives in a Harwan city
	content_source = realms_dlc
	type = character_event
	title = bountig_event_chain.0023.t
	desc = bountig_event_chain.0023.desc
	theme = martial
	
	right_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = { location = scope:employer.capital_province }

	option = {
		name = bountig_event_chain.0023.a
		custom_tooltip = bountig_event_chain.0023.a.tt
		remove_variable = cannot_cancel_travel
		visiting_lore_city_reward_effect = yes
		random_character_active_contract = {
			limit = { has_task_contract_type = lotr_bountig_story_harwan_cities }
			complete_task_contract = success_standard
		}
	}
}

bountig_event_chain.0030 = { #Bountig heads for Umbar
	content_source = realms_dlc
	type = character_event
	title = bountig_event_chain.0030.t
	desc = bountig_event_chain.0030.desc
	theme = martial
	
	right_portrait = {
		character = root
		animation = personality_rational
	}

	option = { #Head for Umbar
		name = bountig_event_chain.0030.a
		set_variable = cannot_cancel_travel
		custom_tooltip = bountig_event_chain.0030.a.tt
		start_travel_plan = {
			destination = title:b_minasthalion.title_province
			travel_with_domicile = yes
			return_trip = no
			players_use_planner = no
			on_arrival_event = bountig_event_chain.0031
			on_arrival_destinations = all
		}

		every_task_contract = {
			limit = { has_task_contract_type = lotr_bountig_story_harwan_cities }
			complete_task_contract = failure_standard
		}
		hidden_effect = { fill_provisions_effect = yes }
	}

	option = { #Stay in Harwan a while longer
		name = bountig_event_chain.0030.b
		custom_tooltip = bountig_event_chain.0030.b.tt
		if = { #Allow contract to be re-generated on Umbar
			limit = {
				is_target_in_variable_list = {
					name = umbar_cities_visited
					target = title:c_umbar.title_province
				}
			}
			remove_list_variable = { name = umbar_cities_visited target = title:c_umbar.title_province }
		}
		every_character_active_contract = {
			limit = { has_task_contract_type = lotr_bountig_story_umbar_cities }
			invalidate_contract = yes
		}
	}
}

bountig_event_chain.0031 = { #Bountig arrives in Umbar
	content_source = realms_dlc
	type = character_event
	title = bountig_event_chain.0031.t
	desc = bountig_event_chain.0031.desc
	theme = martial
	
	right_portrait = {
		character = root
		animation = personality_rational
	}

	option = {
		name = bountig_event_chain.0031.a
		remove_variable = cannot_cancel_travel
		random_character_active_contract = {
			limit = { has_task_contract_type = lotr_bountig_story_umbar_cities }
			complete_task_contract = success_standard
		}
	}
}

bountig_event_chain.0032 = { #Generic Event for Bountig choosing to visit a special building in Umbar
	content_source = realms_dlc
	type = character_event
	title = bountig_event_chain.0032.t
	desc = bountig_event_chain.0032.desc
	theme = martial
	
	right_portrait = {
		character = root
		animation = personality_rational
	}

	option = {
		name = bountig_event_chain.0032.a
		custom_tooltip = bountig_event_chain.0032.a.tt
		set_variable = cannot_cancel_travel
		location = { save_scope_as = curr_domicile_location }
		start_travel_plan = {
			destination = var:umbar_target_province
			travel_with_domicile = no
			return_trip = yes
			players_use_planner = no
			on_arrival_event = bountig_event_chain.0033
			on_arrival_destinations = all_but_last
		}
	}
}

bountig_event_chain.0033 = { #Arrives in a Umbar city
	content_source = realms_dlc
	type = character_event
	title = bountig_event_chain.0033.t
	desc = bountig_event_chain.0033.desc
	theme = martial
	
	right_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = { location = scope:employer.capital_province }

	option = {
		name = bountig_event_chain.0033.a
		custom_tooltip = bountig_event_chain.0033.a.tt
		remove_variable = cannot_cancel_travel
		visiting_lore_city_reward_effect = yes
		random_character_active_contract = {
			limit = { has_task_contract_type = lotr_bountig_story_umbar_cities }
			complete_task_contract = success_standard
		}
	}
}

bountig_event_chain.0040 = { #Bountig arrives in Mistrand
	content_source = realms_dlc
	type = character_event
	title = bountig_event_chain.0040.t
	desc = bountig_event_chain.0040.desc
	theme = martial
	
	right_portrait = {
		character = root
		animation = personality_rational
	}

	option = { #Head for Umbar
		name = bountig_event_chain.0040.a
		remove_variable = cannot_cancel_travel
		custom_tooltip = bountig_event_chain.0040.a.tt
		every_task_contract = {
			limit = {
				OR = {
					has_task_contract_type = lotr_bountig_story_gondor_cities
					has_task_contract_type = lotr_bountig_story_harwan_cities
					has_task_contract_type = lotr_bountig_story_umbar_cities
				}
			}
			complete_task_contract = failure_standard
		}
	}
}

bountig_event_chain.0050 = {
	content_source = realms_dlc
	type = character_event
	title = bountig_event_chain.0050.t
	desc = bountig_event_chain.0050.desc
	theme = martial
	
	right_portrait = {
		character = root
		animation = personality_rational
	}
	 
	trigger = {
		has_variable = selected_character
		location.county.holder = var:selected_character
	}

	immediate = {
		title:c_ubesesh.holder.top_liege = { trigger_event = bountig_event_chain.5000 } #Triggers Khand uniting
	}

	option = {
		name = bountig_event_chain.0050.a
		# trigger = { var:selected_character = { has_trait = education_diplomacy } } #Diplomacy
		
		start_scheme = {
			type = lotr_laamp_4001_contract_scheme
			target_character = var:selected_character
		}
		duel = {
			skill = diplomacy
			value = high_skill_rating
			10 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3.5
					min = 2
				}
				desc = bountig_event_chain.0050.a.duel_win
				send_interface_toast = {
					type = event_toast_effect_good
					title = bountig_event_chain.0050.a.duel_win_effect
				}
			}
			10 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3.5
					min = 2
				}
				desc = bountig_event_chain.0050.a.duel_fail
				send_interface_toast = {
					type = event_toast_effect_bad
					title = bountig_event_chain.0050.a.duel_fail_effect
				}
			}
		}
	}
	option = {
		name = bountig_event_chain.0050.b
		trigger = { var:selected_character = { has_trait = education_martial } } #Martial
		duel = {
			skill = martial
			value = high_skill_rating
			10 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3.5
					min = 2
				}
				desc = bountig_event_chain.0050.a.duel_win
				send_interface_toast = {
					type = event_toast_effect_good
					title = bountig_event_chain.0050.a.duel_win_effect
				}
			}
			10 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3.5
					min = 2
				}
				desc = bountig_event_chain.0050.a.duel_fail
				send_interface_toast = {
					type = event_toast_effect_bad
					title = bountig_event_chain.0050.a.duel_fail_effect
				}
			}
		}
	}
	option = {
		name = bountig_event_chain.0050.c
		trigger = { var:selected_character = { has_trait = education_learning } } #Learning
		duel = {
			skill = learning
			value = high_skill_rating
			10 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3.5
					min = 2
				}
				desc = bountig_event_chain.0050.a.duel_win
				send_interface_toast = {
					type = event_toast_effect_good
					title = bountig_event_chain.0050.a.duel_win_effect
				}
			}
			10 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3.5
					min = 2
				}
				desc = bountig_event_chain.0050.a.duel_fail
				send_interface_toast = {
					type = event_toast_effect_bad
					title = bountig_event_chain.0050.a.duel_fail_effect
				}
			}
		}
	}
	option = {
		name = bountig_event_chain.0050.d
		trigger = { var:selected_character = { has_trait = education_intrigue } } #Intrigue
		duel = {
			skill = intrigue
			value = high_skill_rating
			10 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3.5
					min = 2
				}
				desc = bountig_event_chain.0050.a.duel_win
				send_interface_toast = {
					type = event_toast_effect_good
					title = bountig_event_chain.0050.a.duel_win_effect
				}
			}
			10 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3.5
					min = 2
				}
				desc = bountig_event_chain.0050.a.duel_fail
				send_interface_toast = {
					type = event_toast_effect_bad
					title = bountig_event_chain.0050.a.duel_fail_effect
				}
			}
		}
	}
	option = {
		name = bountig_event_chain.0050.e
		trigger = { var:selected_character = { has_trait = education_stewardship } } #Stewardship
		duel = {
			skill = stewardship
			value = high_skill_rating
			10 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3.5
					min = 2
				}
				desc = bountig_event_chain.0050.a.duel_win
				send_interface_toast = {
					type = event_toast_effect_good
					title = bountig_event_chain.0050.a.duel_win_effect
				}
			}
			10 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3.5
					min = 2
				}
				desc = bountig_event_chain.0050.a.duel_fail
				send_interface_toast = {
					type = event_toast_effect_bad
					title = bountig_event_chain.0050.a.duel_fail_effect
				}
			}
		}
	}

}

bountig_event_chain.4000 = {
	hidden = yes

	trigger = {
		var:contract_passive_spawn_location ?= location.empire
		trigger_if = {
			limit = { has_variable = contract_passive_spawn_tally }
			var:contract_passive_spawn_tally < 3
		}
		# Make sure we don't do this if we've got lots of contracts already spawned here.
		any_character_task_contract = {
			count <= 4
			task_contract_location = {
				"squared_distance(root.location)" <= squared_distance_medium
			}
		}
	}

	on_trigger_fail = {
		if = {
			limit = { var:contract_passive_spawn_location ?= location.empire }
			trigger_event = {
				id = bountig_event_chain.4000
				months = { 8 12 }
			}
		}
	}

	immediate = {
		# spawn a contract
		contract_passive_spawn_effect = {
			SPAWN_CONTRACTS = 1
		}
		# And fire us again in a bit.
		if = {
			limit = { 
				var:contract_passive_spawn_tally < 2
			}
			trigger_event = {
				id = bountig_event_chain.4000
				months = 1
			}
		}
		else = {
			trigger_event = {
				id = bountig_event_chain.4000
				months = 2
			}
		}
	}
}

bountig_event_chain.4010 = {
	hidden = yes

	immediate = { fill_provisions_effect = yes }
}

#############################
### KHAND & OVATHA EVENTS ###
#############################

# Check if Bountig is alive and has returned to Mistrand
bountig_event_chain.5000 = {  
	hidden = yes #Triggered by Bountig's return to Rhûn
	immediate = {
		if = {
			limit = {
				character:bountigmedlokan = { # Bountig
					is_alive = yes
				}
			}
			character:bountigmedlokan = { save_scope_as = bountigmedlokan }
		}
		
		title:c_ubesesh.holder.top_liege = { # Make sure this is Ovatha!
			trigger_event = bountig_event_chain.5001 
		}
	}
}

# Receive news of a rhunnic adventurer on the rise, serving as an important advisor to the quarreling easterlings
bountig_event_chain.5001 = {
	content_source = realms_dlc
	type = character_event
	title = bountig_event_chain.5001.t
	desc = bountig_event_chain.5001.desc
	theme = diplomacy_foreign_affairs_focus
	override_background = {
		reference = council_chamber
	}
	
	left_portrait = {
		character = root
		animation = personality_rational
	}

	option = { # Let us investigate this new threat
		name = bountig_event_chain.5001.a
		custom_tooltip = bountig_event_chain.5001.a.tt # Send spies to Mistrand
		remove_short_term_gold = tiny_gold_value
		trigger_event = {
			id = bountig_event_chain.5002
			days = { 60 90 }
		}
		ai_chance = { base = 100 }
	}
	
	option = { # I'll ignore this fool.
		name = bountig_event_chain.5001.b
		custom_tooltip = bountig_event_chain.5001.b.tt # Do nothing
		# Trigger the next event once Bountig unites Rhûn
	}
}

# Spies return from Mistrand with more details
bountig_event_chain.5002 = {
	content_source = realms_dlc
	type = character_event
	title = bountig_event_chain.5002.t
	desc = bountig_event_chain.5002.desc
	theme = diplomacy_foreign_affairs_focus
	override_background = {
		reference = council_chamber
	}
	
	left_portrait = {
		character = root
		animation = worry
	}
	
	right_portrait = {
		character = scope:bountigmedlokan
		animation = marshal_shield
	}

	option = { # It is time to unite
		name = bountig_event_chain.5002.a
		custom_tooltip = bountig_event_chain.5002.a.tt # Unlock the decision to unite Upper Khand
		add_character_flag = { flag = ovatha_unite_upper_khand }
	}
}

# Uniting the Kingdom of Upper Khand (triggered by decision)
bountig_event_chain.5003 = {
	content_source = realms_dlc
	type = character_event
	title = bountig_event_chain.5003.t
	desc = bountig_event_chain.5003.desc
	theme = realm
	override_background = {
		reference = throne_room
	}
	
	left_portrait = {
		character = root
		animation = personality_bold
	}
	
	lower_right_portrait = {
		character = scope:bountigmedlokan
		animation = marshal_shield
	}
	
	immediate = {
		character:bountigmedlokan = { save_scope_as = bountigmedlokan }
		show_as_tooltip = {
			get_title = title:k_upper_khand
		}
	}

	option = { # Let the Lords of Upper Khand bend the knee before me!
		name = bountig_event_chain.5003.a
		custom_tooltip = bountig_event_chain.5003.a.tt
		title:k_upper_khand = {
			every_de_jure_county_holder = {
            	limit = {
					is_independent_ruler = yes
					is_landed = yes
					NOT = { is_orc = yes }
				}
				trigger_event = {
					id = bountig_event_chain.5004
					days = { 2 7 }
				}
			}
		}
	}
	after = { # TEMPORARY ~~ FOR TESTING PURPOSES ONLY
		scope:bountigmedlokan = {
			get_title = title:c_mistrand
			get_title = title:d_medloshad
			get_title = title:k_usrievar
			get_title = title:e_golden_realm_rhun
			destroy_title = title:d_laamp_bountig
		}
		title:e_rhun = {
			every_de_jure_county_holder = {
            	limit = {
					is_independent_ruler = yes
					is_landed = yes
					NOT = { is_orc = yes }
					NOT = { is_elf = yes }
					NOT = { has_title = title:k_wastelands }
				}
				create_title_and_vassal_change = {
					type = swear_fealty
					save_scope_as = change
					add_claim_on_loss = no
				}
				change_liege = {
					liege = scope:bountigmedlokan
					change = scope:change
				}
				resolve_title_and_vassal_change = scope:change
			}
		}
		title:k_south_rhovanion = {
			every_de_jure_county_holder = {
            	limit = {
					is_independent_ruler = yes
					is_landed = yes
					NOT = { is_orc = yes }
					NOT = { is_elf = yes }
					NOT = { has_title = title:k_wastelands }
				}
				create_title_and_vassal_change = {
					type = swear_fealty
					save_scope_as = change
					add_claim_on_loss = no
				}
				change_liege = {
					liege = scope:bountigmedlokan
					change = scope:change
				}
				resolve_title_and_vassal_change = scope:change
			}
		}
		title:k_upper_khand.holder = {
			trigger_event = {
				id = bountig_event_chain.5007
				days = 20 
			}
		}
	}		
}

bountig_event_chain.5004 = { # Receive the order to submit to Ovatha
	type = letter_event
	sender = scope:sender
	opening = bountig_event_chain.5004.opening
	desc = bountig_event_chain.5004.desc

	trigger = {
		NOT = { is_at_war_with = title:k_upper_khand.holder }
		NOT = { root = title:k_upper_khand.holder }
		NOT = { is_vassal_or_below_of = title:k_upper_khand.holder }
	}

	on_trigger_fail = { #Trigger invitation again if it was blocked because the character was handling another invitation
		trigger_event = {
			id = bountig_event_chain.5004
			days = 1
		}
	}

	immediate = {
		title:k_upper_khand.holder = {
			save_scope_as = sender
		}
		ROOT = {
			save_scope_as = recipient
		}
	}

	option = { # It would be best to submit...
		name = bountig_event_chain.5004.a 
		show_as_tooltip = {
			create_title_and_vassal_change = {
				type = swear_fealty
				save_scope_as = change
				add_claim_on_loss = no
			}
			change_liege = {
				liege = scope:sender
				change = scope:change
			}
			resolve_title_and_vassal_change = scope:change
		}
		hidden_effect = {
			scope:sender = { trigger_event = bountig_event_chain.5005 }
		}

		ai_chance = { # Canonically they do bend the knee out of fear 
			base = 100
		}
	}

	option = { # I will remain independent
		name = bountig_event_chain.5004.b
		trigger = { is_ai = no }
		show_as_tooltip = {
			if = {
				limit = {
					scope:recipient.primary_title.kingdom ?= title:k_upper_khand
				}
				scope:sender = {
					add_unpressed_claim = scope:recipient.primary_title
				}
			}
			add_prestige = medium_prestige_gain
		}
		hidden_effect = {
			scope:sender = { trigger_event = bountig_event_chain.5006 }
		}
	}
}

bountig_event_chain.5005 = { # Subjugation accepted
	type = letter_event
	opening = bountig_event_chain.5005.opening
	desc = bountig_event_chain.5005.desc
	sender = scope:recipient

	immediate = {
		scope:recipient = {
			create_title_and_vassal_change = {
				type = swear_fealty
				save_scope_as = change
				add_claim_on_loss = no
			}
			change_liege = {
				liege = scope:sender
				change = scope:change
			}
			resolve_title_and_vassal_change = scope:change
		}
	}

	option = { # Wise choice
		name = bountig_event_chain.5005.a
	}
}

bountig_event_chain.5006 = { # Subjugation refused
	type = letter_event
	opening = bountig_event_chain.5006.opening
	desc = bountig_event_chain.5006.desc
	sender = {
		character = scope:recipient
		animation = personality_bold
	}

	immediate = {
		if = {
			limit = {
				scope:recipient.primary_title.kingdom ?= title:k_upper_khand
			}
			scope:sender = {
				add_unpressed_claim = scope:recipient.primary_title
			}
		}
		scope:recipient = { add_prestige = 75 }
	}

	option = { # I must use force...
		name = bountig_event_chain.5006.a
		start_war = {
			casus_belli = claim_cb
			target = scope:recipient
			claimant = root
			target_title = scope:recipient.primary_title
		}
		ai_chance = {
			base = 100 
		}
	}
	
	option =  { # I'll ignore them
		name = bountig_event_chain.5006.b 
		add_pressed_claim = scope:recipient.primary_title
	}
}

# Second phase of Ovatha events ~ triggered when Bountig starts to unite Rhûn
bountig_event_chain.5007 = { # Our fears have come to pass
	content_source = realms_dlc
	type = character_event
	title = bountig_event_chain.5007.t
	desc = bountig_event_chain.5007.desc
	theme = martial
	override_background = {
		reference = throne_room
	}
	left_portrait = {
		character = root
		animation = worry
	}
	right_portrait = {
		character = scope:bountigmedlokan
		animation = marshal_shield
	}
	immediate = {
		character:bountigmedlokan = { save_scope_as = bountigmedlokan }
	}
	option = { # We have to unite ALL of Khand under a single banner
		name = bountig_event_chain.5007.a
		custom_tooltip = bountig_event_chain.5007.a.tt 
		add_character_flag = ovatha_unite_empire_khand
		ai_chance = { base = 100 }
	}
	# option = { # We don't have to worry about him
		# name = bountig_event_chain.5007.b 
		# custom_tooltip = bountig_event_chain.5007.b.tt 
	# }
}

bountig_event_chain.5008 = { # I am Ovatha reborn!
	content_source = realms_dlc
	type = character_event
	title = bountig_event_chain.5008.t
	desc = bountig_event_chain.5008.desc
	theme = realm
	window = visit_settlement_window
	override_background = {
		reference = throne_room
	}
	left_portrait = {
		character = root
		animation = celebrate_sword
	}
	override_effect_2d = {
		reference = rain
	}
	immediate = {
		show_as_tooltip = {
			get_title = title:e_khand
			change_first_name = O_O_vatha
			give_nickname = nick_the_uniter_khand
		}
		add_prestige = major_prestige_gain
		title:e_khand.holder = { # Get your bling chair
			create_artifact_throne_ovatha_effect = { OWNER = this }
		}
		character:bountigmedlokan = { save_scope_as = bountigmedlokan }
	}
	option = { # Let all of Khand bow before me!
		name = bountig_event_chain.5008.a
		custom_tooltip = bountig_event_chain.5008.a.tt
		title:e_khand = {
			every_de_jure_county_holder = {
            	limit = {
					is_independent_ruler = yes
					is_landed = yes
					NOT = { is_orc = yes }
				}
				trigger_event = {
					id = bountig_event_chain.5009
					days = { 2 7 }
				}
			}
		}
	}
	after = {
		add_character_flag = ovatha_ready_for_war 
	}
}

bountig_event_chain.5009 = { # All khandish rulers receive Ovatha's demand
	type = letter_event
	sender = scope:sender
	opening = bountig_event_chain.5009.opening
	desc = bountig_event_chain.5009.desc

	trigger = {
		NOT = { is_at_war_with = title:e_khand.holder }
		NOT = { root = title:e_khand.holder }
		NOT = { is_vassal_or_below_of = title:e_khand.holder }
	}

	on_trigger_fail = { #Trigger invitation again if it was blocked because the character was handling another invitation
		trigger_event = {
			id = bountig_event_chain.5009
			days = 1
		}
	}

	immediate = {
		title:e_khand.holder = {
			save_scope_as = sender
		}
		ROOT = {
			save_scope_as = recipient
		}
	}

	option = { # It would be best to submit...
		name = bountig_event_chain.5009.a 
		show_as_tooltip = {
			create_title_and_vassal_change = {
				type = swear_fealty
				save_scope_as = change
				add_claim_on_loss = no
			}
			change_liege = {
				liege = scope:sender
				change = scope:change
			}
			resolve_title_and_vassal_change = scope:change
		}
		hidden_effect = {
			scope:sender = { trigger_event = bountig_event_chain.5010 }
		}

		ai_chance = { # Canonically they do bend the knee out of fear 
			base = 100
		}
	}

	option = { # I will remain independent
		name = bountig_event_chain.5009.b
		trigger = { is_ai = no }
		show_as_tooltip = {
			if = {
				limit = {
					scope:recipient.primary_title.kingdom ?= title:e_khand
				}
				scope:sender = {
					add_unpressed_claim = scope:recipient.primary_title
				}
			}
			add_prestige = medium_prestige_gain
		}
		hidden_effect = {
			scope:sender = { trigger_event = bountig_event_chain.5011 }
		}
	}
}

bountig_event_chain.5010 = { # Subjugation accepted
	type = letter_event
	opening = bountig_event_chain.5010.opening
	desc = bountig_event_chain.5010.desc
	sender = scope:recipient

	immediate = {
		scope:recipient = {
			create_title_and_vassal_change = {
				type = swear_fealty
				save_scope_as = change
				add_claim_on_loss = no
			}
			change_liege = {
				liege = scope:sender
				change = scope:change
			}
			resolve_title_and_vassal_change = scope:change
		}
	}

	option = { # Wise choice
		name = bountig_event_chain.5010.a
	}
}

bountig_event_chain.5011 = { # Subjugation refused
	type = letter_event
	opening = bountig_event_chain.5011.opening
	desc = bountig_event_chain.5011.desc
	sender = {
		character = scope:recipient
		animation = personality_bold
	}

	immediate = {
		if = {
			limit = {
				scope:recipient.primary_title.kingdom ?= title:e_khand
			}
			scope:sender = {
				add_unpressed_claim = scope:recipient.primary_title
			}
		}
		scope:recipient = { add_prestige = 75 }
	}

	option = { # I must use force...
		name = bountig_event_chain.5011.a
		start_war = {
			casus_belli = claim_cb
			target = scope:recipient
			claimant = root
			target_title = scope:recipient.primary_title
		}
		ai_chance = {
			base = 100 
		}
	}
	
	option =  { # I'll ignore them
		name = bountig_event_chain.5011.b 
		add_pressed_claim = scope:recipient.primary_title
	}
}

#Final event, triggered by decision ~ Go to war against Bountig
bountig_event_chain.5012 = { # We must strike now while they're still consolidating
	content_source = realms_dlc
	type = character_event
	title = bountig_event_chain.5012.t
	desc = bountig_event_chain.5012.desc
	theme = war
	override_background = {
		reference = battlefield
	}
	left_portrait = {
		character = root
		animation = war_attacker
	}
	right_portrait = {
		character = scope:bountigmedlokan
		animation = war_defender
	}
	immediate = { 
		character:bountigmedlokan = { save_scope_as = bountigmedlokan }
	}
	option = { # We must be as lions tearing their prey apart.
		name = bountig_event_chain.5012.a 
		start_war = {
			cb = invasion_war
			target = scope:bountigmedlokan
			target_title = title:e_golden_realm_rhun
		}
	}
}

### MANAGEMENT EVENTS ###

bountig_event_chain.9999 = {
	hidden = yes
	orphan = yes
	immediate = {
		random_character_active_contract = {
			limit = { has_task_contract_type = lotr_bountig_story_umbar_cities }
			complete_task_contract = success_standard
		}
	}
}