namespace = sirayn

#### Sirâyn Events 
# sirayn.0001 - 0100 	Khorahil Events 
# sirayn.1000 - 1200	Decision Events 
# sirayn.1500 - 1600	Radyani Events 

#######################
### Khorahil Events ###
#######################

sirayn.0001 = { #Khorahil enforcer decision choose event
	content_source = realms_dlc
	type = character_event
	title = sirayn.0001.t
	desc = sirayn.0001.desc
	theme = martial_authority_focus 
	left_portrait = {
		character = root
		animation = inspect_weapon
	}
	
	immediate = {

	}
	
	option = { #Choose Bulgans
		name = sirayn.0001.a
		add_character_modifier = {
			modifier = khorahil_bulgan_overseers
		}
		add_character_flag = khorahil_has_bulgans
		root = {
			create_maa_regiment = {
				type = bulgan_stormriders
				check_can_recruit = yes
				size = 2
			}
		}
		create_maa_regiment = {
			type = bulgan_enforcers
		 	check_can_recruit = yes
		 	size = 2
		}
		custom_tooltip = {
			text = sirayn.0001.a.effect
			every_sub_realm_county = {
				limit = {
					empire = title:e_sirayn
					tier = tier_county
				}
				add_county_modifier = {
					modifier = khorahil_bulgan_overseers_county_modifier
					years = 50
				}	
			}
		}
	}
	option = { #Choose Black Numenoreans
		name = sirayn.0001.b
		add_character_modifier = {
			modifier = khorahil_black_numenorean_overseers
		}
		add_character_flag = khorahil_has_black_numenoreans
		root = {
			create_maa_regiment = {
				type = zagar_an_adunai
				check_can_recruit = yes
				size = 2
			}
		}
		create_maa_regiment = {
			type = ephalzagar_an_adunai
		 	check_can_recruit = yes
		 	size = 2
		}
		custom_tooltip = {
			text = sirayn.0001.b.effect
			every_sub_realm_county = {
				limit = {
					empire = title:e_sirayn
					tier = tier_county
				}
				add_county_modifier = {
					modifier = khorahil_black_numenorean_overseers_county_modifier
					years = 50
				}	
			}
		}
	}
	option = { #Choose Orcs
		name = sirayn.0001.c
		add_character_modifier = {
			modifier = khorahil_orc_overseers
		}
		add_character_flag = khorahil_has_orcs
		root = {
			create_maa_regiment = {
				type = obsidian_warriors
				check_can_recruit = yes
				size = 2
			}
		}
		create_maa_regiment = {
			type = giant_spiders
		 	check_can_recruit = yes
		 	size = 2
		}
		custom_tooltip = {
			text = sirayn.0001.c.effect1
		}
		custom_tooltip = {
			text = sirayn.0001.c.effect2
		}
		custom_tooltip = {
			text = sirayn.0001.c.effect3
		}		
		
		hidden_effect = {
			create_title_and_vassal_change = {
				type = granted
				save_scope_as = change
				add_claim_on_loss = yes
			}
			every_sub_realm_county = {
				limit = {
					empire = title:e_sirayn
					tier = tier_county
				}
				if = {
					limit = {
						holder = { 
							is_ai = yes
							NOT = { is_orc = yes }
						}
					}
					create_title_and_vassal_change = {
						type = revoked
						save_scope_as = title_change
						add_claim_on_loss = no
					}
					change_title_holder = {
						holder = root
						change = scope:title_change
					}
					resolve_title_and_vassal_change = scope:title_change
					add_county_modifier = {
						modifier = orc_enslavement_free_folk_county_modifier
						years = 20
					}
					random = {
						chance = 20
						set_county_culture = culture:rukhashai
						set_county_faith = faith:volcano_cult
					}
				}
				if = {
					limit = {
						has_county_modifier = orc_enslavement_free_folk_county_modifier
					}
					save_scope_as = current_target_county
					create_character = {
						location = root.capital_province
						culture = culture:rukhashai
						faith = faith:volcano_cult
						gender = male
						age = { 30 150 }
						random_traits = yes
						save_scope_as = sirayn_orc
					}
					scope:current_target_county = {
						change_title_holder = {
							holder = scope:sirayn_orc
							change = scope:change
						}
					}
				}
			}
			resolve_title_and_vassal_change = scope:change
		}
	}
}

#####################
## Decision Events ##
#####################

sirayn.1001 = { #Bulgan Sikentr Empire decision event
	content_source = realms_dlc
	type = character_event
	title = sirayn.1001.t
	desc = sirayn.1001.desc
	theme = crown 
	left_portrait = {
		character = root
		animation = celebrate_sword
	}
	
	#right portrait Sikentr, when we have a history entry
	
	immediate = {

	}
	
	option = { #Yippee Yayy, we did it
		name = sirayn.1001.a
		
	}
}

sirayn.1002 = { #Bulgan Sikentr Empire- Expand Khy
	content_source = realms_dlc
	type = character_event
	title = sirayn.1002.t
	desc = sirayn.1002.desc
	theme = crown 
	left_portrait = {
		character = root
		animation = personality_bold
	}
	
	immediate = {

	}
	
	option = { #Yippee Yayy, we did it
		name = sirayn.1002.a
		
	}
}

sirayn.1003 = { #Bulgan Sikentr Empire- Expand Ray
	content_source = realms_dlc
	type = character_event
	title = sirayn.1003.t
	desc = sirayn.1003.desc
	theme = crown 
	left_portrait = {
		character = root
		animation = personality_bold
	}
	
	immediate = {

	}
	
	option = { #Yippee Yayy, we did it
		name = sirayn.1003.a
		
	}
}

sirayn.1004 = { #Powan Kingdom is formed
	content_source = realms_dlc
	type = character_event
	title = sirayn.1004.t
	desc = sirayn.1004.desc
	theme = crown 
	left_portrait = {
		character = root
		animation = personality_bold
	}
	
	option = { #Yippee Yayy, we did it
		name = sirayn.1004.a
		
	}
}

sirayn.1005 = { #Powan Kingdom prospers in its mercantile roots
	content_source = realms_dlc
	type = character_event
	title = sirayn.1005.t
	desc = sirayn.1005.desc
	theme = crown 
	left_portrait = {
		character = root
		animation = personality_bold
	}
	
	option = { #Yippee Yayy, we did it
		name = sirayn.1005.a
		give_nickname = nick_the_unifier
	}
}

####################
## Radyani Events ##
####################

sirayn.1600 = { # Lore dump event about Radyani
	content_source = realms_dlc
	type = character_event
	title = sirayn.1600.t
	desc = sirayn.1600.desc
	theme = crown 
	left_portrait = {
		character = root
		animation = personality_bold
	}
	
	option = { # I'll see Arien destroyed
		name = sirayn.1600.a
	}
}

sirayn.1601 = { # Arienists join the holy war
	content_source = realms_dlc
	type = character_event
	title = sirayn.1601.t
	desc = sirayn.1601.desc
	theme = war 
	left_portrait = {
		character = root
		animation = marshal_shield
	}
	
	immediate = {
		every_character_war = {
			limit = {
				using_cb = religious_war
			}
			save_scope_as = radyani_religious_war 
		}
		title:e_sirayn = {
			every_in_de_jure_hierarchy = {
				limit = {
					holder ?= {
						has_faith = faith:faith_arienism
						is_independent_ruler = yes
					}
					
				}
				this.holder = {
					add_to_list = radyani_defender_rulers 
				}
			}
		}
		every_in_list = {
			list = radyani_defender_rulers
			limit = {
				NOR = {
					is_defender_in_war = scope:radyani_religious_war
					is_at_war_with = title:k_isra.holder
					is_allied_to = title:k_isra.holder
					is_imprisoned_by = title:k_isra.holder
					is_independent_ruler = no
				}
			}
			scope:radyani_religious_war = {
				add_defender = prev
			}
		}
	}					

	option = { # Let them come!
		name = sirayn.1601.a
		add_piety = minor_piety_gain
	}
}

sirayn.1602 = { # Radyani wins her war
	content_source = realms_dlc
	type = character_event
	title = sirayn.1602.t
	desc = sirayn.1602.desc
	theme = crown 
	cooldown = {
		years = 200 
	}
	left_portrait = {
		character = root
		animation = celebrate_sword
	}
	
	option = { # Let's kick Arien out 
		name = sirayn.1602.a
		add_legitimacy = major_legitimacy_gain
	}
}
