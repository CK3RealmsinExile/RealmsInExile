namespace = wastelands

##########################################
#	wastelands.0001 - 1000 ==> Hidden Management Events
#
#	wastelands.1001 - 3000 ==> Blocker events
#		# Wolf Den Events:
#			wastelands.1001 - 1200 
#		# Bear Den Events:
#			wastelands.1201 - 1400 
#		# Spider Nest Events:
#			wastelands.1401 - 1600 
#		# Bandits Events:
#			wastelands.1601 - 1700
#		# Dense Growth Events:
#			wastelands.1701 - 1800
#		# Drakes Events:
#			wastelands.1801 - 1900
#		# Wild Orcs Events:
#			wastelands.1901 - 2000 
#		# Flooded Lands Events:
#			wastelands.2001 - 2100 
#		# Ghosts Events:
#			wastelands.2101 - 2200
#		# Collapsed Ceilings Events:
#			wastelands.2201 - 2400 
#		# Stale Air Events:
#			wastelands.2401 - 2600 
#		# Troll cave Events:
#			wastelands.2601 - 2800 
#		# Eregion ruin ghosts Events:
#			wastelands.2801 - 3000 
#		# Shadow of Mordor Events:
#			wastelands.3201 - 3300
#
##########################################

# Preventing raiding wastelands by creating a truce (taken from Vanilla)
# Called from army_on_actions.txt (on_raid_action_start)
# root is the raid army
# scope:raider is the person owning the raid army
# scope:barony is the barony title that got raided
# scope:county is the county title for the barony
wastelands.0001 = {
	hidden = yes
	scope = army

	trigger = {
		AND = {
			exists = scope:barony
		
			OR = {
				scope:barony.holder = {			
					has_culture = culture:wastelands
				}
				scope:barony.title_province ?= {			
					culture = culture:wastelands
				}
				scope:barony.county = {			
					culture = culture:wastelands
				}
			}		
		}
	}
	immediate = {
		debug_log = "Wastelands.0001: Preventing raiding..."
		scope:raider = {
			send_interface_toast = {	
				title = wastelands.0001.t
				left_icon = scope:raider
				custom_tooltip = wastelands.0001.desc			
			}
			add_truce_both_ways = {
				character = scope:county.holder.top_liege
				years = 10
				name = TRUCE_TRADE_DEAL
			}

			# Add some mutual opinion gain.
			reverse_add_opinion = {
				target = scope:county.holder.top_liege
				modifier = pleased_opinion
				opinion = 100
			}
		}		
	}	
}

# Preventing war
# attacker: attacking nation
# defender: defending nation
wastelands.0002 = {
	hidden = yes
	scope = army

	trigger = {		
		exists = scope:barony
		OR = {
			scope:barony.holder = {			
				has_culture = culture:wastelands
			}
			scope:barony.title_province ?= {			
				culture = culture:wastelands
			}
			scope:barony.county = {			
				culture = culture:wastelands
			}
		}		
	}
	immediate = {
		debug_log = "Wastelands.0002: Preventing war..."
		scope:attacker = {
				send_interface_toast = {	
					title = wastelands.0002.t
					left_icon = scope:attacker
					desc = wastelands.0002.desc					
				}
				add_truce_both_ways = {
					character = scope:defender
					years = 10
					name = TRUCE_TRADE_DEAL
				}

				# Add some mutual opinion gain.
				reverse_add_opinion = {
					target = scope:county.holder.top_liege
					modifier = pleased_opinion
					opinion = 100
				}
		}		
	}	
}

# Preventing prison
# Code on-action: character being imprisoned in root scope
# imprisoning character set as scope:imprisoner
wastelands.0003 = {
	hidden = yes
	scope = character

	trigger = {
		OR = {
			has_culture = culture:wastelands
			scope:imprisoner = {			
				has_culture = culture:wastelands		
			}		
		}		
	}
	immediate = {		
		debug_log = "Wastelands.0003: Preventing prison..."
		release_from_prison = yes	
	}	
}

# Called from courtier management after guest arrived
# root, scope:guest: the guest
# host: their host (owner of the court)
# characters: list of all characters moving together. Includes the root character.
wastelands.0005 = {
	hidden = yes
	scope = character	
	trigger = {
		culture = culture:wastelands
	}
	immediate = {
		# debug_log = "Wastelands.0005: A guest arrived from pool. Removing them."
		empty_wastelands_inhabitants_effect = yes
		empty_foreign_visitors_to_wastelands_effect = yes		
		# remove_traits_wastelands_effect = yes # Jamie-san: Don't see why we need to do this if we're killing them...
	}
}

## Called from yearly events to check if AI should colonise
## For human player version check scripted_guis/lotr_wastelands.txt -> gui_colonise
wastelands.0006 = {	
	hidden = yes
	scope = character	

	trigger = {
		###
		### Basic checks
		###
		is_ai = yes

		###
		### Culture/Character ID triggers
		###
		NOR = { #Stop Sauron colonising
			is_sauron = yes
			has_title = title:e_mordor
		}
		is_in_valinor = no
		NOT = { this = character:linesteward38 }
		NOT = { has_culture = culture:wastelands }

		###
		### Character Income Trigger
		###

		trigger_if = { # If count
			limit = { highest_held_title_tier = tier_county }
			gold >= 50
			monthly_character_income >= 2
		}
		trigger_else_if = { # If duke
			limit = { highest_held_title_tier = tier_duchy }
			gold >= 75
			monthly_character_income >= 1.75
		}
		trigger_else_if = { # If king
			limit = { highest_held_title_tier = tier_kingdom }
			gold >= 100
			monthly_character_income >= 1.75
		}
		trigger_else_if = { # If emporer
			limit = { highest_held_title_tier = tier_empire }
			gold >= 125
			monthly_character_income >= 1.5
		}
		trigger_else = { gold >= 150 } # Fallback

		###
		### Only surrounding lands
		###
		any_sub_realm_county = {
			any_title_to_title_neighboring_and_across_water_county = {
				culture = culture:wastelands
				NOT = { has_county_modifier = block_settlement_ability }
			}
		}


		###
		### Check whether the ruler is above their settlement limit
		###
		above_settlement_limit = no

		
		###
		### Check, dependent on game rules, who can colonize
		### 

		trigger_if = { #default game rules
			limit = { has_game_rule = default_colonisation_speed }
			OR = {
				dynasty = dynasty:dynasty_elendil # Can only start colonising after Aragorn returns
				dynasty = dynasty:dynasty_oropher # Can only start colonising after Aragorn returns
				culture = culture:woodmen # Can only start colonising after Aragorn returns
				culture = culture:valemen # Can only start colonising after Aragorn returns
				culture = { any_parent_culture_or_above = { this = culture:valemen } } # Can only start colonising after Aragorn returns
				culture = { any_parent_culture_or_above = { this = culture:woodmen } } # Can only start colonising after Aragorn returns
				is_nazgul = yes # Can colonise from the start
				is_dwarf = yes # Can colonise from the start
				is_orc = yes # Can colonise from the start
			}
			OR = {
				is_nazgul = yes # Can colonise from the start
				is_dwarf = yes # Can colonise from the start
				is_orc = yes # Can colonise from the start
				is_target_in_global_variable_list = {
					name = unavailable_unique_decisions
					target = flag:aragorn_returned_to_gondor
				}
			}
		}
		trigger_else = { always = yes } # if different game rule, anyone can colonize, just county picking logic is changed

	}
	immediate = {
		debug_log = "Wastelands.0006: AI considering colonization..."
		
		### MAKING LIST OF APPROPRIATE COUNTIES TO BE COLONISED PER GAME RULE ###
		if = { # GAME RULE --> default_colonisation_speed
			limit = { has_game_rule = default_colonisation_speed }
			### HUMAN ###
			if = { ## COUNTIES AVAILABLE FOR HUMAN AI ##
				limit = { 
					is_human = yes
					NOR = {
						culture = culture:woodmen # Can only start colonising after Aragorn returns
						culture = culture:valemen # Can only start colonising after Aragorn returns
					}
				} 
				debug_log = "Wastelands.0006: Humans List Made"
				every_sub_realm_county = {
					every_title_to_title_neighboring_and_across_water_county = {
						limit = {
							culture = culture:wastelands
							this = { save_temporary_scope_as = target }
							NOR = {
								has_county_modifier = elven_homeland_county_modifier
								has_county_modifier = block_settlement_ability
								holder = root
							}
							OR = {
								title:e_arnor = { is_de_jure_liege_or_above_target = scope:target }
								title:e_enedhwaith = { is_de_jure_liege_or_above_target = scope:target }
							}
							title_province ?= { NOT = { terrain = halls } }
						}
						add_to_list = adjacent_wastelands
					}
				}
			}

			### ELF ###
			else_if = { ## COUNTIES AVAILABLE FOR ELF AI ##
				limit = { is_elf = yes} 
				debug_log = "Wastelands.0006: Elves List Made"
				every_sub_realm_county = {
					every_title_to_title_neighboring_and_across_water_county = {
						limit = {
							culture = culture:wastelands
							has_county_modifier = elven_homeland_county_modifier
							this = { save_temporary_scope_as = target }
							NOR = {
								has_county_modifier = block_settlement_ability
								holder = root
							}
							OR = {
								title:e_greenwood = { is_de_jure_liege_or_above_target = scope:target }
								title:e_laurelindorenan = { is_de_jure_liege_or_above_target = scope:target }
							}
							title_province ?= { NOT = { terrain = halls } }
						}
						add_to_list = adjacent_wastelands
					}
				}
			}

			### DWARF ###
			else_if = { ## COUNTIES AVAILABLE FOR DWARF AI ##
				limit = { is_dwarf = yes} 
				debug_log = "Wastelands.0006: Dwarves List Made"
				every_sub_realm_county = {
					every_title_to_title_neighboring_and_across_water_county = {
						limit = {
							culture = culture:wastelands
							this = { save_temporary_scope_as = target }
							NOR = {
								has_county_modifier = block_settlement_ability
								holder = root
								has_county_modifier = elven_homeland_county_modifier
							}
							OR = {
								title_province ?= { terrain = desert_mountains }
								title_province ?= { terrain = caverns }
								title_province ?= { terrain = halls }
								title_province ?= { terrain = hills }
								title_province ?= { terrain = mountains }
							}
						}
						add_to_list = adjacent_wastelands
					}
				}
			}

			### NAZGUL ###
			else_if = {## COUNTIES AVAILABLE FOR NAZGUL AI ##
				limit = { is_nazgul = yes }
				debug_log = "Wastelands.0006: Nazgul List Made"
				every_sub_realm_county = {
					every_title_to_title_neighboring_and_across_water_county = {
						limit = {
							culture = culture:wastelands
							this = { save_temporary_scope_as = target }
							NOR = {
								has_county_modifier = block_settlement_ability
								holder = root
							}
							OR = {
								title:e_greenwood = { is_de_jure_liege_or_above_target = scope:target }
								title:k_ehwathrumavuld = { is_de_jure_liege_or_above_target = scope:target }
							}
						}
						add_to_list = adjacent_wastelands
					}
				}
			}

			### ORC ###
			else_if = {## COUNTIES AVAILABLE FOR ORC AI ##
				limit = { is_orc = yes } 
				debug_log = "Wastelands.0006: Orc List Made"
				every_sub_realm_county = {
					every_title_to_title_neighboring_and_across_water_county = {
						limit = {
							culture = culture:wastelands
							this = { save_temporary_scope_as = target }
							NOR = {
								has_county_modifier = block_settlement_ability
								holder = root
							}
							OR = {
								title_province ?= { terrain = desert_mountains }
								title_province ?= { terrain = caverns }
								title_province ?= { terrain = halls }
								title_province ?= { terrain = hills }
								title_province ?= { terrain = mountains }
							}
						}
						add_to_list = adjacent_wastelands
					}
				}
			}

			### VALEMEN/WOODMEN ###
			else_if = { ## COUNTIES AVAILABLE FOR HUMAN AI ##
				limit = { 
					is_human = yes
					OR = {
						culture = culture:woodmen # Can only start colonising after Aragorn returns
						culture = culture:valemen # Can only start colonising after Aragorn returns
						culture = { any_parent_culture_or_above = { this = culture:valemen } } # Can only start colonising after Aragorn returns
						culture = { any_parent_culture_or_above = { this = culture:woodmen } } # Can only start colonising after Aragorn returns
					}
				} 
				debug_log = "Wastelands.0006: Valemen/Woodmen List Made"
				every_sub_realm_county = {
					limit = { NOT = { culture = culture:wastelands } }
					every_title_to_title_neighboring_and_across_water_county = {
						limit = {
							culture = culture:wastelands
							this = { save_temporary_scope_as = target }
							NOR = {
								has_county_modifier = block_settlement_ability
								holder = root
							}
							OR = {
								title:e_greenwood = { is_de_jure_liege_or_above_target = scope:target }
								title:e_anduin_vale = { is_de_jure_liege_or_above_target = scope:target }
							}
							title_province ?= { NOT = { terrain = halls } }
						}
						add_to_list = adjacent_wastelands
					}
				}
			}
		}
		if = { # GAME RULE --> weighted_colonisation_speed
			limit = { has_game_rule = weighted_colonisation_speed }

			### HUMAN ###
			if = { ## COUNTIES AVAILABLE FOR HUMAN AI ##
				limit = { OR = { is_human = yes is_hobbit = yes } }
				every_sub_realm_county = {
					every_title_to_title_neighboring_and_across_water_county = {
						limit = {
							culture = culture:wastelands
							NOR = {
								holder = root
								has_county_modifier = elven_homeland_county_modifier
								has_county_modifier = block_settlement_ability
							}
							title_province ?= { NOT = { terrain = halls } }
						}
						add_to_list = adjacent_wastelands
					}
				}
			}

			### ELF ###
			else_if = { ## COUNTIES AVAILABLE FOR ELF AI ##
				limit = { is_elf = yes }
				### COUNTY COLONISATION PRIORITY ###
				every_sub_realm_county = {
					limit = { NOT = { culture = culture:wastelands } }
					every_title_to_title_neighboring_and_across_water_county = {
						limit = {
							culture = culture:wastelands
							NOR = {
								has_county_modifier = block_settlement_ability
								holder = root
							}
							OR = {
								has_county_modifier = elven_homeland_county_modifier
								title_province ?= { terrain = deep_forest }
								title_province ?= { terrain = forest }
								title_province ?= { terrain = myrtle_forest }
								title_province ?= { terrain = plains }
								title_province ?= { terrain = mallorn_forest }
								title_province ?= { terrain = hills }
								title_province ?= { terrain = farmlands }
								title_province ?= { terrain = wetlands }
								title_province ?= { terrain = floodplains }
							}
						}
						add_to_list = adjacent_wastelands
					}
				}
			}

			### DWARF ###
			else_if = { ## COUNTIES AVAILABLE FOR DWARF AI ##
				limit = { is_dwarf = yes }
				every_sub_realm_county = {
					limit = { NOT = { culture = culture:wastelands } }
					every_title_to_title_neighboring_and_across_water_county = {
						limit = {
							culture = culture:wastelands
							NOR = {
								has_county_modifier = block_settlement_ability
								holder = root
								has_county_modifier = elven_homeland_county_modifier
							}
							OR = {
								title_province ?= { terrain = plains }
								title_province ?= { terrain = steppe }
								title_province ?= { terrain = forest }
								title_province ?= { terrain = desert_mountains }
								title_province ?= { terrain = caverns }
								title_province ?= { terrain = halls }
								title_province ?= { terrain = hills }
								title_province ?= { terrain = mountains }
							}
						}
						add_to_list = adjacent_wastelands
					}
				}
			}

			### NAZGUL ###
			else_if = { ## COUNTIES AVAILABLE FOR NAZGUL AI ##
				limit = { is_nazgul = yes }
				debug_log = "Wastelands.0006: Nazgul List Made"
				every_sub_realm_county = {
					limit = { NOT = { culture = culture:wastelands } }
					every_title_to_title_neighboring_and_across_water_county = {
						limit = {
							culture = culture:wastelands
							NOR = {
								has_county_modifier = block_settlement_ability
								holder = root
							}
							title_province ?= { NOT = { terrain = halls } }
						}
						add_to_list = adjacent_wastelands
					}
				}
			}

			### ORC ###
			else_if = {## COUNTIES AVAILABLE FOR ORC AI ##
				limit = { is_orc = yes } 
				debug_log = "Wastelands.0006: Orc List Made"
				every_sub_realm_county = {
					limit = { NOT = { culture = culture:wastelands } }
					every_title_to_title_neighboring_and_across_water_county = {
						limit = {
							culture = culture:wastelands
							NOR = {
								has_county_modifier = block_settlement_ability
								holder = root
							}
						}
						add_to_list = adjacent_wastelands
					}
				}
			}

			### VALEMEN/WOODMEN ###
			else_if = { ## COUNTIES AVAILABLE FOR HUMAN AI ##
				limit = { 
					is_human = yes
					OR = {
						culture = culture:woodmen # Can only start colonising after Aragorn returns
						culture = culture:valemen # Can only start colonising after Aragorn returns
						culture = { any_parent_culture_or_above = { this = culture:valemen } } # Can only start colonising after Aragorn returns
						culture = { any_parent_culture_or_above = { this = culture:woodmen } } # Can only start colonising after Aragorn returns
					}
				} 
				debug_log = "Wastelands.0006: Valemen/Woodmen List Made"
				every_sub_realm_county = {
					limit = { NOT = { culture = culture:wastelands } }
					every_title_to_title_neighboring_and_across_water_county = {
						limit = {
							culture = culture:wastelands
							this = { save_temporary_scope_as = target }
							NOR = {
								has_county_modifier = block_settlement_ability
								holder = root
							}
							OR = {
								title:e_greenwood = { is_de_jure_liege_or_above_target = scope:target }
								title:e_anduin_vale = { is_de_jure_liege_or_above_target = scope:target }
							}
							title_province ?= { NOT = { terrain = halls } }
						}
						add_to_list = adjacent_wastelands
					}
				}
			}
		}
		if = { # GAME RULE --> normal_colonisation_speed
			limit = { has_game_rule = normal_colonisation_speed }
			if = {
				limit = {
					OR = {
						is_dwarf = yes
						is_orc = yes
						is_nazgul = yes
						is_istari = yes
						is_maiar = yes
					}
				}
				every_sub_realm_county = {
					every_title_to_title_neighboring_and_across_water_county = {
						limit = {
							culture = culture:wastelands
							NOR = {
								has_county_modifier = block_settlement_ability
								holder = root
							}
						}
						add_to_list = adjacent_wastelands
					}
				}
			} 
			else = {
				every_sub_realm_county = {
					limit = { NOT = { culture = culture:wastelands } }
					every_title_to_title_neighboring_and_across_water_county = {
						limit = {
							culture = culture:wastelands
							NOR = {
								has_county_modifier = block_settlement_ability
								holder = root
							}
							title_province ?= { NOT = { terrain = halls } }
						}
						add_to_list = adjacent_wastelands
					}
				}
			}
		}

		ordered_in_list = {
			list = adjacent_wastelands
			order_by = {
				value = 0
				every_neighboring_county = { 
					limit = { holder = root }
					add = 2
				}
				every_neighboring_county = { 
					limit = { 
						holder = root 
						duchy = prev.duchy
					}
					add = 16
				}
				every_neighboring_county = { 
					limit = { 
						holder = root 
						kingdom = prev.kingdom
					}
					add = 8
				}
				every_neighboring_county = { 
					limit = { 
						holder = root 
						empire = prev.empire
					}
					add = 4
				}
			}
			save_scope_as = wastelands
		}

		### MAKE AI COLONISE COUNTY ###
		scope:wastelands ?= { debug_log_scopes = yes } # Only needed for testing
		if = {
			limit = { exists = scope:wastelands }
			ai_colonisation_effect = { WASTELANDS = scope:wastelands }
		}		
	}
}

## Event to trigger event from 0008 - 0015 to add a variable + upkeep modifier
wastelands.0007 = { 
	hidden = yes

	immediate = {
		if = {
			limit = { 
				exists = dynasty
				dynasty = { has_dynasty_modifier = easy_arnor_settle } 
			}
			if = {
				limit = { highest_held_title_tier = tier_county }
				trigger_event = wastelands.0012
			} 
			else_if = {
				limit = { highest_held_title_tier = tier_duchy }
				trigger_event = wastelands.0013
			}
			else_if = {
				limit = { highest_held_title_tier = tier_kingdom }
				trigger_event = wastelands.0014
			}
			else = {
				trigger_event = wastelands.0015
			}
		}
		else_if = {
			limit = { highest_held_title_tier = tier_county }
			trigger_event = wastelands.0008
		} 
		else_if = {
			limit = { highest_held_title_tier = tier_duchy }
			trigger_event = wastelands.0009
		}
		else_if = {
			limit = { highest_held_title_tier = tier_kingdom }
			trigger_event = wastelands.0010
		}
		else = {
			trigger_event = wastelands.0011
		}
	}
}

## Adding upkeep to Counts
## Triggered in wastelands.0007
wastelands.0008 = { 
	hidden = yes

	immediate = {
		if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 0 }
			remove_character_modifier = holding_one_settlements
		}
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 1 }
			add_character_modifier = holding_one_settlements

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_two_settlements }
				remove_character_modifier = holding_two_settlements
			}
		}
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 2 }
			remove_character_modifier = holding_one_settlements
			add_character_modifier = holding_two_settlements

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_three_settlements }
				remove_character_modifier = holding_three_settlements
			}
		} 
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 3 }
			remove_character_modifier = holding_two_settlements
			add_character_modifier = holding_three_settlements

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_four_settlements }
				remove_character_modifier = holding_four_settlements
			}
		}
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 4 }
			remove_character_modifier = holding_three_settlements
			add_character_modifier = holding_four_settlements

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_five_settlements }
				remove_character_modifier = holding_five_settlements
			}
		} 
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 5 }
			remove_character_modifier = holding_four_settlements
			add_character_modifier = holding_five_settlements

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_more_than_five_settlements }
				remove_character_modifier = holding_more_than_five_settlements
			}
		}
		else = {
			if = {
				limit = {
					exists = var:num_settled_wilderness
					var:num_settled_wilderness > 5
				}
				remove_character_modifier = holding_five_settlements
				add_character_modifier = holding_more_than_five_settlements
			}
		}
	}
}

## Adding upkeep to Duke
## Triggered in wastelands.0007
wastelands.0009 = {
	hidden = yes

	immediate = {
		if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 0 }
			remove_character_modifier = holding_one_settlements
		}
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 1 }
			add_character_modifier = { modifier = holding_one_settlements }
		}
		else_if = { 
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 2 } 
			if = {
				limit = { has_character_modifier = holding_two_settlements }
				remove_character_modifier = holding_two_settlements
				add_character_modifier = holding_one_settlements
			} else_if = {
				limit = { NOR = { has_character_modifier = holding_two_settlements has_character_modifier = holding_one_settlements } }
				add_character_modifier = holding_one_settlements
			}
		}
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 3 }
			remove_character_modifier = holding_one_settlements
			add_character_modifier = holding_two_settlements

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_three_settlements }
				remove_character_modifier = holding_three_settlements
			}
		} 
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 4 }
			remove_character_modifier = holding_two_settlements
			add_character_modifier = holding_three_settlements

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_four_settlements }
				remove_character_modifier = holding_four_settlements
			}
		}
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 5 }
			remove_character_modifier = holding_three_settlements
			add_character_modifier = holding_four_settlements

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_five_settlements }
				remove_character_modifier = holding_five_settlements
			}
		} 
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 6 }
			remove_character_modifier = holding_four_settlements
			add_character_modifier = holding_five_settlements

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_more_than_five_settlements }
				remove_character_modifier = holding_more_than_five_settlements
			}
		}
		else = {
			if = {
				limit = {
					exists = var:num_settled_wilderness		var:num_settled_wilderness > 6
				}
				remove_character_modifier = holding_five_settlements
				add_character_modifier = holding_more_than_five_settlements
			}
		}
	}
}

## Adding upkeep to King
## Triggered in wastelands.0007
wastelands.0010 = {
	hidden = yes

	immediate = {
		if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 0 }
			remove_character_modifier = holding_one_settlements
		}
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 1 }
			add_character_modifier = holding_one_settlements
		}
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 2 }
			if = {
				limit = { has_character_modifier = holding_two_settlements }
				remove_character_modifier = holding_two_settlements
				add_character_modifier = holding_one_settlements
			} else_if = {
				limit = { NOR = { has_character_modifier = holding_two_settlements has_character_modifier = holding_one_settlements } }
				add_character_modifier = holding_one_settlements
			}
		}
		else_if = { 
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 3 } 
			if = {
				limit = { has_character_modifier = holding_two_settlements }
				remove_character_modifier = holding_two_settlements
				add_character_modifier = holding_one_settlements
			} else_if = {
				limit = { NOR = { has_character_modifier = holding_two_settlements has_character_modifier = holding_one_settlements } }
				add_character_modifier = holding_one_settlements
			}
		}
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 4 }
			remove_character_modifier = holding_one_settlements
			add_character_modifier = holding_two_settlements

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_three_settlements }
				remove_character_modifier = holding_three_settlements
			}
		} 
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 5 }
			remove_character_modifier = holding_two_settlements
			add_character_modifier = holding_three_settlements

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_four_settlements }
				remove_character_modifier = holding_four_settlements
			}
		}
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 6 }
			remove_character_modifier = holding_three_settlements
			add_character_modifier = holding_four_settlements

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_five_settlements }
				remove_character_modifier = holding_five_settlements
			}
		} 
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 7 }
			remove_character_modifier = holding_four_settlements
			add_character_modifier = holding_five_settlements

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_more_than_five_settlements }
				remove_character_modifier = holding_more_than_five_settlements
			}
		}
		else = {
			if = {
				limit = {
					exists = var:num_settled_wilderness		var:num_settled_wilderness > 7
				}
				remove_character_modifier = holding_five_settlements
				add_character_modifier = holding_more_than_five_settlements
			}
		}
	}
}

## Adding upkeep to Emperor
## Triggered in wastelands.0007
wastelands.0011 = {
	hidden = yes

	immediate = {
		if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 0 }
			remove_character_modifier = holding_one_settlements
		}
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 1 }
			add_character_modifier = holding_one_settlements
		}
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 2 }
			if = {
				limit = { has_character_modifier = holding_two_settlements }
				remove_character_modifier = holding_two_settlements
				add_character_modifier = holding_one_settlements
			} else_if = {
				limit = { NOR = { has_character_modifier = holding_two_settlements has_character_modifier = holding_one_settlements } }
				add_character_modifier = holding_one_settlements
			}
		}
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 3 }
			if = {
				limit = { has_character_modifier = holding_two_settlements }
				remove_character_modifier = holding_two_settlements
				add_character_modifier = holding_one_settlements
			} else_if = {
				limit = { NOR = { has_character_modifier = holding_two_settlements has_character_modifier = holding_one_settlements } }
				add_character_modifier = holding_one_settlements
			}
		}
		else_if = { 
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 4 } 
			if = {
				limit = { has_character_modifier = holding_two_settlements }
				remove_character_modifier = holding_two_settlements
				add_character_modifier = holding_one_settlements
			} else_if = {
				limit = { NOR = { has_character_modifier = holding_two_settlements has_character_modifier = holding_one_settlements } }
				add_character_modifier = holding_one_settlements
			}
		}
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 5 }
			remove_character_modifier = holding_one_settlements
			add_character_modifier = holding_two_settlements
			
			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_three_settlements }
				remove_character_modifier = holding_three_settlements
			}
		} 
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 6 }
			remove_character_modifier = holding_two_settlements
			add_character_modifier = holding_three_settlements
			
			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_four_settlements }
				remove_character_modifier = holding_four_settlements
			}
		}
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 7 }
			remove_character_modifier = holding_three_settlements
			add_character_modifier = holding_four_settlements

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_five_settlements }
				remove_character_modifier = holding_five_settlements
			}
		} 
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 8 }
			remove_character_modifier = holding_four_settlements
			add_character_modifier = holding_five_settlements

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_more_than_five_settlements }
				remove_character_modifier = holding_more_than_five_settlements
			}
		}
		else = {
			if = {
				limit = {
					exists = var:num_settled_wilderness		var:num_settled_wilderness > 8
				}
				remove_character_modifier = holding_five_settlements
				add_character_modifier = holding_more_than_five_settlements
			}
		}
	}
}

## Adding upkeep to Counts on dynasty modifier
## Triggered in wastelands.0007
wastelands.0012 = { # Adding upkeep to dynasty with special modifier, check lotr_wastelands_modifiers, count tier
	hidden = yes

	immediate = {
		if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 0 }
			remove_character_modifier = holding_one_settlements
		}
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 1 }
			add_character_modifier = { modifier = holding_one_settlements }

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_two_settlements }
				remove_character_modifier = holding_two_settlements
			}
		}
		else_if = { 
			limit = {
				OR = {
					exists = var:num_settled_wilderness		var:num_settled_wilderness = 2 
					exists = var:num_settled_wilderness		var:num_settled_wilderness = 3
				}
			} 
		}
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 4 }
			remove_character_modifier = holding_one_settlements
			add_character_modifier = { modifier = holding_two_settlements }

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_three_settlements }
				remove_character_modifier = holding_three_settlements
			}
		} 
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 5 }
			remove_character_modifier = holding_two_settlements
			add_character_modifier = { modifier = holding_three_settlements }

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_four_settlements }
				remove_character_modifier = holding_four_settlements
			}
		}
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 6 }
			remove_character_modifier = holding_three_settlements
			add_character_modifier = { modifier = holding_four_settlements }

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_five_settlements }
				remove_character_modifier = holding_five_settlements
			}
		} 
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 7 }
			remove_character_modifier = holding_four_settlements
			add_character_modifier = { modifier = holding_five_settlements }

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_more_than_five_settlements }
				remove_character_modifier = holding_more_than_five_settlements
			}
		}
		else = {
			if = {
				limit = {
					exists = var:num_settled_wilderness		var:num_settled_wilderness > 7
				}
				remove_character_modifier = holding_five_settlements
				add_character_modifier = { modifier = holding_more_than_five_settlements }
			}
		}
	}
}

## Adding upkeep to Duke based on dynasty modifier
## Triggered in wastelands.0007
wastelands.0013 = { # Adding upkeep to dynasty with special modifier, check lotr_wastelands_modifiers, duke tier
	hidden = yes

	immediate = {
		if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 0 }
			remove_character_modifier = holding_one_settlements
		}
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 1 }
			add_character_modifier = { modifier = holding_one_settlements }
		}
		else_if = { 
			limit = {
				OR = {
					exists = var:num_settled_wilderness		var:num_settled_wilderness = 2 
					exists = var:num_settled_wilderness		var:num_settled_wilderness = 3
				}
			} 
		}
		else_if = { 
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 4 } 
			if = {
				limit = { has_character_modifier = holding_two_settlements }
				remove_character_modifier = holding_two_settlements
				add_character_modifier = { modifier = holding_one_settlements }
			}
		}
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 5 }
			remove_character_modifier = holding_one_settlements
			add_character_modifier = { modifier = holding_two_settlements }

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_three_settlements }
				remove_character_modifier = holding_three_settlements
			}
		} 
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 6 }
			remove_character_modifier = holding_two_settlements
			add_character_modifier = { modifier = holding_three_settlements }

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_four_settlements }
				remove_character_modifier = holding_four_settlements
			}
		}
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 7 }
			remove_character_modifier = holding_three_settlements
			add_character_modifier = { modifier = holding_four_settlements }

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_five_settlements }
				remove_character_modifier = holding_five_settlements
			}
		} 
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 8 }
			remove_character_modifier = holding_four_settlements
			add_character_modifier = { modifier = holding_five_settlements }

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_more_than_five_settlements }
				remove_character_modifier = holding_more_than_five_settlements
			}
		}
		else = {
			if = {
				limit = {
					exists = var:num_settled_wilderness		var:num_settled_wilderness > 8
				}
				remove_character_modifier = holding_five_settlements
				add_character_modifier = { modifier = holding_more_than_five_settlements }
			}
		}
	}
}

## Adding upkeep to King on dynasty modifier
## Triggered in wastelands.0007
wastelands.0014 = { # Adding upkeep to dynasty with special modifier, check lotr_wastelands_modifiers, king tier
	hidden = yes

	immediate = {
		if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 0 }
			remove_character_modifier = holding_one_settlements
		}
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 1 }
			add_character_modifier = holding_one_settlements
		}
		else_if = { 
			limit = {
				OR = {
					exists = var:num_settled_wilderness		var:num_settled_wilderness = 2 
					exists = var:num_settled_wilderness		var:num_settled_wilderness = 3
					exists = var:num_settled_wilderness		var:num_settled_wilderness = 4
				}
			} 
		}
		else_if = { 
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 5 } 
			if = {
				limit = { has_character_modifier = holding_two_settlements }
				remove_character_modifier = holding_two_settlements
				add_character_modifier = holding_one_settlements
			}
		}
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 6 }
			remove_character_modifier = holding_one_settlements
			add_character_modifier = holding_two_settlements

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_three_settlements }
				remove_character_modifier = holding_three_settlements
			}
		} 
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 7 }
			remove_character_modifier = holding_two_settlements
			add_character_modifier = holding_three_settlements

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_four_settlements }
				remove_character_modifier = holding_four_settlements
			}
		}
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 8 }
			remove_character_modifier = holding_three_settlements
			add_character_modifier = holding_four_settlements

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_five_settlements }
				remove_character_modifier = holding_five_settlements
			}
		} 
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 9 }
			remove_character_modifier = holding_four_settlements
			add_character_modifier = holding_five_settlements

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_more_than_five_settlements }
				remove_character_modifier = holding_more_than_five_settlements
			}
		}
		else = {
			if = {
				limit = {
					exists = var:num_settled_wilderness		var:num_settled_wilderness > 9
				}
				remove_character_modifier = holding_five_settlements
				add_character_modifier = holding_more_than_five_settlements
			}
		}
	}
}

## Adding upkeep to Emperor on dynasty modifier
## Triggered in wastelands.0007
wastelands.0015 = { # Adding upkeep to dynasty with special modifier, check lotr_wastelands_modifiers, emporer tier
	hidden = yes

	immediate = {
		if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 0 }
			remove_character_modifier = holding_one_settlements
		}
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 1 }
			add_character_modifier = { modifier = holding_one_settlements }
		}
		else_if = { 
			limit = {
				OR = {
					exists = var:num_settled_wilderness		var:num_settled_wilderness = 2 
					exists = var:num_settled_wilderness		var:num_settled_wilderness = 3
					exists = var:num_settled_wilderness		var:num_settled_wilderness = 4
					exists = var:num_settled_wilderness		var:num_settled_wilderness = 5
				}
			} 
		}
		else_if = { 
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 6 } 
			if = {
				limit = { has_character_modifier = holding_two_settlements }
				remove_character_modifier = holding_two_settlements
				add_character_modifier = { modifier = holding_one_settlements }
			}
		}
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 7 }
			remove_character_modifier = holding_one_settlements
			add_character_modifier = { modifier = holding_two_settlements }
			
			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_three_settlements }
				remove_character_modifier = holding_three_settlements
			}
		} 
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 8 }
			remove_character_modifier = holding_two_settlements
			add_character_modifier = { modifier = holding_three_settlements }
			
			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_four_settlements }
				remove_character_modifier = holding_four_settlements
			}
		}
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 9 }
			remove_character_modifier = holding_three_settlements
			add_character_modifier = { modifier = holding_four_settlements }

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_five_settlements }
				remove_character_modifier = holding_five_settlements
			}
		} 
		else_if = {
			limit = { exists = var:num_settled_wilderness		var:num_settled_wilderness = 10 }
			remove_character_modifier = holding_four_settlements
			add_character_modifier = { modifier = holding_five_settlements }

			### BACKWARDS COMPATABILITY ###
			if = {
				limit = { has_character_modifier = holding_more_than_five_settlements }
				remove_character_modifier = holding_more_than_five_settlements
			}
		}
		else = {
			if = {
				limit = {
					exists = var:num_settled_wilderness		var:num_settled_wilderness > 10
				}
				remove_character_modifier = holding_five_settlements
				add_character_modifier = { modifier = holding_more_than_five_settlements }
			}
		}
	}
}

wastelands.0020 = {
	hidden = yes

	trigger = {
		OR = {
			monthly_character_income < 0.3
			above_settlement_limit = yes
		}
		is_ai = yes
	}

	immediate = {
		every_held_title = {
			limit = {
				tier = tier_county
				title_province ?= { has_holding_type = settlement_holding }
			}
			add_to_list = targeted_titles
		}

		every_in_list = {
			list = targeted_titles

			if = {
				limit = { 
					holder = { above_settlement_limit = yes }
					title_province ?= { has_building = settlement_01 }
				}
				make_settlement_county_wilderness = { COUNTY = this }
			}
			else_if = {
				limit = { 
					holder = { above_settlement_limit = yes }
					title_province ?= { has_building = settlement_02 }
				}
				make_settlement_county_wilderness = { COUNTY = this }
			}
			else_if = {
				limit = { 
					holder = { above_settlement_limit = yes }
					title_province ?= { has_building = settlement_03 }
				}
				make_settlement_county_wilderness = { COUNTY = this }
			}
		}
	}
}

wastelands.0021 = {
	theme = realm
	title = wastelands.0021.t
	desc = wastelands.0021.desc
	option = {
		name = "wastelands.0021.a"
	}
}

wastelands.0022 = {
	hidden = yes
	scope = character	
	trigger = { 
		has_character_flag = vassal_directive_settle_wastelands
		any_held_county = { title_province = { has_holding_type = settlement_holding } }
	}

	immediate = {
		random_held_county = {
			limit = { title_province = { has_holding_type = settlement_holding has_building = settlement_03 } }
			save_scope_as = upgrade_county
		}

		if = {
			limit = { NOT = { exists = scope:upgrade_county } }
			random = {
				chance = 66
				random_held_county = {
					limit = { title_province = { has_holding_type = settlement_holding has_building = settlement_02 } }
					save_scope_as = upgrade_county
				}
			}
		}
		if = {
			limit = { NOT = { exists = scope:upgrade_county } }
			random = {
				chance = 33
				random_held_county = {
					limit = { title_province = { has_holding_type = settlement_holding has_building = settlement_01 } }
					save_scope_as = upgrade_county
				}
			}
		}
		lotr_upgrade_settlement_to_full_holding_effect = { COUNTY = scope:upgrade_county }
		correct_wastelands_tracker = yes
	}
}

######################
#					 #
#	Blocker Events 	 #
#					 #
######################

##############
#  Wolf Den  #
##############

wastelands.1001 = { # Clearing out the Wolves
	content_source = realms_dlc
	type = character_event
	title = wastelands.1001.t
	desc = wastelands.1001.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = personality_bold
	}
	
	right_portrait = {
		character = scope:knight
		animation = war_defender
	}
	
	lower_center_portrait = {
		character = scope:hooked_character
	}

	immediate = {
		if = {
			limit = { 
				any_knight = { 
					is_ai = yes
					count > 0
				}
			}
			ordered_knight = {
				limit = { is_ai = yes }
				order_by = prowess
				save_scope_as = knight
			}
		}
		if = {
			limit = { 
				any_hooked_character = { 
					is_ai = yes
					count > 0
				}
			}
			ordered_hooked_character = {
				limit = { is_ai = yes }
				order_by = prowess
				save_scope_as = hooked_character
			}
		}
	}

	option = { # Take them on myself
		name = wastelands.1001.a
		skill = prowess
		duel = {
			skill = prowess 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.1001.a.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 100
					title = wastelands.1001.success.toast.t
					scope:obstacle_province = { remove_building = wolf_den_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.1001.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1001.failure.toast.t
					add_prestige = -150
					increase_wounds_effect = { REASON = hunting_accident }
					hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
					scope:obstacle_province = { add_building = wolf_den }
				}
			}
		}
		stress_impact = {
			brave = minor_stress_loss
			craven = medium_stress_gain
		}
	}
	
	option = { # Send a skilled knight
		name = wastelands.1001.b
		trigger = { 
			any_knight = { 
				is_ai = yes
				count > 0
			} 
		}
		scope:knight = {
			duel = {
				skill = prowess 
				value = 10
				30 = { 
					compare_modifier = {
						value = scope:duel_value
						multiplier = 2
						min = -10
					}
					desc = wastelands.1001.b.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:knight
							scope:knight = { add_prestige = 100 }
							title = wastelands.1001.success.toast.t
							scope:obstacle_province = { remove_building = wolf_den_cleared }
						}
					}
				}
				30 = {
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = wastelands.1001.b.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:knight
							title = wastelands.1001.failure.toast.t
							scope:knight = { add_prestige = -150 }
							increase_wounds_effect = { REASON = hunting_accident }
							hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
							scope:obstacle_province = { add_building = wolf_den }
						}
					}
				}
			}
		}
		stress_impact = {
			humble = minor_stress_loss
			arrogant = medium_stress_gain
		}
	}
	
	option = { # Send a hooked character
		name = wastelands.1001.c
		trigger = { 
			any_hooked_character = { 
				is_ai = yes
				count > 0
			}
		}
		use_hook = scope:hooked_character
		scope:hooked_character = {
			duel = {
				skill = prowess 
				value = 10
				30 = { 
					compare_modifier = {
						value = scope:duel_value
						multiplier = 2
						min = -10
					}
					desc = wastelands.1001.c.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:hooked_character
							scope:hooked_character = { add_prestige = 100 }
							title = wastelands.1001.success.toast.t
							scope:obstacle_province = { remove_building = wolf_den_cleared }
						}
					}
				}
				30 = {
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = wastelands.1001.c.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:hooked_character
							title = wastelands.1001.failure.toast.t
							scope:hooked_character = { add_prestige = -150 }
							increase_wounds_effect = { REASON = hunting_accident }
							hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
							scope:obstacle_province = { add_building = wolf_den }
						}
					}
				}
			}
		}
		stress_impact = {
			vengeful = minor_stress_loss
			compassionate = minor_stress_gain
		}
	}
	
	option = { # Hire skilled mercenaries
		name = wastelands.1001.d
		remove_short_term_gold = 100
		random_list = { 
			85 = {
				send_interface_toast = {
					left_icon = root
					title = wastelands.1001.success.toast.t
					scope:obstacle_province = { remove_building = wolf_den_cleared }
				}
			}
			15 = {
				send_interface_toast = {
					left_icon = root
					title = wastelands.1001.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
					scope:obstacle_province = { add_building = wolf_den }
				}
			}
		}
		stress_impact = {
			greedy = minor_stress_gain
		}
	}
	
	option = { # Leave the wolves alone
		name = wastelands.1001.e
		hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
		scope:obstacle_province = { add_building = wolf_den }
	}
}

wastelands.1002 = { # Surrounded
	content_source = realms_dlc
	type = character_event
	title = wastelands.1002.t
	desc = wastelands.1002.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = personality_bold
	}
	
	right_portrait = {
		character = scope:knight
		animation = war_defender
	}

	immediate = {
		if = {
			limit = { 
				any_knight = { 
					is_ai = yes
					count > 0
				}
			}
			ordered_knight = {
				limit = { is_ai = yes }
				order_by = prowess
				save_scope_as = knight
			}
		}
	}

	option = { # Prowess Duel
		name = wastelands.1002.a

		duel = {
			skill = prowess 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.1001.b.duel_success
				root = {
					send_interface_toast = {
						left_icon = root
						right_icon = scope:knight
						scope:knight = { add_prestige = 175 }
						title = wastelands.1001.success.toast.t
						scope:obstacle_province = { remove_building = wolf_den_cleared }
					}
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.1001.b.duel_failure
				root = {
					send_interface_toast = {
						left_icon = root
						right_icon = scope:knight
						title = wastelands.1001.failure.toast.t
						scope:knight = { add_prestige = -150 }
						scope:knight = { increase_wounds_effect = { REASON = hunting_accident } }
						increase_wounds_effect = { REASON = hunting_accident }
						hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
						scope:obstacle_province = { add_building = wolf_den }
					}
				}
			}
		}
	}
	
	option = { # Your knight is does a prowess duel
		name = wastelands.1002.b
		
		scope:knight = {
			duel = {
				skill = prowess 
				value = 9
				30 = { 
					compare_modifier = {
						value = scope:duel_value
						multiplier = 2
						min = -10
					}
					desc = wastelands.1001.b.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:knight
							scope:knight = { add_prestige = 100 }
							title = wastelands.1001.success.toast.t
							scope:obstacle_province = { remove_building = wolf_den_cleared }
						}
					}
				}
				30 = {
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = wastelands.1001.b.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:knight
							title = wastelands.1001.failure.toast.t
							scope:knight = { add_prestige = -150 }
							scope:knight = { increase_wounds_effect = { REASON = hunting_accident } }
							increase_wounds_effect = { REASON = hunting_accident }
							hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
							scope:obstacle_province = { add_building = wolf_den }
						}
					}
				}
			}
		}
	}
	
	option = { # Flee, costing prestige + wolf den
		name = wastelands.1002.c
		add_prestige = -75
		hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
		scope:obstacle_province = { add_building = wolf_den }
	}
}

wastelands.1003 = { # Wolf-mother
	content_source = realms_dlc
	type = character_event
	title = wastelands.1003.t
	desc = wastelands.1003.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = personality_bold
	}

	option = { # Prowess Duel
		name = wastelands.1003.a

		duel = {
			skill = prowess 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.1003.a.duel_success
				root = {
					send_interface_toast = {
						left_icon = root
						right_icon = scope:knight
						scope:knight = { add_prestige = 175 }
						title = wastelands.1001.success.toast.t
						scope:obstacle_province = { remove_building = wolf_den_cleared }
					}
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.1003.a.duel_failure
				root = {
					send_interface_toast = {
						left_icon = root
						right_icon = scope:knight
						title = wastelands.1001.failure.toast.t
						increase_wounds_effect = { REASON = hunting_accident }
						hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
						scope:obstacle_province = { add_building = wolf_den }
					}
				}
			}
		}
	}
	
	option = { # Your knight is does a prowess duel
		name = wastelands.1003.b
		
		duel = {
			skill = martial 
			value = 9
			40 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.1003.b.duel_success
				root = {
					send_interface_toast = {
						left_icon = root
						title = wastelands.1001.success.toast.t
						scope:obstacle_province = { remove_building = wolf_den_cleared }
					}
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.1003.b.duel_failure
				root = {
					send_interface_toast = {
						left_icon = root
						title = wastelands.1001.failure.toast.t
						increase_wounds_effect = { REASON = hunting_accident }
						hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
						scope:obstacle_province = { add_building = wolf_den }
					}
				}
			}
		}
	}
	
	option = { # Flee, costing prestige + wolf den
		name = wastelands.1003.c
		add_prestige = -150
		hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
		scope:obstacle_province = { add_building = wolf_den }
	}
}

wastelands.1004 = { # Wolf-Dogs
	content_source = realms_dlc
	type = character_event
	title = wastelands.1004.t
	desc = wastelands.1004.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = personality_bold
	}

	option = { # Stewardship option
		name = wastelands.1004.a

		duel = {
			skill = stewardship 
			value = 10
			30 = { # success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.1004.a.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.1004.a.success.toast.t
					scope:obstacle_province = { remove_building = wolf_den_cleared }
				}
			}
			30 = { # failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.1004.a.duel_failure
				root = {
					send_interface_toast = {
						left_icon = root
						title = wastelands.1004.a.failure.toast.t
						hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
						scope:obstacle_province = { add_building = wolf_den }
						scope:obstacle_province = { 
							add_province_modifier = { 
								modifier = steward_levy_desertion_province_modifier 
								years = 3
							} 
						}
					}
				}
			}
		}
	}
	
	option = { # Prowess option
		name = wastelands.1004.b

		duel = {
			skill = prowess 
			value = 10
			30 = { # success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.1004.b.duel_success
				root = {
					send_interface_toast = {
						left_icon = root
						title = wastelands.1004.b.success.toast.t
						scope:obstacle_province = { remove_building = wolf_den_cleared }
						start_dog_story_cycle_effect = yes 
					}
				}
			}
			30 = { # failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.1004.b.duel_failure
				root = {
					send_interface_toast = {
						left_icon = root
						title = wastelands.1004.b.failure.toast.t
						increase_wounds_effect = { REASON = hunting_accident }
						hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
						scope:obstacle_province = { add_building = wolf_den }
						add_prestige = -100
					}
				}
			}
		}
	}
	
	option = { # Gain wolf sighting
		name = wastelands.1004.c
		add_prestige = -150
		hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
		scope:obstacle_province = { 
			add_building = wolf_den 
			county = {
				set_variable = {
					name = animal_type
					value = scope:old_sighting_county.var:animal_type
				}
				hunt_create_sighting_effect = {
					TYPE = dangerous
					ANIMAL = flag:wolf
					OWNER = root
				}
			}
		}

	}
}

wastelands.1005 = { # The Vanished
	content_source = realms_dlc
	type = character_event
	title = wastelands.1005.t
	desc = wastelands.1005.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = personality_bold
	}

	option = { # Organize the villagers
		name = wastelands.1005.a
		skill = martial
		duel = {
			skill = martial 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.1005.a.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.1005.success.toast.t
					scope:obstacle_province = { remove_building = wolf_den_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.1005.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1005.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
					scope:obstacle_province = { add_building = wolf_den }
					make_settlement_county_wilderness = {
						COUNTY = scope:obstacle_province.county
					}
				}
			}
		}
	}

	option = { # Rally the villagers
		name = wastelands.1005.b
		skill = intrigue
		duel = {
			skill = intrigue 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.1005.b.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.1005.success.toast.t
					scope:obstacle_province = { remove_building = wolf_den_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.1005.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1005.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
					scope:obstacle_province = { add_building = wolf_den }
					make_settlement_county_wilderness = {
						COUNTY = scope:obstacle_province.county
					}
				}
			}
		}
	}

	option = { # These are the risks...
		name = wastelands.1005.c
		add_prestige = medium_prestige_loss
		hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
		scope:obstacle_province = { add_building = wolf_den }
	}
}

wastelands.1006 = { # Hunted
	content_source = realms_dlc
	type = character_event
	title = wastelands.1006.t
	desc = wastelands.1006.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = personality_coward
	}

	trigger = {
		scope:obstacle_province = { 
			OR = {		
				kingdom = title:k_angmar
				kingdom = title:k_forochel
				kingdom = title:k_high_pass
				kingdom = title:k_gundabad
				kingdom = title:k_rhudaur
			}
		}
	}

	option = { # A fine rug
		name = wastelands.1006.a
		skill = prowess
		duel = {
			skill = prowess 
			value = 20
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.1006.a.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.1006.success.toast.t
					scope:obstacle_province = { remove_building = wolf_den_cleared }
					add_prestige = minor_prestige_gain
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.1006.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1006.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
					scope:obstacle_province = { add_building = wolf_den }
					increase_wounds_effect = { REASON = warg }
				}
			}
		}
	}

	option = { # Start a fire
		name = wastelands.1006.b
		skill = intrigue
		duel = {
			skill = intrigue 
			value = 20
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.1006.b.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.1006.success.toast.t
					scope:obstacle_province = { remove_building = wolf_den_cleared }
					add_prestige = minor_prestige_gain
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.1006.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1006.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
					scope:obstacle_province = { add_building = wolf_den }
					increase_wounds_effect = { REASON = warg }
				}
			}
		}
	}

	option = { # Bravely run away
		name = wastelands.1006.c
		add_prestige = medium_prestige_loss
		hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
		scope:obstacle_province = { add_building = wolf_den }
	}
}

wastelands.1007 = { # Howls from the Hills
    type = character_event
    title = wastelands.1007.t
    desc = wastelands.1007.desc
    theme = realm

    left_portrait = {
        character = root
        animation = personality_rational
    }

    right_portrait = {
        character = scope:steward
        animation = steward
    }

    lower_center_portrait = {
        character = scope:messenger
    }

    immediate = {
        create_character = {
            template = local_artisan_template
            culture = root.culture
            faith = root.faith
			location = scope:obstacle_province
            gender_female_chance = 50
            save_scope_as = messenger
        }

        if = {
            limit = {
                any_stewardship_councillor = {
                    count > 0
                }
            }
            random_stewardship_councillor = {
                save_scope_as = steward
            }
        }
        else = {
            ordered_courtier = {
                order_by = stewardship
                save_scope_as = steward
            }
        }
    }

    trigger = {
        scope:obstacle_province = {
            location = {
                terrain = hills
            }
        }
    }

    option = {
        name = wastelands.1007.a
        remove_short_term_gold = 50
        reverse_add_opinion = {
            modifier = disappointed_opinion
            opinion = -20
            target = scope:steward
        }
        scope:obstacle_province = {
            remove_building = wolf_den_cleared
        }
    }

    option = {
        name = wastelands.1007.b
        random_list = { 
            70 = {
                send_interface_toast = {
                    left_icon = root
                    title = wastelands.1007.success.toast.t
                    scope:obstacle_province = { 
                        remove_building = wolf_den_cleared 
                    }
                }
            }
            30 = {
                send_interface_toast = {
                    left_icon = root
                    title = wastelands.1007.failure.toast.t
                    hidden_effect = { 
                        scope:obstacle_province = { 
                            remove_building = wolf_den_cleared 
                        } 
                    }
                    scope:obstacle_province = { 
                        add_building = wolf_den 
                    }
                }
            }
        }
    }

    after = {
        scope:messenger = {
            silent_disappearance_effect = yes
        }
    }
}

wastelands.1008 = { # Hunting Clubs
	content_source = realms_dlc
	type = character_event
	title = wastelands.1008.t
	desc = wastelands.1008.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = personality_content
	}

	option = { # A passing fad
		name = wastelands.1008.a
		add_prestige = minor_prestige_gain
		add_short_term_gold = minor_gold_value
		hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
	}

	option = { # Foster the hunting clubs
		name = wastelands.1008.b
		skill = stewardship
		duel = {
			skill = stewardship 
			value = 15
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.1008.b.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.1008.success.toast.t
					hidden_effect = {
						scope:obstacle_province = { remove_building = wolf_den_cleared}
					}
					scope:obstacle_province = { 
						add_province_modifier = {
							modifier = fostered_hunt_clubs
							years = 5
						}
					}
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.1008.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1008.failure.toast.t
					hidden_effect = { 
						scope:obstacle_province = { remove_building = wolf_den_cleared }
					}
					scope:obstacle_province = {
						add_province_modifier = {
							modifier = uncontrolled_hunting
							years = 5
						}
					}
				}
			}
		}
	}

	option = { # Tips and tricks
		name = wastelands.1008.c
		hidden_effect = { 
			scope:obstacle_province = { remove_building = wolf_den_cleared } 
		}
		add_character_modifier = {
			modifier = fostered_wolf_hunting
			years = 5
		}
	}
}

wastelands.1009 = { # Howls in the night
	content_source = realms_dlc
	type = character_event
	title = wastelands.1009.t
	desc = wastelands.1009.desc
	theme = travel_danger

	left_portrait = {
		character = root
		animation = personality_coward
	}
	
	immediate = {
		if = {
			limit = { 
				any_knight = { 
					is_ai = yes
					count > 0
				}
			}
			ordered_knight = {
				limit = { is_ai = yes }
				order_by = prowess
				save_scope_as = knight
			}
		}
	}

	
	right_portrait = {
		character = scope:knight
		animation = disgust
	}

	trigger = {
		scope:obstacle_province = { 
			OR = {		
				kingdom = title:k_angmar
				kingdom = title:k_forochel
				kingdom = title:k_high_pass
				kingdom = title:k_gundabad
			}
		}
	}

	option = { # Formation!
		name = wastelands.1009.a
		skill = martial
		duel = {
			skill = martial 
			value = 25
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.1009.a.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.1009.success.toast.t
					add_prestige = medium_prestige_gain
					add_martial_lifestyle_xp = medium_lifestyle_xp
					hidden_effect = {
						scope:obstacle_province = { remove_building = wolf_den_cleared }
					}
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.1009.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1009.failure.toast.t
					hidden_effect = { 
						scope:obstacle_province = { remove_building = wolf_den_cleared }
					}
					increase_wounds_effect = { REASON = warg }
					add_trait = maimed
				}
			}
		}
	}

	option = { # Keep the fires going
		name = wastelands.1009.b
		skill = learning
		duel = {
			skill = learning 
			value = 25
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.1009.b.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.1009.success.toast.t
					hidden_effect = {
						scope:obstacle_province = {  remove_building = wolf_den_cleared }
					}
					add_prestige = medium_prestige_gain
					add_learning_lifestyle_xp = medium_lifestyle_xp					
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.1009.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1009.failure.toast.t
					hidden_effect = { 
						scope:obstacle_province = { remove_building = wolf_den_cleared }
					}
					increase_wounds_effect = { REASON = warg }
					add_trait = maimed
				}
			}
		}
	}
		
	option = { # Knight protection
		name = wastelands.1009.c
		skill = prowess
		trigger = { 
			any_knight = { 
				is_ai = yes
				count > 0
			} 
		}
		scope:knight = {
			duel = {
				skill = prowess 
				value = 25
				30 = { 
					compare_modifier = {
						value = scope:duel_value
						multiplier = 2
						min = -10
					}
					desc = wastelands.1009.c.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:knight
							title = wastelands.1009.success.toast.t
							hidden_effect = {
								scope:obstacle_province = {  remove_building = wolf_den_cleared }
							}
							scope:knight = {
								if = {
									limit = {
										exists = accolade
										accolade = { is_accolade_active = yes }
									}
									accolade = { add_glory = minimal_glory_gain }
								}
								
								if = {
									limit = { has_trait = lifestyle_hunter }
									add_trait_xp = {
										trait = lifestyle_hunter
										value = 5
									}
								}
								else_if = {
									limit = { has_trait = lifestyle_blademaster }
									add_trait_xp = {
										trait = lifestyle_blademaster
										value = 5
									}
								}
								else = {
									random_list = {
										1 = { add_trait = lifestyle_hunter }
										1 = { add_trait = lifestyle_blademaster }
									}
								}
							}
						}
					}
				}
				30 = {
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = wastelands.1009.c.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:knight
							title = wastelands.1009.failure.toast.t
							hidden_effect = { 
								scope:obstacle_province = { remove_building = wolf_den_cleared }
							}
							scope:knight = {
								increase_wounds_effect = { REASON = warg }
							}
						}
					}					
				}
			}
		}
	}
}

##############
#  Bear Den  #
##############

wastelands.1201 = { # Yoh-gi
	content_source = realms_dlc
	type = character_event
	title = wastelands.1201.t
	desc = wastelands.1201.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = personality_bold
	}
	
	option = { # Dispatch the ranger expedition
		name = wastelands.1201.a
		trigger = {
			martial >= prowess
		}
		skill = martial
		duel = {
			skill = martial 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.1201.a.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.1201.success.toast.t
					scope:obstacle_province = { remove_building = bear_den_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.1201.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1201.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
					scope:obstacle_province = { add_building = bear_den }
				}
			}
		}
	}

	option = { # Dispatch the bear personally
		name = wastelands.1201.c
		trigger = {
			martial < prowess
		}
		skill = prowess
		duel = {
			skill = prowess 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.1201.c.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 100
					title = wastelands.1201.success.toast.t
					scope:obstacle_province = { remove_building = bear_den_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.1201.c.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1201.failure.toast.t
					add_prestige = -50
					increase_wounds_effect = { REASON = hunting_accident }
					hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
					scope:obstacle_province = { add_building = bear_den }
				}
			}
		}
		stress_impact = {
			brave = minor_stress_loss
			craven = medium_stress_gain
		}
	}	
			
	option = { # Pay the smith to build his trap
		name = wastelands.1201.b
		remove_short_term_gold = 50
		random_list = { 
			70 = {
				send_interface_toast = {
					left_icon = root
					title = wastelands.1201.success.toast.t
					scope:obstacle_province = { remove_building = bear_den_cleared }
				}
			}
			30 = {
				send_interface_toast = {
					left_icon = root
					title = wastelands.1201.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
					scope:obstacle_province = { add_building = bear_den }
				}
			}
		}
		stress_impact = {
			greedy = minor_stress_gain
		}
	}

	option = { # Leave the bears alone
		name = wastelands.1201.d
		hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
		scope:obstacle_province = { add_building = bear_den }
	}
}

wastelands.1202 = { # Beargild
	content_source = realms_dlc
	type = character_event
	title = wastelands.1202.t
	desc = {
		desc = wastelands.1202.desc.1
		triggered_desc = { # Evil response to bear cub
			trigger = { 
				faith_is_evil = yes
			} 
			desc = wastelands.1202.desc.2.evil
		}
		triggered_desc = { # Non-evil response to bear cub
			trigger = { 
				faith_is_evil = no
			} 
			desc = wastelands.1202.desc.2.good
		}
	}
	theme = hunting

	left_portrait = {
		character = root
		animation = sadness
	}
	
	option = { # I must put it out of its misery
		name = wastelands.1202.a
		scope:obstacle_province = { remove_building = bear_den_cleared }
		if = {
			limit = {
				OR = {
					faith_is_good = yes
					faith = { has_doctrine = tenet_sanctity_of_nature }
				}
			}
			add_piety = -100
			add_stress = 50
		}
		else = {
			add_stress = -30
		}
		stress_impact = {
			compassionate = minor_stress_gain
			sadistic = medium_stress_loss
		}
	}
			
	option = { # Try to raise the cub
		name = wastelands.1202.b
		scope:obstacle_province = { remove_building = bear_den_cleared }
		remove_short_term_gold = 75
		random_list = { 
			10 = {
				send_interface_toast = {
					left_icon = root
					title = wastelands.1202.b.success.toast.t
					add_character_modifier = {
						modifier = pet_bear_modifier
						years = 18
					}
				}
			}
			90 = {
				send_interface_toast = {
					left_icon = root
					title = wastelands.1202.b.failure.toast.t
				}
			}
		}
		stress_impact = {
			compassionate = minor_stress_loss
		}
	}

	option = { # Leave the cub to fend for itself
		name = wastelands.1202.c
		hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
		scope:obstacle_province = { add_building = bear_den }
		if = {
			limit = {
				OR = {
					faith_is_good = yes
					faith = { has_doctrine = tenet_sanctity_of_nature }
				}
			}
			add_piety = 100
			add_stress = -50
		}
		else = {
			add_stress = 30
		}
		stress_impact = {
			compassionate = medium_stress_gain
			callous = medium_stress_loss
		}
	}
}

wastelands.1203 = { # The Raid
	content_source = realms_dlc
	type = character_event
	title = wastelands.1203.t
	desc = wastelands.1203.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = sadness
	}
	
	option = { # Kill the bear yourself
		name = wastelands.1203.a
		duel = {
			skill = prowess 
			value = 10
			30 = { # Success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -1
				}
				desc = wastelands.1203.a.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 150
					title = wastelands.1203.success.toast.t
					scope:obstacle_province = { remove_building = bear_den_cleared }
				}
			}
			40 = { # Failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -35
				}
				desc = wastelands.1203.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1203.failure.toast.t
					add_prestige = -75
					increase_wounds_effect = { REASON = hunting_accident }
					hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
					scope:obstacle_province = { add_building = bear_den }
				}
			}
		}
		stress_impact = {
			craven = medium_stress_gain
			brave = minor_stress_loss
		}
	}
			
	option = { # Get a party to kill the bear
		name = wastelands.1203.b
		duel = {
			skill = prowess 
			value = 5
			30 = { # Success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -1
				}
				desc = wastelands.1203.b.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 75
					title = wastelands.1203.success.toast.t
					scope:obstacle_province = { remove_building = bear_den_cleared }
				}
			}
			30 = { # Failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -35
				}
				desc = wastelands.1203.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1203.failure.toast.t
					add_prestige = -75
					hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
					scope:obstacle_province = { add_building = bear_den }
				}
			}
		}
	}

	option = { # Flee, causing bear to remain
		name = wastelands.1203.c
		hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
		scope:obstacle_province = { add_building = bear_den }
	}
}

wastelands.1204 = { # Mushroom Bear
	content_source = realms_dlc
	type = character_event
	title = wastelands.1204.t
	desc = wastelands.1204.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = sadness
	}

	right_portrait = {
		character = scope:steward
		animation = worry
	}
	immediate = {
		cp:councillor_steward = {
			save_scope_as = steward
		}
	}
	
	option = { # Let the levies deal with it
		name = wastelands.1204.a

		duel = {
			skill = martial 
			value = 10
			30 = { # Success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -1
				}
				desc = wastelands.1204.a.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 75
					title = wastelands.1204.success.toast.t
					scope:obstacle_province = { remove_building = bear_den_cleared }
				}
			}
			40 = { # Failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -35
				}
				desc = wastelands.1204.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1204.failure.toast.t
					add_prestige = -125
					hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
					scope:obstacle_province = {
						add_building = bear_den
					}
					scope:obstacle_province.county = {
						add_county_modifier = {
							modifier = bear_on_shrooms_loose
							years = 1
						}
					}
				}
			}
		}
	}
			
	option = { # Spike trap to deal with the bear
		name = wastelands.1204.b
		duel = {
			skill = intrigue 
			value = 15
			30 = { # Success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -1
				}
				desc = wastelands.1204.b.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 175
					title = wastelands.1204.success.toast.t
					scope:obstacle_province = { remove_building = bear_den_cleared }
				}
			}
			40 = { # Failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -35
				}
				desc = wastelands.1204.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1204.failure.toast.t
					add_prestige = -150
					hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
					scope:obstacle_province = {
						add_building = bear_den
					}
					scope:obstacle_province.county = {
						add_county_modifier = {
							modifier = bear_on_shrooms_loose
							years = 1
						}
					}
				}
			}
		}
	}

	option = { # Chance of getting ill or health boost
		name = wastelands.1204.c
		hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
		random_list = {
			45 = {
				send_interface_toast = {
					left_icon = root
					title = wastelands.1204.c.success.toast.t
					add_character_modifier = {
						modifier = stomach_ache_modifier
						years = 3
					}
				}
			}
			55 = {
				modifier = {
					add = learning
				}
				send_interface_toast = {
					left_icon = root
					title = wastelands.1204.c.failure.toast.t
					# add_character_modifier = {
					# 	modifier = medicine_student_modifier
					# 	years = 5
					# }
				}
			}
		}
		scope:obstacle_province = { add_building = bear_den }
	}
}

wastelands.1205 = { # More than meets the eye
	content_source = realms_dlc
	type = character_event
	title = wastelands.1205.t
	desc = wastelands.1205.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = personality_bold
	}

	trigger = {
		scope:obstacle_province = { 
			OR = {
				empire = title:e_anduin_vale 
				kingdom = title:k_high_pass
				kingdom = title:k_gundabad
				kingdom = title:k_grey_mountains
			}
		}
		faith_is_good = yes
	}

	option = { # Prowess check
		name = wastelands.1205.a
		
		duel = {
			skill = prowess 
			value = 10
			30 = { # Success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -1
				}
				desc = wastelands.1205.a.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 100
					title = wastelands.1205.a.success.toast.t
					scope:obstacle_province = { remove_building = bear_den_cleared }
				}
			}
			40 = { # Failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -35
				}
				desc = wastelands.1205.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1205.a.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
					scope:obstacle_province = { add_building = bear_den }
					increase_wounds_effect = { REASON = hunting_accident }
				}
			}
		}
	}
	
	option = { # Diplomacy check
		name = wastelands.1205.b

		duel = {
			skill = diplomacy 
			value = 10
			30 = { # success
				modifier = { 
					add = 5 
					has_trait = skinchanger
				}
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.1205.b.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.1205.b.success.toast.t
					scope:obstacle_province = { remove_building = bear_den_cleared }
					add_prestige = 50
					add_piety = 50
				}
			}
			30 = { # failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.1205.b.duel_failure
				root = {
					send_interface_toast = {
						left_icon = root
						title = wastelands.1205.b.failure.toast.t
						hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
						scope:obstacle_province = { add_building = bear_den }
						add_prestige = -100
					}
				}
			}
		}
	}
	
	option = { # Bear den remains
		name = wastelands.1205.c

		send_interface_toast = {
			left_icon = root
			add_prestige = -75
			title = wastelands.1205.toast.t
			hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
			scope:obstacle_province = { add_building = bear_den }
		}
	}
}

wastelands.1206 = { # The Man-Eater
	content_source = realms_dlc
	type = character_event
	title = wastelands.1206.t
	desc = wastelands.1206.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = sadness
	}

	right_portrait = {
		character = scope:marshal
		animation = worry
	}
	
	immediate = {
		cp:councillor_marshal = {
			save_scope_as = marshal
		}
	}
	
	option = { # Let the finest warriors deal with it
		name = wastelands.1206.a

		stress_impact = {
			greedy = medium_stress_gain
		}

		remove_short_term_gold = 50

		send_interface_toast = {
			left_icon = root
			title = wastelands.1206.success.toast.t
			scope:obstacle_province = { remove_building = bear_den_cleared }
		}
	}
			
	option = { # Marshal deals with the bear
		name = wastelands.1206.b

		stress_impact = {
			compassionate = medium_stress_gain
			callous = minor_stress_loss
		}

		scope:marshal = {
			duel = {
				skill = martial 
				value = 15
				60 = { # Success
					compare_modifier = {
						value = scope:duel_value
						multiplier = 3
						min = -1
					}

					desc = wastelands.1206.b.duel_success

					send_interface_toast = {
						left_icon = root
						right_icon = scope:marshal
						title = wastelands.1206.success.toast.t
						scope:obstacle_province = { remove_building = bear_den_cleared }
					}
				}
				40 = { # Failure
					compare_modifier = {
						value = scope:duel_value
						multiplier = -3
						min = -35
					}
					desc = wastelands.1206.b.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:marshal
							title = wastelands.1206.failure.toast.t
							hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
							scope:obstacle_province = {
								add_building = bear_den
							}
							scope:marshal = {
								increase_wounds_effect = {REASON = wild_animal}
							}
						}
					}
				}
			}
		}
	}

	option = { # Do nothing
		name = wastelands.1206.c

		stress_impact = {
			compassionate = major_stress_gain
		}

		add_legitimacy = minor_legitimacy_loss

		hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
		scope:obstacle_province = { add_building = bear_den }
	}
}

wastelands.1207 = { # Hated enemies
	content_source = realms_dlc
	type = character_event
	title = wastelands.1207.t
	desc = wastelands.1207.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = personality_bold
	}

	trigger = {
		scope:obstacle_province = { 
			OR = {
				empire = title:e_anduin_vale 
				kingdom = title:k_high_pass
				kingdom = title:k_gundabad
				kingdom = title:k_grey_mountains
			}
		}
		faith_is_evil = yes
	}

	option = { # Prowess check
		name = wastelands.1207.a
		skill = prowess
		duel = {
			skill = prowess 
			value = 10
			30 = { # Success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -1
				}
				desc = wastelands.1207.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 100
					title = wastelands.1207.success.toast.t
					scope:obstacle_province = { remove_building = bear_den_cleared }
				}
			}
			40 = { # Failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -35
				}
				desc = wastelands.1207.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1207.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
					scope:obstacle_province = { add_building = bear_den }
					increase_wounds_effect = { REASON = hunting_accident }
				}
			}
		}
	}
	
	option = { # Intrigue check
		name = wastelands.1207.b
		skill = intrigue
		duel = {
			skill = intrigue 
			value = 10
			30 = { # Success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -1
				}
				desc = wastelands.1207.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 100
					title = wastelands.1207.success.toast.t
					scope:obstacle_province = { remove_building = bear_den_cleared }
				}
			}
			40 = { # Failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -35
				}
				desc = wastelands.1207.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1207.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
					scope:obstacle_province = { add_building = bear_den }
					increase_wounds_effect = { REASON = hunting_accident }
				}
			}
		}
	}
	
	option = { # Bear den remains
		name = wastelands.1207.c

		send_interface_toast = {
			left_icon = root
			add_prestige = -75
			title = wastelands.1207.failure.toast.t
			hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
			scope:obstacle_province = { add_building = bear_den }
		}
	}
}

wastelands.1208 = { # Bear-Baiting
    type = character_event
    title = wastelands.1208.t
    desc = wastelands.1208.desc
    theme = realm

    left_portrait = root

    right_portrait = {
        character = scope:governor
    }

    override_background = wilderness_scope

    immediate = {
        create_character = {
            template = administrator_character
            culture = scope:obstacle_province.culture
            faith = scope:obstacle_province.faith
            location = scope:obstacle_province
            gender_female_chance = 50
            save_scope_as = governor
        }
    }

    trigger = {
        NOT = {
            faith = {
                has_doctrine = tenet_sanctity_of_nature
            }
        }
    }

    option = {
        name = wastelands.1208.a
        scope:obstacle_province = { 
            remove_building = bear_den_cleared 
            add_county_modifier = {
                modifier = permitted_bear_fighting
                years = 5
            }
        }
        stress_impact = {
            callous = medium_stress_loss
            sadistic = medium_stress_loss
        }
        if = {
            limit = {
                faith_is_evil = yes # not sure if we want doubling effects 
            }
            add_stress = -30
        }
    }

    option = {
        name = wastelands.1208.b
        scope:obstacle_province = {
            remove_building = bear_den_cleared
            add_county_modifier = {
                modifier = banned_bear_fighting
                years = 5
            }
            stress_impact = {
                compassionate = medium_stress_loss
            }
        }
    }

    option = {
        name = wastelands.1208.c
        skill = stewardship
        duel = {
            skill = stewardship
            value = 10
            30 = {
                compare_modifier = {
                    value = scope:duel_value
                }
                desc = wastelands.1208.c.duel_success
                send_interface_toast = {
                    left_icon = root
                    add_short_term_gold = 100
                    title = wastelands.1208.success.toast.t
                }
            }
            20 = {
                compare_modifier = {
                    value = scope:duel_value
                }
                desc = wastelands.1208.c.duel_failure
                send_interface_toast = {
                    left_icon = root
                    remove_short_term_gold = 100
                    title = wastelands.1208.failure.toast.t
                }
            }
        }
        scope:obstacle_province = { 
            remove_building = bear_den_cleared 
        }
    }

    after = {
        scope:governor = {
            silent_disappearance_effect = yes
        }
    }
}

wastelands.1209 = { # Sloth and savagery
	content_source = realms_dlc
	type = character_event
	title = wastelands.1209.t
	desc = wastelands.1209.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = personality_bold
	}

	trigger = {
		scope:obstacle_province = { 
			OR = {
				duchy = title:d_dagorlad
				duchy = title:d_brown_lands
				duchy = title:d_cormalthen
				duchy = title:d_heahand
				duchy = title:d_east_bight
				duchy = title:d_mimita
				duchy = title:d_yeretik
			}
		}
	}

	right_portrait = {
		character = scope:knight
		animation = disgust
	}
	
	immediate = {
		if = {
			limit = { 
				any_knight = { 
					is_ai = yes
					count > 0
				}
			}
			ordered_knight = {
				limit = { is_ai = yes }
				order_by = prowess
				save_scope_as = knight
			}
		}
	}

	option = { # Knight's Prowess check
		name = wastelands.1209.a
		skill = prowess
		trigger = { 
			any_knight = { 
				is_ai = yes
				count > 0
			} 
		}
		scope:knight = {
			duel = {
				skill = prowess 
				value = 10
				30 = { # Success
					compare_modifier = {
						value = scope:duel_value
						multiplier = 3
						min = -1
					}
					desc = wastelands.1209.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:knight					
							title = wastelands.1209.success.toast.t
							scope:obstacle_province = { remove_building = bear_den_cleared }
							scope:knight = {
								if = {
									limit = {
										exists = accolade
										accolade = { is_accolade_active = yes }
									}
									accolade = { add_glory = minimal_glory_gain }
								}
							}
						}
					}
				}
				30 = { # Failure
					compare_modifier = {
						value = scope:duel_value
						multiplier = -3
						min = -35
					}
					desc = wastelands.1209.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:knight	
							title = wastelands.1209.failure.toast.t
							hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
							scope:obstacle_province = { add_building = bear_den }
							scope:knight = {
								increase_wounds_effect = { REASON = hunting_accident }
							}
						}
					}
				}
			}
		}		
	}
	
	option = { # Prowess check
		name = wastelands.1209.b
		skill = prowess
		duel = {
			skill = prowess 
			value = 15
			30 = { # Success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -1
				}
				desc = wastelands.1209.duel_success
				send_interface_toast = {
					left_icon = root						
					title = wastelands.1209.success.toast.t
					scope:obstacle_province = { remove_building = bear_den_cleared }
					scope:knight = {
						add_prestige = minor_prestige_gain
					}
				}
			}
			30 = { # Failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -35
				}
				desc = wastelands.1209.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1209.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
					scope:obstacle_province = { add_building = bear_den }
					increase_wounds_effect = { REASON = hunting_accident }
				}
			}
		}	
	}
	
	option = { # Bear den remains
		name = wastelands.1209.c

		send_interface_toast = {
			left_icon = root
			add_prestige = minor_prestige_loss
			title = wastelands.1209.failure.toast.t
			hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
			scope:obstacle_province = { add_building = bear_den }
		}
	}
}

#####################
#  Spider Nest Den  #
#####################

wastelands.1401 = { # The Great Web
	content_source = realms_dlc
	type = character_event
	title = wastelands.1401.t
	desc = wastelands.1401.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = personality_honorable
	}

	right_portrait = {
		character = scope:knight
		animation = disgust
	}
	
	immediate = {
		if = {
			limit = { 
				any_knight = { 
					is_ai = yes
					count > 0
				}
			}
			ordered_knight = {
				limit = { is_ai = yes }
				order_by = prowess
				save_scope_as = knight
			}
		}
	}

	option = { # Let us take axes to the trees, and swords to whatever survives!
		name = wastelands.1401.a
		skill = prowess
		duel = {
			skill = prowess 
			value = 14
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -1
				}
				desc = wastelands.1401.a.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 150
					title = wastelands.1401.success.toast.t
					scope:obstacle_province = { remove_building = spider_nest_cleared }
				}
			}
			40 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -35
				}
				desc = wastelands.1401.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1401.failure.toast.t
					add_prestige = -75
					increase_wounds_effect = { REASON = hunting_accident }
					hidden_effect = { scope:obstacle_province = { remove_building = spider_nest_cleared } }
					scope:obstacle_province = { add_building = spider_nest }
				}
			}
		}
		stress_impact = {
			craven = medium_stress_gain
			brave = minor_stress_loss
		}
	}
			
	option = { # Send for my archers, they'll soon be rid of them.
		name = wastelands.1401.b
		skill = martial
		duel = {
			skill = martial 
			value = 12
			40 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.1401.b.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 50
					title = wastelands.1401.success.toast.t
					scope:obstacle_province = { remove_building = spider_nest_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.1401.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1401.failure.toast.t
					add_prestige = -100
					hidden_effect = { scope:obstacle_province = { remove_building = spider_nest_cleared } }
					scope:obstacle_province = { add_building = spider_nest }
				}
			}
		}
	}

	option = { # Bring me fire... we'll burn them out!
		name = wastelands.1401.c
		custom_tooltip = wastelands.1401.c.tt
		scope:obstacle_province = { remove_building = spider_nest_cleared }
		random = {
			chance = 20
			make_settlement_county_wilderness = {
				COUNTY = scope:obstacle_province.county
			}
		}
	}

	option = { # Did I mention I'm arachnophobic?
		name = wastelands.1401.d
		hidden_effect = { scope:obstacle_province = { remove_building = spider_nest_cleared } }
		scope:obstacle_province = { add_building = spider_nest }
	}
}

wastelands.1402 = { # Attercop
	content_source = realms_dlc
	type = character_event
	title = wastelands.1402.t
	desc = wastelands.1402.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = stress
	}

	right_portrait = {
		character = scope:colonist
		animation = fear
	}
	
	immediate = {
		create_character = {
			template = peasant_character
			dynasty = none
			culture = scope:obstacle_province.culture
			faith = scope:obstacle_province.faith
			location = scope:obstacle_province
			gender_female_chance = 50
			save_scope_as = colonist
			after_creation = {
				remove_trait = peasant_leader
			}
		}
	}

	option = { # Devote some of my men to purge them.
		name = wastelands.1402.a
		add_character_modifier = {
			modifier = levies_aiding_colony_modifier
			years = 5
		}
		random_list = { 
			85 = {
				send_interface_toast = {
					left_icon = root
					title = wastelands.1401.success.toast.t
					scope:obstacle_province = { remove_building = spider_nest_cleared }
				}
			}
			15 = {
				send_interface_toast = {
					left_icon = root
					title = wastelands.1401.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = spider_nest_cleared } }
					scope:obstacle_province = { add_building = spider_nest }
				}
			}
		}
	}
			
	option = { # I will trust this task to hired professionals.
		name = wastelands.1402.b
		remove_short_term_gold = 100
		random_list = { 
			70 = {
				send_interface_toast = {
					left_icon = root
					title = wastelands.1401.success.toast.t
					scope:obstacle_province = { remove_building = spider_nest_cleared }
				}
			}
			30 = {
				send_interface_toast = {
					left_icon = root
					title = wastelands.1401.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = spider_nest_cleared } }
					scope:obstacle_province = { add_building = spider_nest }
				}
			}
		}
		stress_impact = {
			greedy = minor_stress_gain
		}
	}

	option = { # Bring me fire... we'll burn them out!
		name = wastelands.1402.c
		hidden_effect = { scope:obstacle_province = { remove_building = spider_nest_cleared } }
		scope:obstacle_province = { add_building = spider_nest }
		stress_impact = {
			compassionate = minor_stress_gain
		}
	}

	after = {
		scope:colonist = {
			silent_disappearance_effect = yes
		}
	}	

}

wastelands.1403 = { # Saved from the Lair
	content_source = realms_dlc
	type = character_event
	title = wastelands.1403.t
	desc = wastelands.1403.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = interested
	}

	right_portrait = {
		character = scope:rescued_person
		animation = happiness
	}
	
	immediate = {
		create_character = {
			template = peasant_character
			dynasty = generate
			culture = scope:obstacle_province.culture
			faith = scope:obstacle_province.faith
			location = scope:obstacle_province
			gender_female_chance = 50
			save_scope_as = rescued_person
			after_creation = {
				remove_trait = peasant_leader
			}
		}
	}

	option = { # You'll have a place at my court
		name = wastelands.1403.a
		add_courtier = scope:rescued_person
		root = {
			add_hook = {
				target = scope:rescued_person
				type = favor_hook
			}
		}
		scope:obstacle_province = { remove_building = spider_nest_cleared }
	}
			
	option = { # Here's some gold, be on your way
		name = wastelands.1403.b
		remove_short_term_gold = minor_gold_value
		add_piety = minor_piety_gain
		scope:obstacle_province = { remove_building = spider_nest_cleared }
		stress_impact = {
			greedy = minor_stress_gain
			compassionate = medium_stress_loss
			gregarious = medium_stress_loss
		}
	}

	option = { # Yeah you can be one of the workers
		name = wastelands.1403.c
		scope:obstacle_province = { remove_building = spider_nest_cleared }
		scope:obstacle_province.county = { 
			change_development_progress = 25
		}
		stress_impact = {
			compassionate = minor_stress_gain
			greedy = minor_stress_loss
		}
	}	
	
	option = { # You're a local, look after the colony please
		name = wastelands.1403.d
		trigger = {
			highest_held_title_tier > tier_county
			scope:obstacle_province = {
				NOT = {
					#terrain = mountains
					terrain = halls
					#terrain = desert_mountains
				}
			}
		}
		random_list = { 
			75 = {
				custom_tooltip = wastelands.1403.d.tt.success
				hidden_effect = {
					send_interface_toast = {
						left_icon = root
						right_icon = scope:rescued_person
						title = wastelands.1403.d.tt.success
					}
				}
				scope:obstacle_province = { remove_building = spider_nest_cleared }
				if = {
					limit = {
						has_government = elven_government
					}
					scope:obstacle_province = {
						set_holding_type = elven_holding
					}	
				}	
				else_if = {
					limit = {
						has_government = hobbit_government
					}
					scope:obstacle_province = {
						set_holding_type = city_holding
					}
				}
				else_if = {
					limit = {
						has_government = tribal_government
					}
					scope:obstacle_province = {
						set_holding_type = tribal_holding
					}
				}
				else = {
					scope:obstacle_province = {
						set_holding_type = castle_holding
					}
				}
					
				scope:obstacle_province.county = {
					set_county_faith = root.faith
					set_county_culture = root.culture
					change_development_level = 3
					generate_coa = yes
				}
				
				create_title_and_vassal_change = {
					type = conquest
					save_scope_as = title_change
					add_claim_on_loss = yes
				}
				scope:obstacle_province.county = {
					change_title_holder = {
						holder = scope:rescued_person
						change = scope:title_change
						take_baronies = yes
					}
				}
				
				resolve_title_and_vassal_change = scope:title_change
				
				hidden_effect = {
					if = {
						limit = {
							has_government = elven_government
						}
						scope:rescued_person = {
							change_government = elven_government
						}
					}
					if = {
						limit = {
							has_government = hobbit_government
						}
						scope:rescued_person = {
							change_government = hobbit_government
						}
					}
					if = {
						limit = {
							has_government = tribal_government
						}
						scope:rescued_person = {
							change_government = tribal_government
						}
					}
					else_if = {
						limit = {
							has_government = clan_government
						}
						scope:rescued_person = {
							change_government = clan_government
						}
					}
					else = {
						scope:rescued_person = {
							change_government = feudal_government
						}
					}
				}

			}
			25 = {
				custom_tooltip = wastelands.1403.d.tt.failure
				hidden_effect = {
					send_interface_toast = {
						left_icon = root
						right_icon = scope:rescued_person
						title = wastelands.1403.d.tt.failure
					}
				}
				hidden_effect = { scope:obstacle_province = { remove_building = spider_nest_cleared } }
				scope:obstacle_province = { add_building = spider_nest }	
				
			}
		}
	}

}

#################
#  Bandits Den  #
#################

wastelands.1601 = { # The Outcasts
	content_source = realms_dlc
	type = character_event
	title = wastelands.1601.t
	desc = {
		desc = wastelands.1601.desc.1
		triggered_desc = { # Has Marshal
			trigger = { 
				any_martial_councillor = {
					count > 0
				}
			} 
			desc = wastelands.1601.desc.2.marshal
		}
		triggered_desc = { # No has Marshal
			trigger = { 
				any_martial_councillor = {
					count = 0
				}
			} 
			desc = wastelands.1601.desc.2.knight
		}
		triggered_desc = { # Has Spymaster
			trigger = { 
				any_intrigue_councillor = {
					count > 0
				}
			} 
			desc = wastelands.1601.desc.3.spymaster
		}
		triggered_desc = { # No has Spymaster
			trigger = { 
				any_intrigue_councillor = {
					count = 0
				}
			} 
			desc = wastelands.1601.desc.3.scholar
		}
	}
	theme = realm

	left_portrait = {
		character = root
		animation = personality_rational
	}

	right_portrait = {
		character = scope:spymaster
		animation = flirtation
	}

	lower_center_portrait = {
		character = scope:marshal
	}
	
	immediate = {
		if = {
			limit = {
				any_martial_councillor = {
					count > 0
				}
			}
			random_martial_councillor = {
				save_scope_as = marshal
			}
		}
		else ={
			ordered_courtier = {
				order_by = martial
				save_scope_as = marshal
			}
		}
		if = {
			limit = {
				any_intrigue_councillor = {
					count > 0
				}
			}
			random_intrigue_councillor = {
				save_scope_as = spymaster
			}
		}
		else ={
			ordered_courtier = {
				limit = { NOT = { this = scope:marshal } }
				order_by = learning
				save_scope_as = spymaster
			}
		}
	}

	option = { # I don’t care who was there first. Settle this with swords!
		name = wastelands.1601.a
		skill = martial
		duel = {
			skill = martial 
			value = 8
			40 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.1601.a.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 50
					title = wastelands.1601.success.toast.t
					scope:obstacle_province = { remove_building = bandits_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.1601.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1601.failure.toast.t
					add_prestige = -150
					hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
					scope:obstacle_province = { add_building = bandits }
				}
			}
		}
		reverse_add_opinion = {
			modifier = pleased_opinion
			opinion = 20
			target = scope:marshal
		}
		reverse_add_opinion = {
			modifier = disappointed_opinion
			opinion = -20
			target = scope:spymaster
		}
		stress_impact = {
			just = medium_stress_gain
			calm = minor_stress_gain
			patient = minor_stress_gain
			impatient = minor_stress_loss
			wrathful = minor_stress_loss
			arbitrary = minor_stress_loss
		}
	}
			
	option = { # Pardon the outlaws and restore them to their lands.
		name = wastelands.1601.b
		skill = stewardship
		duel = {
			skill = stewardship 
			value = 8
			40 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.1601.b.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 50
					title = wastelands.1601.success.toast.t
					scope:obstacle_province = { remove_building = bandits_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.1601.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1601.failure.toast.t
					add_prestige = -150
					hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
					scope:obstacle_province = { add_building = bandits }
				}
			}
		}
		reverse_add_opinion = {
			modifier = pleased_opinion
			opinion = 20
			target = scope:spymaster
		}
		reverse_add_opinion = {
			modifier = disappointed_opinion
			opinion = -20
			target = scope:marshal
		}
		stress_impact = {
			vengeful = minor_stress_gain
			callous = minor_stress_gain
			compassionate = minor_stress_loss
			forgiving = minor_stress_loss
		}
	}

	option = { # I will find the truth of the matter myself...
		name = wastelands.1601.c
		skill = diplomacy
		duel = {
			skill = diplomacy 
			value = 14
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -1
				}
				desc = wastelands.1601.c.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 50
					title = wastelands.1601.success.toast.t
					reverse_add_opinion = {
						modifier = pleased_opinion
						opinion = 30
						target = scope:spymaster
					}
					reverse_add_opinion = {
						modifier = pleased_opinion
						opinion = 30
						target = scope:marshal
					}
					scope:obstacle_province = { remove_building = bandits_cleared }
				}
			}
			40 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -35
				}
				desc = wastelands.1601.c.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1601.failure.toast.t
					reverse_add_opinion = {
						modifier = disappointed_opinion
						opinion = -30
						target = scope:spymaster
					}
					reverse_add_opinion = {
						modifier = disappointed_opinion
						opinion = -30
						target = scope:marshal
					}
					add_prestige = -150
					hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
					scope:obstacle_province = { add_building = bandits }
				}
			}
		}
		stress_impact = {
			just = minor_stress_loss
			gregarious = minor_stress_loss
			patient = minor_stress_loss
			impatient = minor_stress_gain
			shy = medium_stress_gain
			arbitrary = minor_stress_gain
		}
	}

	option = { # Leave the bandits alone
		name = wastelands.1601.d
		hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
		scope:obstacle_province = { add_building = bandits }
		reverse_add_opinion = {
			modifier = disappointed_opinion
			opinion = -10
			target = scope:spymaster
		}
		reverse_add_opinion = {
			modifier = disappointed_opinion
			opinion = -10
			target = scope:marshal
		}
		stress_impact = {
			lazy = minor_stress_loss
		}
	}

}

wastelands.1602 = { # The Corral
	content_source = realms_dlc
	type = character_event
	title = wastelands.1602.t
	desc = {
		triggered_desc = { # Has Marshal
			trigger = { 
				any_martial_councillor = {
					count > 0
				}
			} 
			desc = wastelands.1602.desc.marshal
		}
		triggered_desc = { # No has Marshal
			trigger = { 
				any_martial_councillor = {
					count = 0
				}
			} 
			desc = wastelands.1602.desc.knight
		}
	}
	theme = realm

	left_portrait = {
		character = root
		animation = personality_cynical
	}

	right_portrait = {
		character = scope:marshal
		animation = happiness
	}
	
	immediate = {
		if = {
			limit = {
				any_martial_councillor = {
					count > 0
				}
			}
			random_martial_councillor = {
				save_scope_as = marshal
			}
		}
		else ={
			ordered_courtier = {
				order_by = martial
				save_scope_as = marshal
			}
		}
	}

	option = { # Crush them!
		name = wastelands.1602.a
		skill = martial
		duel = {
			skill = martial 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.1602.a.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 50
					title = wastelands.1601.success.toast.t
					scope:obstacle_province = { remove_building = bandits_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.1602.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1601.failure.toast.t
					add_prestige = -100
					hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
					scope:obstacle_province = { add_building = bandits }
				}
			}
		}
		stress_impact = {
			calm = minor_stress_gain
			patient = minor_stress_gain
			impatient = minor_stress_loss
			wrathful = minor_stress_loss
			arbitrary = minor_stress_loss
		}
	}
			
	option = { # What if they could be persuaded to enlist?
		name = wastelands.1602.b
		skill = diplomacy
		duel = {
			skill = diplomacy 
			value = 14
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -15
				}
				desc = wastelands.1602.b.duel_success
				scope:obstacle_province = {
					add_province_modifier = {
						modifier = enlisted_bandits_province_modifier
						years = 30
					}
				}
				send_interface_toast = {
					left_icon = root
					title = wastelands.1601.success.toast.t
					scope:obstacle_province = { remove_building = bandits_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -29
				}
				desc = wastelands.1602.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1601.failure.toast.t
					add_prestige = -150
					hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
					scope:obstacle_province = { add_building = bandits }
				}
			}
		}
		stress_impact = {
			vengeful = minor_stress_gain
			forgiving = minor_stress_loss
		}
	}

	option = { # I suppose I could pay their travel expenses...
		name = wastelands.1602.c
		remove_short_term_gold = 125
		add_prestige = -25
		scope:obstacle_province = { remove_building = bandits_cleared }
		stress_impact = {
			greedy = minor_stress_gain
			generous = minor_stress_loss
			compassionate = minor_stress_loss
		}
	}
}

wastelands.1603 = { # The Brotherhood
	content_source = realms_dlc
	type = character_event
	title = wastelands.1603.t
	desc = wastelands.1603.desc

	theme = realm

	left_portrait = {
		character = root
		animation = personality_cynical
	}

	option = { # Crush them!
		name = wastelands.1603.a
		skill = martial
		duel = {
			skill = martial 
			value = 20
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.1603.a.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = medium_prestige_gain
					add_gold = medium_gold_value
					title = wastelands.1603.success.toast.t
					scope:obstacle_province = { remove_building = bandits_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.1603.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1603.failure.toast.t
					add_prestige = medium_prestige_loss
					scope:obstacle_province.county = { 
						change_development_progress = -50
					}
					hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
					scope:obstacle_province = { add_building = bandits }
				}
			}
		}
	}
			
	option = { # An interesting offer! 
		name = wastelands.1603.b
		skill = intrigue
		duel = {
			skill = intrigue 
			value = 14
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -15
				}
				desc = wastelands.1603.b.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.1603.success.toast.t
					scope:obstacle_province.county = { 
						change_development_level = 1
					}
					scope:obstacle_province = { remove_building = bandits_cleared }
					add_prestige = minor_prestige_gain
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -29
				}
				desc = wastelands.1603.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1603.failure.toast.t
					add_prestige = major_prestige_loss
					hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
					scope:obstacle_province = { add_building = bandits }
				}
			}
		}
	}

	option = { # I will take your oaths of fealty here
		name = wastelands.1603.c
		add_prestige = minor_prestige_loss
		scope:obstacle_province = { 
			remove_building = bandits_cleared 
			add_province_modifier = {
				modifier = ruled_by_bandits_modifier
				years = 5
			}
		}
		
		stress_impact = {
			ambitious = minor_stress_gain
			greedy = minor_stress_gain
			overseer = minor_stress_loss
			just = minor_stress_loss
		}
	}
}

wastelands.1604 = { # Tribes of the North
	content_source = realms_dlc
	type = character_event
	title = wastelands.1604.t
	desc = wastelands.1604.desc
	theme = realm
	override_background = {
		reference = wilderness_mountains
	}

	trigger = {
		scope:obstacle_province = { 
			OR = {		
				kingdom = title:k_angmar
				kingdom = title:k_forochel				
				kingdom = title:k_gundabad
				kingdom = title:k_iron_hills
				kingdom = title:k_belegost
				kingdom = title:k_arthedain
				duchy = title:d_dweorad
			}
		}
	}

	left_portrait = {
		character = root
		animation = personality_cynical
	}

	option = { # Crush them!
		name = wastelands.1604.a
		skill = martial
		duel = {
			skill = martial 
			value = 14
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.1604.a.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = medium_prestige_gain
					title = wastelands.1604.success.toast.t
					scope:obstacle_province = { remove_building = bandits_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.1604.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1604.failure.toast.t
					add_prestige = medium_prestige_loss
					hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
					scope:obstacle_province = { add_building = bandits }
					make_settlement_county_wilderness = {
						COUNTY = scope:obstacle_province.county
					}
				}
			}
		}
	}
			
	option = { # Send an emissary 
		name = wastelands.1604.b
		skill = diplomacy
		duel = {
			skill = diplomacy
			value = 14
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -15
				}
				modifier = {
					OR = {
						has_culture = culture:hillmen
						has_culture = culture:valemen
					}					
					add = 25
				}
				desc = wastelands.1604.b.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.1604.success.toast.t
					scope:obstacle_province.county = { 
						change_development_progress = 50
					}
					scope:obstacle_province = { remove_building = bandits_cleared }
					add_prestige = minor_prestige_gain
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -29
				}
				desc = wastelands.1604.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1604.failure.toast.t
					add_prestige = major_prestige_loss
					hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
					scope:obstacle_province = { 
						add_building = bandits 
						add_province_modifier = {
							modifier = recently_looted_modifier
							years = 5
						}
					}
				}
			}
		}
	}

	option = { # As if these rag-wearing savages are any threat.
		name = wastelands.1604.c
		add_prestige = medium_prestige_loss
		hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
		scope:obstacle_province = { add_building = bandits }
	}
}

wastelands.1605 = { # The Traitor
	content_source = realms_dlc
	type = character_event
	title = wastelands.1605.t
	desc = wastelands.1605.desc
	theme = realm

	left_portrait = {
		character = root
		animation = disbelief
	}

	right_portrait = {
		character = scope:traitor
		animation = scheme
	}
	
	immediate = {
		create_character = {
			template = peasant_character
			dynasty = none
			location = scope:obstacle_province
			gender_female_chance = 50
			save_scope_as = traitor
			culture = root.culture
			faith = root.faith
			after_creation = {
				remove_trait = peasant_leader
			}
		}
	}
			
	option = { # Very well, if you say so...
		name = wastelands.1605.a
		skill = intrigue
		duel = {
			skill = intrigue
			value = 14
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -15
				}
				desc = wastelands.1605.a.duel_success
				send_interface_toast = {
					left_icon = root
					right_icon = scope:traitor
					title = wastelands.1605.success.toast.t
					scope:obstacle_province = { remove_building = bandits_cleared }
					remove_short_term_gold = 60
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -29
				}
				desc = wastelands.1605.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1605.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
					scope:obstacle_province = { 
						add_building = bandits 
					}
					remove_short_term_gold = 60
				}
			}
		}
	}

	option = { # Crush them!
		name = wastelands.1605.b
		skill = martial
		duel = {
			skill = martial 
			value = 18
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.1605.b.duel_success
				send_interface_toast = {
					left_icon = root
					right_icon = scope:traitor
					title = wastelands.1605.success.toast.t
					scope:obstacle_province = { remove_building = bandits_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.1605.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1605.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
					scope:obstacle_province = { 
						add_building = bandits 
					}
				}
			}
		}
	}

	option = { # I do not need your help
		name = wastelands.1605.c
		random_list = { 
			1 = {
				send_interface_toast = {
					left_icon = root
					title = wastelands.1605.success.toast.t
					scope:obstacle_province = { remove_building = bandits_cleared }
				}
			}
			1 = {
				send_interface_toast = {
					left_icon = root
					title = wastelands.1605.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
					scope:obstacle_province = { add_building = bandits }
				}
			}
		}
	}
	after = {
		scope:traitor = {
			silent_disappearance_effect = yes
		}
	}
}
	
wastelands.1606 = { # The Cunning Brigand
	content_source = realms_dlc
	type = character_event
	title = wastelands.1606.t
	desc = wastelands.1606.desc
	theme = realm

	left_portrait = {
		character = root
		animation = interested
	}
	right_portrait = {
		character = scope:brigand
		animation = personality_bold
	}
	
	immediate = {
		if = {
			limit = {
				scope:obstacle_province = { 
					OR = {		
						empire = title:e_forodwaith
						empire = title:e_arnor				
						empire = title:e_orrostar
					}
				}
			}
			create_character = {
				template = new_warrior_character
				dynasty = generate
				location = scope:obstacle_province
				gender_female_chance = 50
				save_scope_as = brigand
				age = { 18 28 }
				culture = culture:hillmen
				faith = faith:faith_hillmen
			}
		}
		else_if = {
			limit = {
				scope:obstacle_province = { 
					OR = {		
						empire = title:e_rhovanion
						empire = title:e_greenwood				
						empire = title:e_anduin_vale
					}
				}
			}
			create_character = {
				template = new_warrior_character
				dynasty = generate
				location = scope:obstacle_province
				gender_female_chance = 50
				save_scope_as = brigand
				age = { 18 28 }
				culture = culture:woodmen
				faith = faith:faith_woodmen
			}
		}
		else_if = {
			limit = {
				scope:obstacle_province = { 
					OR = {		
						empire = title:e_gondor
						empire = title:e_enedhwaith			
					}
				}
			}
			create_character = {
				template = new_warrior_character
				dynasty = generate
				location = scope:obstacle_province
				gender_female_chance = 50
				save_scope_as = brigand
				age = { 18 28 }
				culture = culture:adornaen
				faith = faith:faith_gwathuirim_dynion
			}
		}
		else_if = {
			limit = {
				scope:obstacle_province = { 
					OR = {		
						empire = title:e_rhun
						empire = title:e_khand		
					}
				}
			}
			create_character = {
				template = new_warrior_character
				dynasty = generate
				location = scope:obstacle_province
				gender_female_chance = 50
				save_scope_as = brigand
				age = { 18 28 }
				culture = culture:igath
				faith = faith:faith_rhun_pantheistic
			}
		}
		else = {
			create_character = {
				template = new_warrior_character
				dynasty = generate
				location = scope:obstacle_province
				gender_female_chance = 50
				save_scope_as = brigand
				age = { 18 28 }
				culture = root.culture
				faith = root.faith
			}
		}
	}

	option = { # This is not a good idea, have him captured
		name = wastelands.1606.a
		scope:obstacle_province = { remove_building = bandits_cleared }
		scope:obstacle_province.county = { 
			change_development_progress = -75
		}
		imprison = {
			target = scope:brigand
			type = dungeon
		}
	}
	
	option = { # Join me at my court instead
		name = wastelands.1606.b 
		scope:obstacle_province = { remove_building = bandits_cleared }
		add_courtier = scope:brigand
		add_prestige = minor_prestige_loss
	}
	
	option = { # Very well...
		name = wastelands.1606.c 
		trigger = {
			NOT = {
				is_elf = yes
				is_maiar_fallen = yes
				is_nazgul = yes
				is_hobbit = yes
			}
			highest_held_title_tier > tier_county
		}
		random_list = { 
			75 = {
				custom_tooltip = wastelands.1606.c.tt.success
				hidden_effect = {
					send_interface_toast = {
						left_icon = root
						right_icon = scope:brigand
						title = wastelands.1606.c.tt.success
					}
				}
				scope:obstacle_province = { remove_building = bandits_cleared }
				if = {
					limit = {
						scope:obstacle_province = {
							OR = {
								#terrain = mountains
								terrain = halls
								#terrain = desert_mountains
							}
						}
					}
					scope:obstacle_province = {
						set_holding_type = dwarven_holding
					}	
				}	
				else_if = {
					limit = {
						has_government = tribal_government
					}
					scope:obstacle_province = {
						set_holding_type = tribal_holding
					}
				}
				else = {
					scope:obstacle_province = {
						set_holding_type = castle_holding
					}
				}
					
				scope:obstacle_province.county = {
					set_county_faith = root.faith
					set_county_culture = root.culture
					change_development_level = 3
					generate_coa = yes
				}
				
				create_title_and_vassal_change = {
					type = conquest
					save_scope_as = title_change
					add_claim_on_loss = yes
				}
				scope:obstacle_province.county = {
					change_title_holder = {
						holder = scope:brigand
						change = scope:title_change
						take_baronies = yes
					}
				}
				
				resolve_title_and_vassal_change = scope:title_change
				
				hidden_effect = {
					if = {
						limit = {
							has_government = tribal_government
						}
						scope:brigand = {
							change_government = tribal_government
						}
					}
					else_if = {
						limit = {
							has_government = clan_government
						}
						scope:brigand = {
							change_government = clan_government
						}
					}
					else = {
						scope:brigand = {
							change_government = feudal_government
						}
					}
				}

			}
			25 = {
				custom_tooltip = wastelands.1606.c.tt.failure
				hidden_effect = {
					send_interface_toast = {
						left_icon = root
						right_icon = scope:brigand
						title = wastelands.1606.c.tt.failure
					}
				}
				
				hidden_effect = {
					scope:obstacle_province = { remove_building = bandits_cleared }
					if = {
						limit = {
							scope:obstacle_province = {
								OR = {
									#terrain = mountains
									terrain = halls
									#terrain = desert_mountains
								}
							}
						}
						scope:obstacle_province = {
							set_holding_type = dwarven_holding
						}	
					}
					else = {
						scope:obstacle_province = { 
							set_holding_type = castle_holding
						}
					}
					scope:obstacle_province.county = {
						set_county_faith = scope:brigand.faith
						set_county_culture = scope:brigand.culture
						change_development_level = 3
						generate_coa = yes
					}
					
					create_title_and_vassal_change = {
						type = conquest
						save_scope_as = title_change
						add_claim_on_loss = yes
					}
					scope:obstacle_province.county = {
						change_title_holder = {
							holder = scope:brigand
							change = scope:title_change
							take_baronies = yes
						}
					}
					scope:brigand = {
						becomes_independent = { change = scope:title_change }
					}
					
					resolve_title_and_vassal_change = scope:title_change
					
					scope:brigand = {
						change_government = feudal_government
					}
				}
				
			}
		}
	}	
	option = { # The province is yours
		name = wastelands.1606.d 
		custom_tooltip = wastelands.1606.d.tt
		hidden_effect = {
			scope:obstacle_province = { remove_building = bandits_cleared }
			if = {
				limit = {
					scope:obstacle_province = {
						OR = {
							#terrain = mountains
							terrain = halls
							#terrain = desert_mountains
						}
					}
				}
				scope:obstacle_province = {
					set_holding_type = dwarven_holding
				}	
			}
			else = {
				scope:obstacle_province = { 
					set_holding_type = castle_holding
				}
				scope:obstacle_province.county = {
					set_county_faith = scope:brigand.faith
					set_county_culture = scope:brigand.culture
					change_development_level = 3
					generate_coa = yes
				}
				
				create_title_and_vassal_change = {
					type = conquest
					save_scope_as = title_change
					add_claim_on_loss = yes
				}
				scope:obstacle_province.county = {
					change_title_holder = {
						holder = scope:brigand
						change = scope:title_change
						take_baronies = yes
					}
				}
				scope:brigand = {
					becomes_independent = { change = scope:title_change }
				}
				
				resolve_title_and_vassal_change = scope:title_change
				
				scope:brigand = {
					change_government = feudal_government
				}
			}
		}
	}
}

#################
#  Dense Growth #
#################

wastelands.1701 = { # Lost in the Forest
	content_source = realms_dlc
	type = character_event
	title = wastelands.1701.t
	desc = wastelands.1701.desc
	theme = intrigue
	override_background = {
		reference = wilderness_forest_deep
	}

	left_portrait = {
		character = root
		animation = worry
	}
	
	immediate = {
		random_courtier_or_guest = {
			limit = {
				is_lotr_adult = yes
				is_ruler = no
				NOT = { is_player_heir_of = root }
			}
			save_scope_as = lost_person
		}
		
		remove_courtier_or_guest = scope:lost_person
	}

	option = { # We must find them!
		name = wastelands.1701.a
		remove_short_term_gold = medium_gold_value
		add_courtier = scope:lost_person
		root = {
			add_hook = {
				target = scope:lost_person
				type = favor_hook
			}
		}
		scope:obstacle_province = { remove_building = dense_growth_cleared }
	}
			
	option = { # I'll look for them myself
		name = wastelands.1701.b
		add_prestige = miniscule_prestige_gain
		duel = {
			skill = intrigue 
			value = medium_skill_rating
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -20
				}
				desc = wastelands.1701.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = medium_prestige_gain
					title = wastelands.1701.duel_success
					scope:obstacle_province = { remove_building = dense_growth_cleared }
					add_courtier = scope:lost_person
					root = {
						add_hook = {
							target = scope:lost_person
							type = favor_hook
						}
					}
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -25
				}
				desc = wastelands.1701.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1701.duel_failure							
					add_prestige = medium_prestige_loss
					scope:obstacle_province = { remove_building = dense_growth_cleared }
				}
				scope:lost_person = {
					random_list = {
						1 = { 
							death = { death_reason = death_vanished } 
							root = {
								send_interface_toast = {
									left_icon = scope:lost_person
									title = wastelands.1701.c.death							
								}
							}
						}
						1 = { 
							add_trait = gallowsbait 
							root = {
								send_interface_toast = {
									left_icon = scope:lost_person
									title = wastelands.1701.c.vanished							
								}
							}
						}
						1 = { 
							create_landless_adventurer_title_effect = {
								REASON = flag:voluntary
								FLAVOR_CHAR = root
							}
							trigger_event = { id = ep3_laamps.0030 days = 1 }
							root = {
								send_interface_toast = {
									left_icon = scope:lost_person
									title = wastelands.1701.c.laamp						
								}
							}
						}
					}
				}
			}
		}
	}

	option = { # Ignore the missing person and focus on the colony
		name = wastelands.1701.c
		scope:obstacle_province = { remove_building = dense_growth_cleared }
		add_dread = minor_dread_gain
		scope:obstacle_province.county = { 
			change_development_progress = 25
		}
		stress_impact = {
			compassionate = minor_stress_gain
			greedy = minor_stress_loss
		}
		scope:lost_person = {
			random_list = {
				1 = { 
					death = { death_reason = death_vanished } 
					root = {
						send_interface_toast = {
							left_icon = scope:lost_person
							title = wastelands.1701.c.death							
						}
					}
				}
				1 = { 
					add_trait = gallowsbait 
					root = {
						send_interface_toast = {
							left_icon = scope:lost_person
							title = wastelands.1701.c.vanished							
						}
					}
				}
				1 = { 
					create_landless_adventurer_title_effect = {
						REASON = flag:voluntary
						FLAVOR_CHAR = root
					}
					trigger_event = { id = ep3_laamps.0030 days = 1 }
					root = {
						send_interface_toast = {
							left_icon = scope:lost_person
							title = wastelands.1701.c.laamp						
						}
					}
				}
			}
		}
	}	

	option = { # I know these woods like the back of my hand
		name = wastelands.1701.d
		trigger = { is_druedain = yes }
		add_courtier = scope:lost_person
		add_prestige = medium_prestige_gain
		root = {
			add_hook = {
				target = scope:lost_person
				type = favor_hook
			}
		}
		scope:obstacle_province = { remove_building = dense_growth_cleared }
	}
}

wastelands.1702 = { # Yield of the Forest
	content_source = realms_dlc
	type = character_event
	title = wastelands.1702.t
	desc = wastelands.1702.desc
	theme = stewardship
	override_background = {
		reference = wilderness_forest
	}

	left_portrait = {
		character = root
		animation = interested
	}

	option = { # Sell it to make a profit
		name = wastelands.1702.a
		duel = {
			skill = stewardship 
			value = medium_skill_rating
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -20
				}
				desc = wastelands.1702.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.1702.duel_success
					scope:obstacle_province = { remove_building = dense_growth_cleared }
					add_gold = major_gold_value
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -25
				}
				desc = wastelands.1702.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1701.duel_failure							
					scope:obstacle_province = { remove_building = dense_growth_cleared }
					add_gold = minor_gold_value
				}
			}
		}
	}
			
	option = { # Use the materials to build up the colony
		name = wastelands.1702.b
		scope:obstacle_province = { remove_building = dense_growth_cleared }
		scope:obstacle_province.county = { 
			change_development_progress = 50
		}
	}

	option = { # Make a big pyre for a celebration
		name = wastelands.1702.c
		scope:obstacle_province = { remove_building = dense_growth_cleared }
		add_prestige = minor_prestige_gain
		stress_impact = {
			base = medium_stress_loss
		}
	}	

	option = { # Cultivate the forests
		name = wastelands.1702.d
		trigger = { 
			OR = {
				is_druedain = yes 
				is_elf = yes
				has_trait = lifestyle_gardener
			}
		}
		scope:obstacle_province.county = { 
			change_development_progress = 75
		}
		add_prestige = medium_prestige_gain
		add_piety = medium_piety_gain
		scope:obstacle_province = { remove_building = dense_growth_cleared }
	}
}

wastelands.1703 = { # The Ancient Ruin
	content_source = realms_dlc
	type = character_event
	title = wastelands.1703.t
	desc = wastelands.1703.desc
	theme = stewardship
	override_background = {
		reference = eregion_ruins
	}

	left_portrait = {
		character = root
		animation = interested
	}
	
	immediate = {
		scope:obstacle_province = { remove_building = dense_growth_cleared }
	}

	option = { # Try to convert it into a building
		name = wastelands.1703.a
		duel = {
			skill = stewardship 
			value = medium_skill_rating
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -20
				}
				desc = wastelands.1703.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.1703.duel_success
					random_list = {
						1 = { scope:obstacle_province = { add_building = local_militia_01 } }
						1 = { scope:obstacle_province = { add_building = trading_outposts_01 } }
						1 = { scope:obstacle_province = { add_building = construction_guilds_01 } }
						1 = { scope:obstacle_province = { add_building = stockades_01 } }
					}
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -20
				}
				desc = wastelands.1703.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1703.duel_failure							
				}
			}
		}
	}
			
	option = { # Best leave it be
		name = wastelands.1703.b
		scope:obstacle_province.county = { 
			change_development_progress = 25
		}
	}

	option = { # Study and repair it
		name = wastelands.1703.c
		remove_short_term_gold = minor_gold_value
		add_prestige = minor_prestige_gain
		add_learning_lifestyle_xp = medium_lifestyle_xp
	}	

	option = { # Tear it all down for materials
		name = wastelands.1703.d
		trigger = { 
			faith_is_evil = yes
		}
		scope:obstacle_province.county = { 
			change_development_progress = 50
		}
		add_piety = minor_piety_gain
		add_dread = minor_dread_gain
	}
}

wastelands.1704 = { # Nature's Retribution
	content_source = realms_dlc
	type = character_event
	title = wastelands.1704.t
	desc = wastelands.1704.desc
	theme = hunting
	override_background = {
		reference = wilderness_forest_pine
	}

	left_portrait = {
		character = root
		animation = anger
	}
	
	immediate = {
		hidden_effect = { scope:obstacle_province = { remove_building = dense_growth_cleared } }
	}

	option = { # I'll cut down these trees myself
		name = wastelands.1704.a
		duel = {
			skill = prowess 
			value = medium_skill_rating
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -20
				}
				desc = wastelands.1704.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.1704.duel_success
					random_list = {
						9 = { add_prestige = minor_prestige_gain }
						1 = { add_trait = athletic }
					}
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -20
				}
				desc = wastelands.1704.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1704.duel_failure	
					scope:obstacle_province = { add_building = dense_growth }
				}
			}
		}
	}
			
	option = { # Send your levies to keep the trees in check
		name = wastelands.1704.b
		add_character_modifier = {
			modifier = colonial_campaign_military
			years = 1
		}
	}

	option = { # Leave the trees be for now and focus on the colony
		name = wastelands.1704.c
		scope:obstacle_province = { add_building = dense_growth }
		scope:obstacle_province.county = {
			change_development_level = 3
		}
	}	

	option = { # I know how to appease nature
		name = wastelands.1704.d
		trigger = { 
			OR = {
				is_elf = yes
				is_druedain = yes 
				has_trait = lifestyle_herbalist
			}
		}
		scope:obstacle_province.county = { 
			change_development_progress = 50
		}
		add_piety = minor_piety_gain
	}
}

################
#  Drakes Den  #
################

wastelands.1801 = { # Life Finds a Way
	content_source = realms_dlc
	type = character_event
	title = wastelands.1801.t
	desc = wastelands.1801.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = fear
	}

	right_portrait = {
		character = scope:hammund
		animation = happiness
	}

	override_background = {
		reference = wilderness_mountains
	}
	
	immediate = {
		create_character = {
			template = peasant_character
			dynasty = none
			name = Hammund
			age = { 80 90 }
			culture = culture:woodmen
			faith = faith:faith_woodmen
			location = scope:obstacle_province
			gender_female_chance = 0
			save_scope_as = hammund
			after_creation = {
				remove_trait = peasant_leader
			}
		}
	}

	option = { # Attempt to slay the drake
		name = wastelands.1801.a
		skill = prowess
		duel = {
			skill = prowess 
			value = 18
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -20
				}
				desc = wastelands.1801.a.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 200
					title = wastelands.1801.success.toast.t
					scope:obstacle_province = { remove_building = dragon_attack_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -25
				}
				desc = wastelands.1801.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1801.failure.toast.t
					add_prestige = -100
					increase_wounds_effect = { REASON = hunting_accident }
					hidden_effect = { scope:obstacle_province = { remove_building = dragon_attack_cleared } }
					scope:obstacle_province = { add_building = dragon_attack }
				}
			}
		}
		stress_impact = {
			brave = minor_stress_loss
			craven = major_stress_gain
		}
	}
			
	option = { # Run away!
		name = wastelands.1801.b
		hidden_effect = { scope:obstacle_province = { remove_building = dragon_attack_cleared } }
		scope:obstacle_province = { add_building = dragon_attack }
		random = {
			chance = 30
			make_settlement_county_wilderness = {
				COUNTY = scope:obstacle_province.county
			}
		}
		stress_impact = {
			brave = medium_stress_gain
			craven = minor_stress_loss
		}
	}

	after = {
		scope:hammund = {
			death = { death_reason = death_burned }
		}
	}
}

wastelands.1802 = { # Drakes’ Nest
	content_source = realms_dlc
	type = character_event
	title = wastelands.1802.t
	desc = wastelands.1802.desc
	theme = realm

	left_portrait = {
		character = root
		animation = personality_honorable
	}

	right_portrait = {
		character = scope:knight
		animation = personality_bold
	}
	
	immediate = {
		random_knight = {
			limit = { is_ai = yes }
			save_scope_as = knight
		}
	}

	option = { # Succeed and be rewarded!
		name = wastelands.1802.a
		scope:knight = {
			duel = {
				skill = prowess 
				value = 18
				30 = { 
					compare_modifier = {
						value = scope:duel_value
						multiplier = 3
						min = -20
					}
					desc = wastelands.1802.a.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							scope:knight = { add_prestige = 400 }
							pay_short_term_income = {
								target = scope:knight
								years = 1
							}
							title = wastelands.1801.success.toast.t
							scope:obstacle_province = { remove_building = dragon_attack_cleared }
						}
					}
				}
				30 = {
					compare_modifier = {
						value = scope:duel_value
						multiplier = -3
						min = -25
					}
					desc = wastelands.1802.a.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							title = wastelands.1801.failure.toast.t
							scope:knight = { death = { death_reason = death_burned } }
							hidden_effect = { scope:obstacle_province = { remove_building = dragon_attack_cleared } }
							scope:obstacle_province = { add_building = dragon_attack }
						}
					}
				}
			}
		}
		stress_impact = {
			greedy = medium_stress_gain
			generous = minor_stress_loss
		}
	}
			
	option = { # Just do it
		name = wastelands.1802.b
		reverse_add_opinion = {
			modifier = disappointed_opinion
			opinion = -30
			target = scope:knight
		}
		scope:knight = {
			duel = {
				skill = prowess 
				value = 21
				30 = { 
					compare_modifier = {
						value = scope:duel_value
						multiplier = 3
						min = -20
					}
					desc = wastelands.1802.a.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							scope:knight = { add_prestige = 500 }
							title = wastelands.1801.success.toast.t
							scope:obstacle_province = { remove_building = dragon_attack_cleared }
						}
					}
				}
				30 = {
					compare_modifier = {
						value = scope:duel_value
						multiplier = -3
						min = -25
					}
					desc = wastelands.1802.a.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							title = wastelands.1801.failure.toast.t
							scope:knight = { death = { death_reason = death_burned } }
							hidden_effect = { scope:obstacle_province = { remove_building = dragon_attack_cleared } }
							scope:obstacle_province = { add_building = dragon_attack }
						}
					}
				}
			}
		}
		stress_impact = {
			greedy = minor_stress_loss
			generous = minor_stress_gain
		}
	}

	option = { # I shall do it myself
		name = wastelands.1802.c
		skill = prowess
		duel = {
			skill = prowess 
			value = 18
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -20
				}
				desc = wastelands.1801.a.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 200
					title = wastelands.1801.success.toast.t
					scope:obstacle_province = { remove_building = dragon_attack_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -25
				}
				desc = wastelands.1801.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1801.failure.toast.t
					add_prestige = -100
					increase_wounds_effect = { REASON = hunting_accident }
					hidden_effect = { scope:obstacle_province = { remove_building = dragon_attack_cleared } }
					scope:obstacle_province = { add_building = dragon_attack }
				}
			}
		}
		stress_impact = {
			brave = minor_stress_loss
			craven = major_stress_gain
		}
	}

	option = { # Not so fast...
		name = wastelands.1802.d
		hidden_effect = { scope:obstacle_province = { remove_building = dragon_attack_cleared } }
		scope:obstacle_province = { add_building = dragon_attack }
	}

}

wastelands.1803 = { # The Worm
	content_source = realms_dlc
	type = character_event
	title = wastelands.1803.t
	desc = wastelands.1803.desc
	theme = realm

	left_portrait = {
		character = root
		animation = personality_honorable
	}

	override_background = {
		reference = wilderness_mountains
	}

	option = { # Muster the warriors
		name = wastelands.1803.a
		duel = {
			skill = martial 
			value = 16
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -20
				}
				desc = wastelands.1803.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = medium_prestige_gain
					title = wastelands.1803.duel_success
					scope:obstacle_province = { remove_building = dragon_attack_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -25
				}
				desc = wastelands.1803.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1803.duel_failure							
					add_prestige = medium_prestige_loss
					increase_wounds_effect = { REASON = hunting_accident }
					hidden_effect = { scope:obstacle_province = { remove_building = dragon_attack_cleared } }
					scope:obstacle_province = { add_building = dragon_attack }
					make_settlement_county_wilderness = {
						COUNTY = scope:obstacle_province.county
					}
				}
			}
		}
	}
			
	option = { # Slay personally
		name = wastelands.1803.b
		duel = {
			skill = prowess
			value = 16
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -20
				}
				desc = wastelands.1803.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = major_prestige_gain
					title = wastelands.1803.duel_success
					scope:obstacle_province = { remove_building = dragon_attack_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -25
				}
				desc = wastelands.1803.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1803.duel_failure							
					add_prestige = major_prestige_loss
					increase_wounds_effect = { REASON = hunting_accident }
					hidden_effect = { scope:obstacle_province = { remove_building = dragon_attack_cleared } }
					scope:obstacle_province = { add_building = dragon_attack }
					make_settlement_county_wilderness = {
						COUNTY = scope:obstacle_province.county
					}
				}
			}
		}
	}

	option = { # This seems dangerous anyways
		name = wastelands.1803.c
		hidden_effect = { scope:obstacle_province = { remove_building = dragon_attack_cleared } }
		scope:obstacle_province = { add_building = dragon_attack }
	}
}

wastelands.1804 = { # The Drake-slayer
	content_source = realms_dlc
	type = character_event
	title = wastelands.1804.t
	desc = wastelands.1804.desc
	theme = realm

	left_portrait = {
		character = root
		animation = personality_honorable
	}

	right_portrait = {
		character = scope:hero
		animation = personality_honorable
	}
	
	override_background = {
		reference = wilderness_mountains
	}

	immediate = {
		create_character = {
			template = new_warrior_character
			dynasty = none
			location = scope:obstacle_province
			gender_female_chance = 50
			save_scope_as = hero
			culture = root.culture
			faith = root.faith
			after_creation = {
				scope:hero = {
					add_prowess_skill = 10
					random_list = {
						1 = { add_trait = lifestyle_hunter }
						1 = { add_trait = lifestyle_blademaster }
					}
					give_nickname = nick_drake_slayer
				}
			}
		}
	}
	

	option = { # I shall shower with gold
		name = wastelands.1804.a
		add_prestige = medium_prestige_gain
		remove_short_term_gold = major_gold_value
		scope:obstacle_province = { 
			remove_building = dragon_attack_cleared 
			add_province_modifier = {
				modifier = temporary_fort_province_modifier
				years = 5
			}
		}
		scope:hero = {
			silent_disappearance_effect = yes
		}
	}
			
	option = { # Come to my court
		name = wastelands.1804.b
		random_list = {
			35 = {	# They join
				modifier = { 
					add = 40
					prestige_level >= 4
				}
				modifier = { 
					add = 30
					root.prestige_level >= 3
				}
				modifier = { 
					add = 20
					root.prestige_level >= 2
				}
				modifier = { 
					add = 10
					root.prestige_level >= 1
				}
				send_interface_toast = {
					left_icon = root
					right_icon = scope:hero
					add_prestige = major_prestige_gain
					
					remove_short_term_gold = medium_gold_value
					title = wastelands.1804.duel_success
					scope:obstacle_province = { remove_building = dragon_attack_cleared }			
					if = {
						limit = {
							scope:hero = {
								NOT = {
									is_courtier_of = root
								}
							}
						}
						add_courtier = scope:hero
					}
				}
			}
			65 = {	# They don't join
				send_interface_toast = {
					left_icon = root
					title = wastelands.1804.duel_failure							
					add_prestige = major_prestige_loss
					hidden_effect = { scope:obstacle_province = { remove_building = dragon_attack_cleared } }
				}
			}
		}
	}

	option = { # Who cares?
		name = wastelands.1804.c
		hidden_effect = { scope:obstacle_province = { remove_building = dragon_attack_cleared } }
		scope:obstacle_province = {
			add_province_modifier = {
				modifier = local_hero_gone
				years = 5
			}
		}
		
		scope:hero = {
			silent_disappearance_effect = yes
		}
	}
}

#################
# Wild Orcs Den #
#################

wastelands.1901 = { # The Orcish leader
	content_source = realms_dlc
	type = character_event
	title = wastelands.1901.t
	desc = wastelands.1901.desc
	theme = martial

	left_portrait = {
		character = root
		animation = marshal_shield
	}

	right_portrait = {
		character = scope:orc_leader
		animation = threatening
	}
	

	immediate = {
		create_character = {
			template = new_warrior_character
			dynasty = generate
			location = scope:obstacle_province
			gender_female_chance = 0
			save_scope_as = orc_leader
			culture = culture:worauthai_madur
			faith = faith:way_of_strength
			after_creation = {
				scope:orc_leader = {
					add_prowess_skill = 10
					random_list = {
						1 = { give_nickname = nick_the_reckless }
						1 = { give_nickname = nick_the_literate_one }
						1 = { give_nickname = nick_the_flogger }
						1 = { give_nickname = nick_the_crippler }
						1 = { give_nickname = nick_the_angry }
						1 = { give_nickname = nick_skull_splitter }
						1 = { give_nickname = nick_the_ravager }
						1 = { give_nickname = nick_the_eye_gouger }
						1 = { give_nickname = nick_the_brawler }
						1 = { give_nickname = nick_the_screamer }
						1 = { give_nickname = nick_the_torturer }
						1 = { give_nickname = nick_the_whiner }
					}
				}
			}
		}
	}

	option = { # Pay them to leave
		name = wastelands.1901.a
		add_prestige = minor_prestige_loss
		remove_short_term_gold = medium_gold_value
		scope:obstacle_province = { 
			remove_building = wild_orcs_cleared 
		}
		scope:orc_leader = {
			silent_disappearance_effect = yes
		}
	}
			
	option = { # Recruit them
		name = wastelands.1901.b
		custom_tooltip = wastelands.1901.b.tt
		trigger = {
			OR = {
				is_orc = yes
				is_maiar_fallen = yes
				is_nazgul = yes
			}
		}
		random_list = {
			50 = {	# He accepts
				modifier = { 
					add = 40
					prestige_level >= 4
				}
				modifier = { 
					add = 30
					root.prestige_level >= 3
				}
				modifier = { 
					add = 20
					root.prestige_level >= 2
				}
				modifier = { 
					add = 10
					root.prestige_level >= 1
				}
				send_interface_toast = {
					left_icon = root
					right_icon = scope:orc_leader
					add_prestige = major_prestige_gain
					remove_short_term_gold = medium_gold_value
					title = wastelands.1901.b.success
					scope:obstacle_province = { remove_building = wild_orcs_cleared }			
					if = {
						limit = {
							scope:orc_leader = {
								NOT = {
									is_courtier_of = root
								}
							}
						}
						add_courtier = scope:orc_leader
					}
				}
			}
			50 = {	# He doesn't accept
				send_interface_toast = {
					left_icon = root
					title = wastelands.1901.b.failure							
					add_prestige = major_prestige_loss
					scope:obstacle_province = { remove_building = wild_orcs_cleared }
					scope:obstacle_province.county = { 
						change_development_progress = -50
					}
				}
			}
		}
	}

	option = { # Fight to clear them out
		name = wastelands.1901.c
		duel = {
 			skill = prowess
 			target = scope:orc_leader
 			50 = {
				# You're successful
 				desc = wastelands.1901.c.success
 				compare_modifier = {
 					value = scope:duel_value
 					multiplier = 3.5
 					min = -49
 				}
 				send_interface_toast = {
 					title = wastelands.1901.c.success
 					left_icon = root
 					right_icon = scope:orc_leader
					custom_tooltip = wastelands.1901.c.success.tt
 				}
 				scope:obstacle_province = { remove_building = wild_orcs_cleared }
				scope:orc_leader = {
					death = {
						death_reason = death_duel
						killer = root
					}
				}
				add_prestige = minor_prestige_gain
 			}
 			50 = {
 				# You failed
 				desc = wastelands.1901.c.failure
 				compare_modifier = {
 					value = scope:duel_value
 					multiplier = -3.5
 					min = -49
 				}
 				send_interface_toast = {
 					title = wastelands.1901.c.failure
 					left_icon = root
 					right_icon = scope:orc_leader
					custom_tooltip = wastelands.1901.c.failure.tt
 				}
				scope:obstacle_province = { 
					remove_building = wild_orcs_cleared 
					set_holding_type = tribal_holding
				}
				scope:obstacle_province.county = {
					set_county_faith = scope:orc_leader.faith
					set_county_culture = scope:orc_leader.culture
					#change_government = tribal_government
					change_development_level = 3
					generate_coa = yes
				}
				
				create_title_and_vassal_change = {
					type = conquest
					save_scope_as = title_change
					add_claim_on_loss = yes
				}
				scope:obstacle_province.county = {
					change_title_holder = {
						holder = scope:orc_leader
						change = scope:title_change
						take_baronies = yes
					}
				}
				scope:orc_leader = {
					becomes_independent = { change = scope:title_change }
				}
				
				resolve_title_and_vassal_change = scope:title_change
				
				hidden_effect = {
					scope:orc_leader = {
						change_government = tribal_government
					}
				}
			}	
		}

	}
	
	option = { #Send a military force
		name = wastelands.1901.d
		add_character_modifier = {
			modifier = colonial_campaign_military
			years = 1
		}
		scope:obstacle_province = { 
			remove_building = wild_orcs_cleared 
		}
		scope:obstacle_province.county = { 
			change_development_progress = 25
		}
		scope:orc_leader = {
			silent_disappearance_effect = yes
		}
	}
	
	after = {
		clear_saved_scope = orc_leader
	}
}

wastelands.1902 = { # Loot left behind
	content_source = realms_dlc
	type = character_event
	title = wastelands.1902.t
	desc = wastelands.1902.desc
	theme = stewardship

	left_portrait = {
		character = root
		animation = interested
	}

	right_portrait = {
		character = scope:steward
		animation = steward
	}
	
	immediate = {
		cp:councillor_steward = {
			save_scope_as = steward
		}
	}

	option = { # It's all mine!
		name = wastelands.1902.a
		add_prestige = minor_prestige_loss
		add_gold = medium_gold_value
		scope:obstacle_province = { 
			remove_building = wild_orcs_cleared 
		}
	}
			
	option = { # Reinvest it into the colony
		name = wastelands.1902.b
		scope:obstacle_province = { remove_building = wild_orcs_cleared }
		scope:obstacle_province.county = { 
			change_development_progress = 75
		}
	}
	
	option = { # Donate it to charity
		name = wastelands.1902.c
		add_piety = medium_piety_gain
		scope:obstacle_province = { 
			remove_building = wild_orcs_cleared 
		}
	}
	
}

wastelands.1903 = { # More Orcs arrive
	content_source = realms_dlc
	type = character_event
	title = wastelands.1903.t
	desc = wastelands.1903.desc
	theme = war

	left_portrait = {
		character = root
		animation = anger
	}
	right_portrait = {
		character = scope:chosen_knight
		animation = inspect_weapon
	}
	
	immediate = {
		random_knight = { save_scope_as = chosen_knight }
	}
	option = { # Send more troops
		name = wastelands.1903.a
		remove_short_term_gold = medium_gold_value
		add_character_modifier = {
			modifier = colonial_campaign_military
			years = 1
		}
		scope:obstacle_province = { 
			remove_building = wild_orcs_cleared 
		}
		scope:obstacle_province.county = { 
			change_development_progress = 25
		}
	}
			
	option = { # Send a knight to drive them off
		name = wastelands.1903.b
		scope:obstacle_province = { remove_building = wild_orcs_cleared }
		random_list = {
			75 = {
				desc = wastelands.1903.b.success
					send_interface_toast = {
						title = wastelands.1903.b.success
						left_icon = scope:chosen_knight
					}
				scope:chosen_knight = {
					add_prestige = medium_prestige_gain
				}
				scope:obstacle_province = { 
					remove_building = wild_orcs_cleared 
				}
			}
			25 = {
				desc = wastelands.1903.b.failure
					send_interface_toast = {
						title = wastelands.1903.b.failure
						left_icon = scope:chosen_knight
					}
				scope:chosen_knight = {
					increase_wounds_effect = { REASON = fight }
				}
				scope:obstacle_province = { 
					remove_building = wild_orcs_cleared 
					add_building = wild_orcs
				}
			}
		}
	}
	
	option = { # Abandon ship
		name = wastelands.1903.c
		scope:obstacle_province = { 
			remove_building = wild_orcs_cleared 
			add_building = wild_orcs
		}
	}
}

wastelands.1904 = { # The Crafty Goblin
	content_source = realms_dlc
	type = character_event
	title = wastelands.1904.t
	desc = wastelands.1904.desc
	theme = martial

	left_portrait = {
		character = root
		animation = anger
	}

	right_portrait = {
		character = scope:goblin_leader
		animation = lunatic
	}
	
	immediate = {
		create_character = {
			template = new_warrior_character
			dynasty = generate
			location = scope:obstacle_province
			gender_female_chance = 0
			save_scope_as = goblin_leader
			culture = culture:generic_goblin
			faith = faith:way_of_strength
			after_creation = {
				scope:goblin_leader = {
					add_intrigue_skill = 10
					add_trait = shrewd
					random_list = {
						1 = { give_nickname = nick_the_dreamer }
						1 = { give_nickname = nick_the_literate_one }
						1 = { give_nickname = nick_the_flogger }
						1 = { give_nickname = nick_the_disgusting }
						1 = { give_nickname = nick_the_angry }
						1 = { give_nickname = nick_the_stalker }
						1 = { give_nickname = nick_the_crafty }
						1 = { give_nickname = nick_the_funny_one }
						1 = { give_nickname = nick_the_filthy }
						1 = { give_nickname = nick_the_screamer }
						1 = { give_nickname = nick_the_bloated }
						1 = { give_nickname = nick_the_whiner }
					}
				}
			}
		}
	}

	option = { # A show of strength should scare them off, hire some guards 
		name = wastelands.1904.a
		duel = {
			skill = martial
			value = average_skill_rating
			50 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.1904.a.success
				send_interface_toast = {
					left_icon = root
					title = wastelands.1904.a.success
					scope:obstacle_province = { remove_building = wild_orcs_cleared }
				}
			}
			50 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -10
				}
				desc = wastelands.2001.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.1904.a.failure
					add_prestige = minor_prestige_loss
					hidden_effect = { scope:obstacle_province = { remove_building = wild_orcs_cleared } }
					scope:obstacle_province = { add_building = wild_orcs }
				}
			}
		}
		scope:goblin_leader = {
			silent_disappearance_effect = yes
		}
	}
			
	option = { # Recruit them
		name = wastelands.1904.b
		trigger = {
			OR = {
				is_orc = yes
				is_maiar_fallen = yes
				is_nazgul = yes
			}
		}
		random_list = {
			50 = {	# He accepts
				modifier = { 
					add = 40
					prestige_level >= 4
				}
				modifier = { 
					add = 30
					root.prestige_level >= 3
				}
				modifier = { 
					add = 20
					root.prestige_level >= 2
				}
				modifier = { 
					add = 10
					root.prestige_level >= 1
				}
				send_interface_toast = {
					left_icon = root
					right_icon = scope:goblin_leader
					add_prestige = major_prestige_gain
					remove_short_term_gold = medium_gold_value
					title = wastelands.1904.b.success
					hidden_effect = { scope:obstacle_province = { remove_building = wild_orcs_cleared }	}		
					if = {
						limit = {
							scope:goblin_leader = {
								NOT = {
									is_courtier_of = root
								}
							}
						}
						add_courtier = scope:goblin_leader
					}
				}
			}
			50 = {	# He doesn't accept
				send_interface_toast = {
					left_icon = root
					title = wastelands.1904.b.failure							
					add_prestige = major_prestige_loss
					scope:obstacle_province = { remove_building = wild_orcs_cleared }
					scope:obstacle_province.county = { 
						change_development_progress = -50
					}
				}
			}
		}
	}

	option = { # Subjugate him
		name = wastelands.1904.c
		trigger = {
			AND = {
				OR = {
					is_orc = yes
					is_maiar_fallen = yes 
					is_nazgul = yes 
				}
				highest_held_title_tier > tier_county
			}
		}
		duel = {
 			skills = { prowess martial }
 			target = scope:goblin_leader
 			50 = {
				# You're successful
 				desc = wastelands.1904.c.success
 				compare_modifier = {
 					value = scope:duel_value
 					multiplier = 3.5
 					min = -49
 				}
 				send_interface_toast = {
 					title = wastelands.1904.c.success
 					left_icon = root
 					right_icon = scope:goblin_leader
					custom_tooltip = wastelands.1904.c.success.tt
 				}
				scope:obstacle_province = { 
					remove_building = wild_orcs_cleared 
					if = {
						limit = {
							scope:obstacle_province = {
								OR = {
									#terrain = mountains
									terrain = halls
									#terrain = desert_mountains
								}
							}
						}
						scope:obstacle_province = {
							set_holding_type = dwarven_holding
						}	
					}	
					else = {
						scope:obstacle_province = {
							set_holding_type = tribal_holding
						}
					}
				}
				scope:obstacle_province.county = {
					set_county_faith = scope:goblin_leader.faith
					set_county_culture = scope:goblin_leader.culture
					change_development_level = 3
					generate_coa = yes
				}
				
				create_title_and_vassal_change = {
					type = conquest
					save_scope_as = title_change
					add_claim_on_loss = yes
				}
				scope:obstacle_province.county = {
					change_title_holder = {
						holder = scope:goblin_leader
						change = scope:title_change
						take_baronies = yes
					}
				}
				resolve_title_and_vassal_change = scope:title_change
				
				hidden_effect = {
					scope:goblin_leader = {
						change_government = tribal_government
					}
				}
				add_prestige = minor_prestige_gain
 			}
 			50 = {
 				# You failed
 				desc = wastelands.1904.c.failure
 				compare_modifier = {
 					value = scope:duel_value
 					multiplier = -3.5
 					min = -49
 				}
 				send_interface_toast = {
 					title = wastelands.1904.c.failure
 					left_icon = root
 					right_icon = scope:goblin_leader
					custom_tooltip = wastelands.1904.c.failure.tt
 				}
				scope:obstacle_province = { 
					remove_building = wild_orcs_cleared 
					set_holding_type = tribal_holding
				}
				scope:obstacle_province.county = {
					set_county_faith = scope:goblin_leader.faith
					set_county_culture = scope:goblin_leader.culture
					change_development_level = 3
					generate_coa = yes
				}
				
				create_title_and_vassal_change = {
					type = conquest
					save_scope_as = title_change
					add_claim_on_loss = yes
				}
				scope:obstacle_province.county = {
					change_title_holder = {
						holder = scope:goblin_leader
						change = scope:title_change
						take_baronies = yes
					}
				}
				scope:goblin_leader = {
					becomes_independent = { change = scope:title_change }
				}
				
				resolve_title_and_vassal_change = scope:title_change
				
				hidden_effect = {
					scope:goblin_leader = {
						change_government = tribal_government
					}
				}
			}	
		}

	}
	
	option = { #Send a military force
		name = wastelands.1904.d
		add_character_modifier = {
			modifier = colonial_campaign_military
			years = 1
		}
		hidden_effect = {
				scope:obstacle_province = { 
				remove_building = wild_orcs_cleared 
			}
		}
		scope:obstacle_province.county = { 
			change_development_progress = 25
		}
		scope:goblin_leader = {
			silent_disappearance_effect = yes
		}
	}
	
	option = { #Trick them into leaving	
		name = wastelands.1904.e 
		trigger = {
			OR = { 
				has_trait = shrewd
				has_trait = education_intrigue_3
				has_trait = education_intrigue_4
				has_trait = education_intrigue_5
				has_trait = deceitful
				has_trait = schemer
			}
		}
		hidden_effect = {
			scope:obstacle_province = { 
				remove_building = wild_orcs_cleared 
			}
		}
		scope:obstacle_province.county = { 
			change_development_progress = 50
		}
		scope:goblin_leader = {
			silent_disappearance_effect = yes
		}
	}	
	
	after = {
		clear_saved_scope = goblin_leader
	}
}

wastelands.1905 = { # Orcish Weapons
	content_source = realms_dlc
	type = character_event
	title = wastelands.1905.t
	desc = wastelands.1905.desc
	theme = stewardship

	left_portrait = {
		character = root
		animation = personality_rational
	}
	
	option = { # Melt them down for the raw iron
		name = wastelands.1905.a
		add_gold = medium_gold_value
		scope:obstacle_province = { 
			remove_building = wild_orcs_cleared 
		}
	}
			
	option = { # Arm the local garrison
		name = wastelands.1905.b
		scope:obstacle_province = { remove_building = wild_orcs_cleared }
		scope:obstacle_province.county = { 
			change_development_level = 3
		}
	}
	
	option = { # Make a monument out of them 
		name = wastelands.1905.c
		trigger = {
			faith_is_good = yes
		}
		scope:obstacle_province = { 
			remove_building = wild_orcs_cleared 
		}
		add_piety = major_piety_gain
	}
	
	option = { # Pick the best weapon for yourself
		name = wastelands.1905.d 
		trigger = {
			faith_is_evil = yes
		}
		scope:obstacle_province = { 
			remove_building = wild_orcs_cleared 
		}
		add_dread = medium_dread_gain
	}
}

#######################
#  Flooded Lands Den  #
#######################

wastelands.2001 = { # Ditch and Drain
	content_source = realms_dlc
	type = character_event
	title = wastelands.2001.t
	desc = wastelands.2001.desc
	theme = realm

	left_portrait = {
		character = root
		animation = personality_rational
	}

	override_background = {
		reference = wilderness_wetlands
	}

	option = { # I shall oversee a relief effort and invest in fresh labour
		name = wastelands.2001.a
		skill = stewardship
		duel = {
			skill = stewardship 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.2001.a.duel_success
				send_interface_toast = {
					left_icon = root
					remove_short_term_gold = 100
					add_prestige = 50
					title = wastelands.2001.success.toast.t
					scope:obstacle_province = { remove_building = flooded_lands_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.2001.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.2001.failure.toast.t
					remove_short_term_gold = 200
					add_prestige = -50
					scope:obstacle_province = { remove_building = flooded_lands_cleared }
				}
			}
		}
		stress_impact = {
			diligent = minor_stress_loss
			lazy = minor_stress_gain
		}
	}

	option = { # Dedicate some troops to help reconstruct and finish the dyke
		name = wastelands.2001.b
		add_character_modifier = {
			modifier = levies_aiding_colony_modifier
			years = 5
		}
		remove_short_term_gold = 125
		scope:obstacle_province = { remove_building = flooded_lands_cleared }
	}

	option = { # Maybe this colony was doomed from the start...
		name = wastelands.2001.c
		hidden_effect = { scope:obstacle_province = { remove_building = flooded_lands_cleared } }
		scope:obstacle_province = { add_building = flooded_lands }
		random = {
			chance = 20
			make_settlement_county_wilderness = {
				COUNTY = scope:obstacle_province.county
			}
		}
	}

}

wastelands.2002 = { # Marsh Fever
	content_source = realms_dlc
	type = character_event
	title = wastelands.2002.t
	desc = wastelands.2002.desc
	theme = realm

	left_portrait = {
		character = root
		animation = stress
	}

	right_portrait = {
		character = scope:colonist
		animation = sick
	}

	override_background = {
		reference = wilderness_wetlands
	}

	trigger = {
		is_elf = no
		NOT = { has_character_flag = had_event_wasteland_blocker_0052 }
		scope:obstacle_province.county = { NOT = { has_county_modifier = colony_disease_recovery_county_modifier } }
	}

	on_trigger_fail = {
		trigger_event = wastelands.2001
	}

	immediate = {
		add_character_flag = {
			flag = had_event_wasteland_blocker_0052
			years = 20
		}
		create_character = {
			template = peasant_character
			dynasty = none
			culture = scope:obstacle_province.culture
			faith = scope:obstacle_province.faith
			location = scope:obstacle_province
			gender_female_chance = 50
			save_scope_as = colonist
			after_creation = {
				remove_trait = peasant_leader
				add_trait = ill
			}
		}
	}

	option = { # They shall get what they need.
		name = wastelands.2002.a
		remove_short_term_gold = 100
		scope:obstacle_province.county = {
			add_county_modifier = {
				modifier = colony_disease_recovery_county_modifier
				years = 2
			}
		}
		stress_impact = {
			compassionate = minor_stress_loss
			callous = minor_stress_gain
		}
	}

	option = { # I will persuade the clergy that charity is needed.
		name = wastelands.2002.b
		add_piety = -200
		scope:obstacle_province.county = {
			add_county_modifier = {
				modifier = colony_disease_recovery_county_modifier
				years = 4
			}
		}
		stress_impact = {
			greedy = minor_stress_loss
			generous = minor_stress_gain
		}
	}

	option = { # If they’d worked harder to drain the marshes this wouldn’t be a problem!
		name = wastelands.2002.c
		scope:obstacle_province.county = {
			add_county_modifier = {
				modifier = colony_disease_recovery_county_modifier
				years = 8
			}
		}
		random = {
			chance = 50
			make_settlement_county_wilderness = {
				COUNTY = scope:obstacle_province.county
			}
		}
		stress_impact = {
			compassionate = medium_stress_gain
			callous = minor_stress_loss
			sadistic = minor_stress_loss
			lazy = minor_stress_loss
		}
	}

	after = {
		scope:colonist = {
			silent_disappearance_effect = yes
		}
		hidden_effect = { scope:obstacle_province = { remove_building = flooded_lands_cleared } }
		scope:obstacle_province = { add_building = flooded_lands }
	}
}

#############################
# Ghosts Settlement Blocker #
#############################

wastelands.2101 = { # SpoOooOOoky sightings
	content_source = realms_dlc
	type = character_event
	title = wastelands.2101.t
	desc = wastelands.2101.desc
	theme = intrigue
	left_portrait = {
		character = root
		animation = personality_rational
	}
	right_portrait = {
		character = scope:scared_settler
		animation = lunatic
	}
	immediate = {
		create_character = {
			template = peasant_character
			dynasty = none
			culture = scope:obstacle_province.culture
			faith = scope:obstacle_province.faith
			location = scope:obstacle_province
			gender_female_chance = 50
			save_scope_as = scared_settler
			after_creation = {
				remove_trait = peasant_leader
				add_trait = lunatic_1
			}
		}
	}
	option = { #I'll ignore this fool.
		name = wastelands.2101.a 
		random_list = {
			65 = {
				desc = wastelands.2101.a.success
				hidden_effect = {
					scope:obstacle_province = { remove_building = ghosts_cleared }
					send_interface_toast = {
						title = wastelands.2101.a.success
					}
				}
			}
			35 = {
				desc = wastelands.2101.a.failure
				hidden_effect = {
					scope:obstacle_province = { remove_building = ghosts_cleared }
				}
				send_interface_toast = {
					title = wastelands.2101.a.failure
					scope:obstacle_province = { add_building = ghosts }
					add_prestige = medium_prestige_loss
					stress_impact = {
						base = medium_stress_gain
					}
				}
			}
		}
	}
	option = { #Investigate the rumours myself
		name = wastelands.2101.b
		skill = learning
		duel = {
			skill = learning 
			value = 6
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.2101.b.success
				send_interface_toast = {
					left_icon = root
					title = wastelands.2101.b.success
					scope:obstacle_province = { remove_building = ghosts_cleared }
					add_prestige = medium_prestige_gain
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.2101.b.failure
				hidden_effect = { scope:obstacle_province = { remove_building = ghosts_cleared } }
				send_interface_toast = {
					left_icon = root
					title = wastelands.2101.b.failure
					scope:obstacle_province = { add_building = ghosts }
				}
				random_list = {
					90 = {
						add_prestige = minor_prestige_loss
					}
					10 = {
						add_trait = lunatic_1
					}
				}
			}
		}
		stress_impact = {
			cynical = minor_stress_loss
			impatient = minor_stress_loss
			shy = medium_stress_gain
		}
	}
	option = { #No, don't worry, the ghosts are my friends!
		trigger = {
			OR = {
				has_trait = lunatic_1
				has_trait = eccentric
			}
		}
		name = wastelands.2101.c
		stress_impact = {
			base = major_stress_loss
		}
		add_prestige = medium_prestige_loss
		hidden_effect = { scope:obstacle_province = { remove_building = ghosts_cleared } }
		scope:obstacle_province.county = {
			change_development_progress = 90
		}
	}
	option = { #I'll send someone who knows how to deal with ghosts
		name = wastelands.2101.d
		remove_short_term_gold = minor_gold_value
		hidden_effect = { scope:obstacle_province = { remove_building = ghosts_cleared } }
		scope:obstacle_province.county = {
			change_development_progress = 50
		}
	}
	after = {
		scope:scared_settler = {
			silent_disappearance_effect = yes
		}
	}
}
	
wastelands.2102 = { # Turns out it was a "prank"
	content_source = realms_dlc
	type = character_event
	title = wastelands.2102.t
	desc = wastelands.2102.desc
	theme = intrigue
	left_portrait = {
		character = root
		animation = anger
	}
	right_portrait = {
		character = scope:prankster
		animation = personality_dishonorable
	}
	immediate = {
		create_character = {
			template = peasant_character
			dynasty = none
			culture = scope:obstacle_province.culture
			faith = scope:obstacle_province.faith
			location = scope:obstacle_province
			gender_female_chance = 0
			save_scope_as = prankster
			after_creation = {
				remove_trait = peasant_leader
			}
		}
	}
	option = { #Guess what? It's the banhammer for you, fool. (Banish them)
		name = wastelands.2102.a 
		hidden_effect = { scope:obstacle_province = { remove_building = ghosts_cleared } }
		add_prestige = minor_prestige_gain
		scope:prankster = {
			banish = yes			
		}
	}
	option = { #Hilarious. Your pranks shall entertain my court.
		name = wastelands.2102.b
		hidden_effect = { scope:obstacle_province = { remove_building = ghosts_cleared } }
		court_position_grant_effect = {
			EMPLOYER = root
			POS = court_jester
			CANDIDATE = scope:prankster
		}
		stress_impact = {
			base = minor_stress_loss
			cynical = medium_stress_loss
			gregarious = medium_stress_loss
			forgiving = medium_stress_loss
		}
	}
	option = { #No fun allowed, off with your head
		name = wastelands.2102.c
		hidden_effect = { scope:obstacle_province = { remove_building = ghosts_cleared } }
		execute_prisoner_effect = {
			VICTIM = scope:prankster
			EXECUTIONER = root
		}
		scope:obstacle_province.county = {
			change_development_progress = 50
		}
	}
	option = { #I'll allow it. Just this once.
		name = wastelands.2102.d
		remove_short_term_gold = minor_gold_value
		hidden_effect = { scope:obstacle_province = { remove_building = ghosts_cleared } }
		scope:obstacle_province.county = {
			change_development_progress = 50
		}
	}
	after = {
		if = {
			limit = {
				scope:prankster = {
					AND = {
						is_alive = yes
						NOT = { has_court_position = court_jester_court_position }
					}
				}
			}
			scope:prankster = {
				silent_disappearance_effect = yes
			}
		}
	}
}
	

############################
#  Collapsed Ceilings Den  #
############################

wastelands.2201 = { # Further Cave-Ins
	content_source = realms_dlc
	type = character_event
	title = wastelands.2201.t
	desc = wastelands.2201.desc
	theme = realm

	left_portrait = {
		character = root
		animation = personality_rational
	}

	override_background = {
		reference = wilderness_underground
	}

	option = { # Just keep digging!
		name = wastelands.2201.a
		skill = stewardship
		duel = {
			skill = stewardship 
			value = 6
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.2201.a.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.2201.success.toast.t
					scope:obstacle_province = { remove_building = collapsed_ceiling_cleared }
					add_prestige = 80
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.2201.a.duel_failure
				hidden_effect = { scope:obstacle_province = { remove_building = collapsed_ceiling_cleared } }
				send_interface_toast = {
					left_icon = root
					title = wastelands.2201.failure.toast.t
					scope:obstacle_province = { add_building = collapsed_ceiling }
					make_settlement_county_wilderness = {
						COUNTY = scope:obstacle_province.county
					}
					add_prestige = -100
				}
			}
		}
		stress_impact = {
			arbitrary = minor_stress_loss
			lazy = minor_stress_loss
		}
	}

	option = { # Hire professional engineers
		name = {
			trigger = {
				faith.religion = { is_in_family = rf_forcesofevil }
			}
			text = wastelands.2201.b_orc # Just throw more slaves at it!
		}
		name = wastelands.2201.b # Hire professional engineers
		remove_short_term_gold = 150
		scope:obstacle_province = { remove_building = collapsed_ceiling_cleared }
		stress_impact = {
			greedy = minor_stress_gain
		}
	}

	option = { # Abandon the project...
		name = wastelands.2201.c
		custom_tooltip = wastelands.2201.c.tt
		trigger = {
			is_ai = no
		}
		hidden_effect = { scope:obstacle_province = { remove_building = collapsed_ceiling_cleared } }
		scope:obstacle_province = { add_building = collapsed_ceiling }
		make_settlement_county_wilderness = {
			COUNTY = scope:obstacle_province.county
		}
		add_prestige = -100
	}

}

wastelands.2202 = { # Unexpected Treasure
	content_source = realms_dlc
	type = character_event
	title = wastelands.2202.t
	desc = wastelands.2202.desc
	theme = realm

	left_portrait = {
		character = root
		animation = personality_rational
	}

	right_portrait = {
		character = scope:steward
		animation = personality_honorable
	}

	override_background = {
		reference = wilderness_underground
	}

	immediate = {
		cp:councillor_steward = {
			save_scope_as = steward
		}
	}
	option = { # Excellent! Guards, seize all of it.
		name = wastelands.2202.a
		hidden_effect = { scope:obstacle_province = { remove_building = collapsed_ceiling_cleared } }
		add_tyranny = 10
		add_short_term_gold = 150
		scope:obstacle_province.county = {
			add_county_modifier = {
				modifier = governance_1054_upset_peasants_modifier
				years = 5
			}
		}
		stress_impact = {
			generous = minor_stress_gain
			just = minor_stress_gain
		}
	}

	option = { # I will take my share, the rest will be split fairly.
		name = wastelands.2202.b
		hidden_effect = { scope:obstacle_province = { remove_building = collapsed_ceiling_cleared } }
		add_short_term_gold = 60
		stress_impact = {
			greedy = medium_stress_gain
			generous = minor_stress_loss
			arbitrary = minor_stress_gain
			just = minor_stress_loss
			compassionate = minor_stress_loss
		}
		scope:obstacle_province.county = { 
			change_development_progress = 75
		}
	}

}

wastelands.2203 = { # Fossil Findings
	content_source = realms_dlc
	type = character_event
	title = wastelands.2203.t
	desc = wastelands.2203.desc
	theme = realm

	left_portrait = {
		character = root
		animation = personality_rational
	}

	override_background = {
		reference = wilderness_underground
	}


	option = { # Just keep digging!
		name = wastelands.2203.a
		skill = stewardship
		duel = {
			skill = stewardship 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.2203.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.2203.success.toast.t
					scope:obstacle_province = { remove_building = collapsed_ceiling_cleared }
					add_gold = major_gold_value
					add_prestige = medium_prestige_gain
					if = {
						limit = {
							root.faith = faith:dragon_cult
						}
						add_piety = major_piety_gain
					}
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.2203.duel_failure
				hidden_effect = { scope:obstacle_province = { remove_building = collapsed_ceiling_cleared } }
				send_interface_toast = {
					left_icon = root
					remove_short_term_gold = medium_gold_value
					title = wastelands.2203.failure.toast.t
					scope:obstacle_province = { add_building = collapsed_ceiling }
					make_settlement_county_wilderness = {
						COUNTY = scope:obstacle_province.county
					}
					add_prestige = medium_prestige_loss
					if = {
						limit = {
							root.faith = faith:dragon_cult
						}
						add_piety = major_piety_loss
					}
					stress_impact = {
						greedy = minor_stress_loss
					}
				}
			}
		}
	}

	
	option = {
		name = wastelands.2203.b
		random_list = {
			60 = {
				desc = wastelands.2203.duel_success
				hidden_effect = {
					scope:obstacle_province = { remove_building = collapsed_ceiling_cleared }
				}
				send_interface_toast = {
					left_icon = root
					title = wastelands.2203.success.toast.t
					
					remove_short_term_gold = medium_gold_value
					add_prestige = major_prestige_gain
					if = {
						limit = {
							root.faith = faith:dragon_cult
						}
						add_piety = major_piety_gain
					}
				}
			}
			40 = {
				desc = wastelands.2203.duel_failure
				hidden_effect = {
					scope:obstacle_province = { remove_building = collapsed_ceiling_cleared }
				}
				send_interface_toast = {
					left_icon = root
					title = wastelands.2203.success.toast.t
					scope:obstacle_province = { add_building = collapsed_ceiling }
					remove_short_term_gold = medium_gold_value
					if = {
						limit = {
							root.faith = faith:dragon_cult
						}
						add_piety = major_piety_loss
					}
					stress_impact = {
						greedy = minor_stress_loss
					}
				}
			}
		}
	}

	option = { # Abandon the project...
		name = wastelands.2203.c
		hidden_effect = { scope:obstacle_province = { remove_building = collapsed_ceiling_cleared } }
		if = {
			limit = {
				root.faith = faith:dragon_cult
			}
			add_piety = major_piety_loss
		}
	}
}

###################
#  Stale Air Den  #
###################

wastelands.2401 = { # Toxic Leak!
	content_source = realms_dlc
	type = character_event
	title = wastelands.2401.t
	desc = wastelands.2401.desc
	theme = realm

	left_portrait = {
		character = root
		animation = stress
	}

	right_portrait = {
		character = scope:colonist
		animation = sick
	}

	override_background = {
		reference = wilderness_underground
	}

	trigger = {
		is_elf = no
		NOT = { has_character_flag = had_event_wasteland_blocker_0056 }
		scope:obstacle_province.county = { NOT = { has_county_modifier = colony_disease_recovery_county_modifier } }
	}

	on_trigger_fail = {
		hidden_effect = { scope:obstacle_province = { remove_building = stale_air_cleared } }
	}

	immediate = {
		add_character_flag = {
			flag = had_event_wasteland_blocker_0056
			years = 20
		}
		create_character = {
			template = peasant_character
			dynasty = none
			culture = scope:obstacle_province.culture
			faith = scope:obstacle_province.faith
			location = scope:obstacle_province
			gender_female_chance = 50
			save_scope_as = colonist
			after_creation = {
				remove_trait = peasant_leader
				add_trait = ill
			}
		}
	}

	option = { # I know what can help, you need to take the following precautions
		trigger = {
			OR = {
				has_trait = lifestyle_herbalist
				has_trait = lifestyle_physician
			}
		}
		name = wastelands.2401.a
		custom_tooltip = wastelands.2401.a.tt
		scope:obstacle_province.county = {
			add_county_modifier = {
				modifier = colony_disease_recovery_county_modifier
				years = 2
			}
		}
		hidden_effect = { scope:obstacle_province = { remove_building = stale_air_cleared } }
	}

	option = { # They shall get what they need.
		name = wastelands.2401.b
		custom_tooltip = wastelands.2401.b.tt
		remove_short_term_gold = 100
		scope:obstacle_province.county = {
			add_county_modifier = {
				modifier = colony_disease_recovery_county_modifier
				years = 4
			}
		}
		stress_impact = {
			compassionate = minor_stress_loss
			callous = minor_stress_gain
		}
		hidden_effect = { scope:obstacle_province = { remove_building = stale_air_cleared } }
		scope:obstacle_province = { add_building = stale_air }
	}

	option = { # You're on your own.
		name = wastelands.2401.c
		custom_tooltip = wastelands.2401.c.tt
		scope:obstacle_province.county = {
			add_county_modifier = {
				modifier = colony_disease_recovery_county_modifier
				years = 8
			}
		}
		random = {
			chance = 50
			make_settlement_county_wilderness = {
				COUNTY = scope:obstacle_province.county
			}
		}
		hidden_effect = { scope:obstacle_province = { remove_building = stale_air_cleared } }
		scope:obstacle_province = { add_building = stale_air }

		stress_impact = {
			compassionate = medium_stress_gain
			callous = minor_stress_loss
			sadistic = minor_stress_loss
			lazy = minor_stress_loss
		}
	}

	after = {
		scope:colonist = {
			silent_disappearance_effect = yes
		}
	}
}

wastelands.2402 = { # Reclaiming the Dead
	content_source = realms_dlc
	type = character_event
	title = wastelands.2402.t
	desc = wastelands.2402.desc
	theme = realm

	left_portrait = {
		character = root
		animation = personality_rational
	}

	override_background = {
		reference = wilderness_underground
	}

	option = { 
		name = wastelands.2402.a
		hidden_effect = {
			scope:obstacle_province = { remove_building = stale_air_cleared }
		}
		send_interface_toast = {
			left_icon = root
			title = wastelands.2402.success.toast.t
			scope:obstacle_province = { 			
				add_province_modifier = {
					modifier = reclaiming_the_dead_modifier
					years = 5
				}
			}
			
			add_prestige = medium_prestige_gain
		}
		stress_impact = {
			greedy = minor_stress_gain
			just = minor_stress_loss
		}
	}
	
	option = {
		name = wastelands.2402.b
		hidden_effect = {
			scope:obstacle_province = { remove_building = stale_air_cleared }
		}
		send_interface_toast = {
			left_icon = root
			title = wastelands.2402.success.toast.t
			add_prestige = minor_prestige_gain
			add_gold = minor_gold_value
		}
	}

	option = {
		name = wastelands.2402.c
		hidden_effect = {
			scope:obstacle_province = { remove_building = stale_air_cleared }
		}
		send_interface_toast = {
			left_icon = root
			title = wastelands.2402.success.toast.t
			add_prestige = medium_prestige_loss
			add_gold = major_gold_value
		}
	}
}

wastelands.2403 = { # Bad 'shrooms'
	content_source = realms_dlc
	type = character_event
	title = wastelands.2403.t
	desc = wastelands.2403.desc
	theme = realm

	left_portrait = {
		character = root
		animation = disgust
	}
	right_portrait = {
		character = scope:mushroom_picker
		animation = happiness
	}

	override_background = {
		reference = wilderness_underground
	}

	immediate = {
		create_character = {
			culture = root.culture
			faith = root.faith
			gender_female_chance = 50
			location = scope:obstacle_province
			save_scope_as = mushroom_picker
		}
	}

	option = { 
		name = wastelands.2403.a
		hidden_effect = {
			scope:obstacle_province = { remove_building = stale_air_cleared }
		}
		send_interface_toast = {
			left_icon = root
			title = wastelands.2403.success.toast.t
			add_prestige = minor_prestige_loss
		}
		stress_impact = {
			arrogant = minor_stress_gain
		}
	}
	
	option = { 
		name = wastelands.2403.b
		skill = intrigue
		duel = {
			skill = intrigue 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.2403.b.duel_success
				hidden_effect = { scope:obstacle_province = { remove_building = stale_air_cleared } }
				send_interface_toast = {
					left_icon = root
					right_icon = scope:mushroom_picker
					title = wastelands.2403.success.toast.t
					add_prestige = medium_prestige_gain
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.2403.b.duel_failure
				hidden_effect = { scope:obstacle_province = { remove_building = stale_air_cleared } }
				send_interface_toast = {
					left_icon = root
					right_icon = scope:mushroom_picker
					title = wastelands.2403.failure.toast.t
					add_prestige = medium_prestige_loss
				}
			}
		}
	}

	option = { 
		name = wastelands.2403.c
		skill = learning
		duel = {
			skill = learning 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				modifier = {	
					add = 25
					has_trait = lifestyle_herbalist
				}
				desc = wastelands.2403.c.duel_success
				hidden_effect = { scope:obstacle_province = { remove_building = stale_air_cleared } }
				send_interface_toast = {
					left_icon = root
					right_icon = scope:mushroom_picker
					title = wastelands.2403.success.toast.t
					add_prestige = minor_prestige_gain
					scope:obstacle_province = {
						add_province_modifier = {
							modifier = good_mushrooms_modifier
							years = 5
						}
					}
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.2403.c.duel_failure
				hidden_effect = { scope:obstacle_province = { remove_building = stale_air_cleared } }
				send_interface_toast = {
					left_icon = root
					right_icon = scope:mushroom_picker
					title = wastelands.2403.failure.toast.t
					add_prestige = minor_prestige_loss
					scope:obstacle_province = {
						add_province_modifier = {
							modifier = bad_mushrooms_modifier
							years = 5
						}
					}
				}
			}
		}
	}

	after = {
		scope:mushroom_picker = {
			silent_disappearance_effect = yes
		}
	}
}

###########################
#  Strange Creatures Den  #
###########################

#####################
#  Troll caves Den  #
#####################

wastelands.2601 = { # The Trolls (icy, ispanets)
	content_source = realms_dlc
	type = character_event
	title = wastelands.2601.t
	desc = wastelands.2601.desc
	theme = trollshaws

	left_portrait = {
		character = root
		animation = personality_bold
	}

	
	right_portrait = {
		character = scope:marshal
		animation = worry
	}
	
	immediate = {
		if = {
			limit = {
				any_martial_councillor = {
					count > 0
				}
			}
			random_martial_councillor = {
				save_scope_as = marshal
			}
		}
		else ={
			ordered_courtier = {
				order_by = martial
				save_scope_as = marshal
			}
		}
	}

	option = { # Slaughter them
		name = wastelands.2601.a
		skill = prowess
		duel = {
			skill = prowess 
			value = 15
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.2601.a.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.2601.success.toast.t
					add_prestige = medium_prestige_gain
					hidden_effect = {
						scope:obstacle_province = { remove_building = troll_cave_cleared }
					}
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.2601.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.2601.failure.toast.t

					hidden_effect = { scope:obstacle_province = { remove_building = troll_cave_cleared } }

					increase_wounds_effect = { REASON = troll }
					add_trait = maimed
				}
			}
		}
	}

	option = { # Marshal protection
		name = wastelands.2601.b
		trigger = { 
			any_martial_councillor = {
				is_ai = yes
				count > 0
			}
		} 
		skill = martial
		scope:marshal = {
			duel = {
				skill = martial 
				value = 15
				30 = { 
					compare_modifier = {
						value = scope:duel_value
						multiplier = 2
						min = -10
					}
					desc = wastelands.2601.b.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:marshal
							title = wastelands.2601.success.toast.t
							hidden_effect = {
								scope:obstacle_province = {  
									remove_building = troll_cave_cleared 
								}
							
							}
							scope:marshal = {
								if = {
									limit = {
										exists = accolade
										accolade = { is_accolade_active = yes }
									}
									accolade = { add_glory = major_glory_gain }
								}
							}
						}
					}					
				}
				30 = {
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = wastelands.2601.b.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:marshal
							title = wastelands.2601.failure.toast.t
	
							hidden_effect = { scope:obstacle_province = { remove_building = troll_cave_cleared } }
							scope:marshal = {
								increase_wounds_effect = { REASON = troll }
							}
						}
					}
				}
			}
		}
	}
}

wastelands.2602 = { # A beast from the Dark (icy, ispanets)
	content_source = realms_dlc
	type = character_event
	title = wastelands.2602.t
	desc = wastelands.2602.desc
	theme = trollshaws

	left_portrait = {
		character = root
		animation = personality_bold
	}
	
	immediate = {
		if = {
			limit = { 
				any_knight = { 
					is_ai = yes
					count > 0
				}
			}
			ordered_knight = {
				limit = { is_ai = yes }
				order_by = prowess
				save_scope_as = knight
			}
		}
	}

	
	right_portrait = {
		character = scope:knight
		animation = bold
	}

	option = { # Do your worst, beast!
		name = wastelands.2602.a
		skill = martial
		duel = {
			skill = martial 
			value = 15
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.2602.a.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.2602.success.toast.t
					add_prestige = medium_prestige_gain
					hidden_effect = {
						scope:obstacle_province = { 
							remove_building = troll_cave_cleared 
						}
					}
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.2602.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.2602.failure.toast.t

					hidden_effect = { scope:obstacle_province = { remove_building = troll_cave_cleared } }

					increase_wounds_effect = { REASON = troll }
					add_trait = maimed
				}
			}
		}
	}

	option = { # You, Knight, charge
		name = wastelands.2602.b
		skill = prowess
		trigger = { 
			any_knight = {
				is_ai = yes
				count > 0
			}
		}
		scope:knight = {
			duel = {
				skill = prowess 
				value = 15
				30 = { 
					compare_modifier = {
						value = scope:duel_value
						multiplier = 2
						min = -10
					}
					desc = wastelands.2602.b.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:knight
							title = wastelands.2602.success.toast.t
							hidden_effect = {
								scope:obstacle_province = { 
									remove_building = troll_cave_cleared
								}
							}
							scope:knight = {
								if = {
									limit = {
										exists = accolade
										accolade = { is_accolade_active = yes }
									}
									accolade = { add_glory = major_glory_gain }
								}
							}
						}
					}
					
				}
				30 = {
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = wastelands.2602.b.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:knight
							title = wastelands.2602.failure.toast.t
	
							hidden_effect = { scope:obstacle_province = { remove_building = troll_cave_cleared } }
							scope:knight = {
								increase_wounds_effect = { REASON = troll }						
							}
						}
					}
				}
			}
		}
	}

	option = { # No, thank you
		name = wastelands.2602.c
		hidden_effect = { scope:obstacle_province = { remove_building = troll_cave_cleared } }
		scope:obstacle_province = { add_building = troll_cave }

		add_prestige = medium_prestige_loss
	}
}

wastelands.2603 = { # A Bargain (icy, ispanets)
	content_source = realms_dlc
	type = character_event
	title = wastelands.2603.t
	desc = wastelands.2603.desc
	theme = trollshaws

	left_portrait = {
		character = root
		animation = personality_bold
	}
	
	option = { # Bargain
		name = wastelands.2603.a
		skill = stewardship
		duel = {
			skill = stewardship
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.2603.a.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.2603.success.toast.t
					hidden_effect = {
						scope:obstacle_province = { 
							remove_building = troll_cave_cleared
						}
					}
					remove_short_term_gold = medium_gold_value
					
					stress_impact = {
						brave = minor_stress_gain
						wrathful = minor_stress_gain			
						vengeful = minor_stress_gain
					}
					add_prestige = minor_prestige_loss
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.2603.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.2603.failure.toast.t

					hidden_effect = { scope:obstacle_province = { remove_building = troll_cave_cleared } }

					scope:obstacle_province = { add_building = troll_cave }

					stress_impact = {
						brave = medium_stress_gain
						wrathful = medium_stress_gain			
						vengeful = minor_stress_gain
					}
					add_prestige = medium_prestige_loss
				}
			}
		}
	}

	option = { # Warriors, charge!
		name = wastelands.2603.b
		skill = martial
		duel = {
			skill = martial 
			value = 15
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.2603.b.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.2603.success.toast.t
					hidden_effect = {
						scope:obstacle_province = { 
							remove_building = troll_cave_cleared
						}
					}
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.2603.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.2603.failure.toast.t

					hidden_effect = { scope:obstacle_province = { remove_building = troll_cave_cleared } }

					scope:obstacle_province = { add_building = troll_cave }

					increase_wounds_effect = { REASON = troll }
				}
			}
		}
	}

	option = { # Burn the hall
		name = wastelands.2603.c
		hidden_effect = { scope:obstacle_province = { remove_building = troll_cave_cleared } }
		remove_short_term_gold = major_gold_value
	}
}

wastelands.2604 = { # Too much trolling (icy, ispanets)
	content_source = realms_dlc
	type = character_event
	title = wastelands.2604.t
	desc = wastelands.2604.desc
	theme = trollshaws

	left_portrait = {
		character = root
		animation = personality_bold
	}
	
	option = { # Charge!
		name = wastelands.2604.a
		skill = prowess
		duel = {
			skill = prowess 
			value = 20
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.2604.a.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.2604.success.toast.t
					hidden_effect = {
						scope:obstacle_province = { 
							remove_building = troll_cave_cleared
						}
					}
					add_prestige = major_prestige_gain
					if = {
						limit = { has_trait = lifestyle_blademaster }
						add_trait_xp = {
							trait = lifestyle_blademaster
							value = 10
						}
					}
					else = {
							add_trait = lifestyle_hunter
					}
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.2604.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.2604.failure.toast.t

					hidden_effect = { scope:obstacle_province = { remove_building = troll_cave_cleared } }

					scope:obstacle_province = { add_building = troll_cave }

					increase_wounds_effect = { REASON = troll }
				}
			}
		}
	}

	option = { # Sunrise!
		name = wastelands.2604.b
		skill = diplomacy
		duel = {
			skill = diplomacy
			value = 15
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.2604.b.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.2604.success.toast.t
					hidden_effect = {
						scope:obstacle_province = { 
							remove_building = troll_cave_cleared
						}
					}
					add_prestige = major_prestige_gain
					add_diplomacy_lifestyle_xp = major_lifestyle_xp
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.2604.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.2604.failure.toast.t

					hidden_effect = { scope:obstacle_province = { remove_building = troll_cave_cleared } }

					scope:obstacle_province = { add_building = troll_cave }

					increase_wounds_effect = { REASON = troll }
					add_prestige = minor_prestige_loss
				}
			}
		}
	}

	option = { # We are just leaving
		name = wastelands.2604.c
		hidden_effect = { scope:obstacle_province = { remove_building = troll_cave_cleared } }
		scope:obstacle_province = { add_building = troll_cave }
		add_prestige = medium_prestige_loss
	}
}

#############################
#  Eregion ruin ghosts Den  #
#############################

#### Haunted eregion ruins  - triggered randomly if the blocker is present (before being removed)
wastelands.2801 = { # Noises and shadows (ispanets)
	content_source = realms_dlc
	type = character_event
	title = wastelands.2801.t
	desc = wastelands.2801.desc
	theme = eregion_crebain

	left_portrait = {
		character = root
		animation = personality_bold
	}

	right_portrait = {
		character = scope:knight
		animation = personality_bold
	}

	immediate = {
		random_knight = {
			limit = { is_ai = yes }
			save_scope_as = knight
		}
		
		random_directly_owned_province = {
			limit = {
				has_building = ghosts_eregion
			}
			save_scope_as = obstacle_province
		}
	}

	option = { # Elf only!
		name = wastelands.2801.a
		trigger = {
			root = {
				is_elf = yes
			}
		}
		send_interface_toast = {
			left_icon = root
			title = wastelands.2801.success.toast.t
			add_piety = minor_piety_loss
		}		
	}

	option = { # Rest
		name = wastelands.2801.b
		skill = prowess
		trigger = {
			root = {
				is_elf = no
			}
		}
		scope:knight = {
			duel = {
				skill = prowess
				value = 25
				30 = { 
					compare_modifier = {
						value = scope:duel_value
						multiplier = 2
						min = -10
					}
					desc = wastelands.2801.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							title = wastelands.2801.success.toast.t
							add_piety = major_piety_loss
						}
					}
				}
				30 = {
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = wastelands.2801.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:knight
							title = wastelands.2801.failure.toast.t							
							add_piety = major_piety_loss
							scope:knight = {
								add_trait = possessed_1
							}
						}
					}
				}
			}
		}
	}

	option = { # Leave!
		name = wastelands.2801.c
		make_settlement_county_wilderness = {
			COUNTY = scope:obstacle_province.county
		}
	}
}
# Haunted Eregion Ruins
wastelands.2802 = { # Noises and Shadows
	content_source = realms_dlc
	type = character_event
	title = wastelands.2802.t
	desc = wastelands.2802.desc
	theme = eregion_city

	right_portrait = {
		character = root
		animation = eavesdrop
	}

	
	left_portrait = {
		character = scope:knight
		animation = lunatic
	}

	immediate = {
		random_knight = {
			limit = { is_ai = yes }
			save_scope_as = knight
		}
		
		random_directly_owned_province = {
			limit = {
				has_building = ghosts_eregion
			}
			save_scope_as = obstacle_province
		}
	}
	
	option = { # Intrigue: wake up the knight
		name = wastelands.2802.a
		skill = prowess
		duel = {
			skill = prowess 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.2802.a.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.2802.success.toast.t
					scope:knight = {
						add_opinion = {
							target = root
							modifier = grateful_opinion
							opinion = 50
						}
					}
					add_hook = {
						target = scope:knight
						type = favor_hook
					}
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.2802.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.2802.success.toast.t
					scope:knight = {
						add_trait = lunatic_1
					}
				}
			}
		}
	}

	option = { # Follow the knight and destroy the source
		name = wastelands.2802.b
		skill = intrigue
		duel = {
			skill = intrigue 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.2802.b.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.2802.success.toast.t
					scope:knight = {
						add_opinion = {
							target = root
							modifier = grateful_opinion
							opinion = 50
						}
					}					
					add_hook = {
						target = scope:knight
						type = favor_hook
					}
					#scope:obstacle_province = {
					#	add_province_modifier = respected_figurehead
					#	years = 5
					#}
					add_piety = medium_piety_gain
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.2802.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.2802.success.toast.t
					add_trait = lunatic_1
					scope:knight = {
						add_opinion = {
							target = root
							modifier = grateful_opinion
							opinion = 50
						}
					}
				}
			}
		}
	}

	option = { # Leave!
		name = wastelands.2802.c
		make_settlement_county_wilderness = {
			COUNTY = scope:obstacle_province.county
		}
	}
}
# Haunted Eregion Ruins - BLOCKER CLEARANCE
wastelands.2803 = { # Noises and Shadows
	content_source = realms_dlc
	type = character_event
	title = wastelands.2803.t
	desc = wastelands.2803.desc
	theme = eregion_city

	left_portrait = {
		character = root
		animation = personality_bold
	}

	
	right_portrait = {
		character = scope:colonist
		animation = personality_coward
	}

	immediate = {
        create_character = {
            template = local_artisan_template
            culture = root.culture
            faith = root.faith
			location = scope:obstacle_province
            gender_female_chance = 50
            save_scope_as = colonist
        }
	}
	
	option = { # Diplomacy: convincing the colonists to stay
		name = wastelands.2803.a
		skill = diplomacy
		duel = {
			skill = diplomacy 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.2803.a.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.2803.success.toast.t
					hidden_effect = {
						scope:obstacle_province = { 
							remove_building = ghosts_eregion_cleared
						}
					}
					
					add_prestige = medium_prestige_gain
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.2803.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.2803.success.toast.t
					hidden_effect = {
						scope:obstacle_province = { 
							remove_building = ghosts_eregion_cleared
						}
					}
					
					scope:obstacle_province = { add_building = ghosts_eregion }
					add_prestige = minor_prestige_loss
				}
			}
		}
	}

	option = { # Stewardship check
		name = wastelands.2803.b
		skill = stewardship
		duel = {
			skill = stewardship 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.2803.b.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.2803.success.toast.t
					hidden_effect = {
						scope:obstacle_province = { 
							remove_building = ghosts_eregion_cleared
						}
					}
					
					remove_short_term_gold = medium_gold_value
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.2803.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.2803.success.toast.t
					hidden_effect = {
						scope:obstacle_province = { 
							remove_building = ghosts_eregion_cleared
						}
					}
					
					scope:obstacle_province = { add_building = ghosts_eregion }
					
					remove_short_term_gold = minor_gold_value
					add_piety = minor_piety_loss
				}
			}
		}
	}

	option = { # Piety/Learning check
		name = wastelands.2803.c
		skill = learning
		duel = {
			skill = learning 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.2803.c.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.2803.success.toast.t
					hidden_effect = {
						scope:obstacle_province = { 
							remove_building = ghosts_eregion_cleared
						}
					}
					
					add_piety = medium_piety_gain
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.2803.c.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.2803.success.toast.t
					hidden_effect = {
						scope:obstacle_province = { 
							remove_building = ghosts_eregion_cleared
						}
					}
					
					scope:obstacle_province = { add_building = ghosts_eregion }
					
					add_piety = medium_piety_loss
				}
			}
		}
	}

	option = { # Leave!
		name = wastelands.2803.d
		hidden_effect = {
			scope:obstacle_province = { 
				remove_building = ghosts_eregion_cleared
			}			
		}
		scope:obstacle_province = { 
			add_building = ghosts_eregion
		}			
		
		make_settlement_county_wilderness = {
			COUNTY = scope:obstacle_province.county
		}
	}

	after = {
        scope:colonist = {
            silent_disappearance_effect = yes
        }
    }
}

wastelands.2804 = { # Artifacts of old
	content_source = realms_dlc
	type = character_event
	title = wastelands.2804.t
	desc = wastelands.2804.desc
	theme = eregion_city

	left_portrait = {
		character = root
		animation = personality_rational
	}

	
	right_portrait = {
		character = scope:colonist
		animation = personality_greedy
	}

	immediate = {
        create_character = {
            template = local_artisan_template
            culture = root.culture
            faith = root.faith
			location = scope:obstacle_province
            gender_female_chance = 50
            save_scope_as = colonist
        }
	}
	
	option = { # Study the artifacts carefully
		name = wastelands.2804.a
		skill = learning
		duel = {
			skill = learning 
			value = 14
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.2804.a.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.2804.a.success.toast.t
					hidden_effect = {
						scope:obstacle_province = { 
							remove_building = ghosts_eregion_cleared
						}
					}
					
					add_learning_skill = 2
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.2804.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.2804.a.success.toast.t
					hidden_effect = {
						scope:obstacle_province = { 
							remove_building = ghosts_eregion_cleared
						}
					}
					
					add_stress = medium_stress_gain
				}
			}
		}
	}

	option = { # Leave the artifacts
		name = wastelands.2804.b
		skill = diplomacy
		duel = {
			skill = diplomacy 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.2804.b.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.2804.b.success.toast.t
					hidden_effect = {
						scope:obstacle_province = { 
							remove_building = ghosts_eregion_cleared
						}
					}
					
					add_stress = medium_stress_loss
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.2804.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.2804.b.success.toast.t
					hidden_effect = {
						scope:obstacle_province = { 
							remove_building = ghosts_eregion_cleared
						}
					}
					scope:obstacle_province = {
						add_province_modifier = {
							modifier = settlers_tempted
							years = 5
						}	
					}
				}
			}
		}
	}

	option = { # Bury the artifacts
		name = wastelands.2804.c
		skill = intrigue
		duel = {
			skill = intrigue 
			value = 14
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wastelands.2804.c.duel_success
				send_interface_toast = {
					left_icon = root
					title = wastelands.2804.c.success.toast.t
					hidden_effect = {
						scope:obstacle_province = { 
							remove_building = ghosts_eregion_cleared
						}
					}
					
					add_intrigue_skill = 1
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wastelands.2804.c.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.2804.c.success.toast.t
					hidden_effect = {
						scope:obstacle_province = { 
							remove_building = ghosts_eregion_cleared							
						}
					}
					scope:obstacle_province = {
						add_province_modifier = {
							modifier = settlers_tempted
							years = 5
						}	
					}
				}
			}
		}
	}

	option = { # Pick  up the artifact
		name = wastelands.2804.d
		hidden_effect = {
			scope:obstacle_province = { 
				remove_building = ghosts_eregion_cleared
			}
		}
		random_list = {
			50 = {
				desc = wastelands.2804.d.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wastelands.2804.d.failure.toast.t
					add_trait = possessed_1
				}
			}
			50 = {
				desc = wastelands.2804.d.duel_failure
				random_list = {
					2 = {
						send_interface_toast = {
							left_icon = root
							title = wastelands.2804.d.success.toast.t
							create_artifact_elven_rope_effect = { OWNER = root }
						}
					}
					2 = {
						send_interface_toast = {
							left_icon = root
							title = wastelands.2804.d.success.toast.t
							create_artifact_elven_brooch_effect = { OWNER = root }
						}
					}
					2 = {
						send_interface_toast = {
							left_icon = root
							title = wastelands.2804.d.success.toast.t
							create_artifact_noldorin_tools_effect = { OWNER = root }
						}
					}
					1 = {
						send_interface_toast = {
							left_icon = root
							title = wastelands.2804.d.success.toast.t
							create_artifact_eregion_gem_effect = { OWNER = root }
						}
					}
					1 = {
						send_interface_toast = {
							left_icon = root
							title = wastelands.2804.d.success.toast.t
							create_artifact_elven_cape_effect = { OWNER = root }
						}
					}
					1 = {
						send_interface_toast = {
							left_icon = root
							title = wastelands.2804.d.success.toast.t
							create_artifact_miruvor_effect = { OWNER = root }
						}
					}
				}
			}
		}
	}

	after = {
        scope:colonist = {
            silent_disappearance_effect = yes
        }
    }
}

#########################
#  Flooded Tunnels Den  #
#########################

####################
# Shadow of Mordor #
####################

wastelands.3201 = { # Unnerving Shadows
	content_source = realms_dlc
	type = character_event
	title = wastelands.3201.t
	desc = wastelands.3201.desc
	theme = mental_break
	override_background = { reference = barad_dur }

	left_portrait = {
		character = root
		animation = personality_compassionate
	}

	right_portrait = {
		character = scope:courtier
		animation = lantern
	}

	immediate = {
		random_courtier = {
			save_scope_as = courtier
		}
	}

	option = { # We shall bring light to these darkened lands
		name = wastelands.3201.a
		trigger = {
			root = {
				is_elf = yes
			}
		}
		remove_short_term_gold = minor_gold_value
		scope:obstacle_province.county = { change_development_level = 3 }
		scope:obstacle_province = { remove_building = shadow_of_mordor_cleared }
	}

	option = { # Study the strange happenings
		name = wastelands.3201.b
		skill = learning
		duel = {
			skill = learning
			value = medium_skill_rating
			70 = { # You find a way to combat the shadows
				compare_modifier = {
					value = scope:duel_value
					multiplier = 0.5
				}
				send_interface_toast = {
					left_icon = root
					title = wastelands.3201.success.toast.t
					scope:obstacle_province = { remove_building = shadow_of_mordor_cleared }
					add_prestige = medium_prestige_gain
				}
			}
			30 = { # You fail
				compare_modifier = {
					value = scope:duel_value
					multiplier = -0.5
				}
				show_as_tooltip = {
					add_stress = major_stress_gain
				}
				send_interface_toast = {
					left_icon = root
					title = wastelands.3201.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = shadow_of_mordor_cleared } }
					scope:obstacle_province = { add_building = shadow_of_mordor }
				}
				
			}			
		}
	}
	
	option = { #Ignore those happenings
		name = wastelands.3201.c
		add_prestige = medium_prestige_loss
		scope:obstacle_province.county = { 
			change_development_progress = -50
		}
	}
		

	option = { # We should never have come here
		name = wastelands.3201.d
		make_settlement_county_wilderness = {
			COUNTY = scope:obstacle_province.county
		}
		scope:obstacle_province = { add_building = shadow_of_mordor }
	}
}

wastelands.3202 = { # A Light in the Darkness
	content_source = realms_dlc
	type = character_event
	title = wastelands.3202.t
	desc = wastelands.3202.desc
	theme = friendly
	override_background = { reference = barad_dur }

	left_portrait = {
		character = root
		animation = interested
	}

	option = { # A good omen!
		name = wastelands.3202.a
		scope:obstacle_province.county = { 
			change_development_progress = 75
		}
	}
	
	option = { # Have it brought here so I can study it
		name = wastelands.3202.b 
		add_learning_lifestyle_xp = medium_lifestyle_xp
		stress_impact = {
			base = medium_stress_loss
			impatient = minor_stress_loss
			patient = major_stress_loss
		}
	}
	
	option = { # Attempt to cultivate it
		name = wastelands.3202.c 
		duel = {
			skills = { stewardship learning }
			value = medium_skill_rating
			70 = { # You are successful
				compare_modifier = {
					value = scope:duel_value
					multiplier = 0.5
				}
				send_interface_toast = {
					left_icon = root
					title = wastelands.3202.success.toast.t
					scope:obstacle_province = { remove_building = shadow_of_mordor_cleared }
					add_prestige = medium_prestige_gain
					scope:obstacle_province.county = { 
						change_development_level = 3
					}
				}
			}
			30 = { # You fail
				compare_modifier = {
					value = scope:duel_value
					multiplier = -0.5
				}
				show_as_tooltip = {
					add_stress = major_stress_gain
				}
				send_interface_toast = {
					left_icon = root
					title = wastelands.3202.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = shadow_of_mordor_cleared } }
					scope:obstacle_province = { add_building = shadow_of_mordor }
				}
				
			}			
		}
	}
	
	option = { # Feed it to our furnaces
		name = wastelands.3202.d
		trigger = {
			OR = {
				is_orc = yes
				is_dwarf = yes
			}
		}
		scope:obstacle_province.county = { 
			change_development_progress = 50
		}
		add_gold = medium_gold_value
	}
	
}

wastelands.3203 = { # The Bold Explorer
	content_source = realms_dlc
	type = character_event
	title = wastelands.3203.t
	desc = wastelands.3203.desc
	theme = realm
	override_background = { reference = barad_dur }

	left_portrait = {
		character = root
		animation = interested
	}
	right_portrait = {
		character = scope:explorer
		animation = ecstasy
	}
	
	immediate = {
		create_character = {
			template = new_warrior_character
			dynasty = generate
			location = scope:obstacle_province
			gender_female_chance = 50
			save_scope_as = explorer
			age = { 18 28 }
			random_traits_list = {
				count = 3
				brave = {}
				impatient = {}
				greedy = {}
				wrathful = {}
				just = {}
				vengeful = {}
				ambitious = {}
			}
			culture = root.culture
			faith = root.faith
			after_creation = {
				scope:explorer = {
					add_prowess_skill = 10
					random_list = {
						1 = { add_trait = lifestyle_hunter }
						1 = { add_trait = lifestyle_blademaster }
					}
				}
			}
		}
	}

	option = { # This is not a good idea
		name = wastelands.3203.a
		scope:obstacle_province = { remove_building = shadow_of_mordor_cleared }
		scope:obstacle_province.county = { 
			change_development_progress = -50
		}
	}
	
	option = { # Join me at my court instead
		name = wastelands.3203.b 
		scope:obstacle_province = { remove_building = shadow_of_mordor_cleared }
		add_courtier = scope:explorer	
	}
	
	option = { # Very well...
		name = wastelands.3203.c 
		random_list = { 
			75 = {
				custom_tooltip = wastelands.3203.c.tt.success
				hidden_effect = {
					send_interface_toast = {
						left_icon = root
						right_icon = scope:explorer
						title = wastelands.3203.c.tt.success
					}
				}
				scope:obstacle_province = { 
					remove_building = shadow_of_mordor_cleared 
				}
				if = {
					limit = {
						has_government = elven_government 
					}
					scope:obstacle_province = {
						set_holding_type = elven_holding
					}
				}
				else_if = {
					limit = {
						has_government = tribal_government
					}
					scope:obstacle_province = {
						set_holding_type = tribal_holding
					}
				}
				else_if = {
					limit = {
						has_government = hobbit_government
					}
					scope:obstacle_province = {
						set_holding_type = city_holding
					}
				}
				else = {
					scope:obstacle_province = {
						set_holding_type = castle_holding
					}
				}
					
				scope:obstacle_province.county = {
					set_county_faith = root.faith
					set_county_culture = root.culture
					change_development_level = 3
					generate_coa = yes
				}
				
				create_title_and_vassal_change = {
					type = conquest
					save_scope_as = title_change
					add_claim_on_loss = yes
				}
				scope:obstacle_province.county = {
					change_title_holder = {
						holder = scope:explorer
						change = scope:title_change
						take_baronies = yes
					}
				}
				
				resolve_title_and_vassal_change = scope:title_change
				
				hidden_effect = {
					if = {
						limit = {
							has_government = elven_government 
						}
						scope:explorer = {
							change_government = elven_government
						}
					}
					else_if = {
						limit = {
							has_government = tribal_government
						}
						scope:explorer = {
							change_government = tribal_government
						}
					}
					else_if = {
						limit = {
							has_government = clan_government
						}
						scope:explorer = {
							change_government = clan_government
						}
					}
					else_if = {
						limit = {
							has_government = hobbit_government
						}
						scope:explorer = {
							change_government = hobbit_government
						}
					}
					else = {
						scope:explorer = {
							change_government = feudal_government
						}
					}
				}

			}
			25 = {
				custom_tooltip = wastelands.3203.c.tt.failure
				hidden_effect = {
					send_interface_toast = {
						left_icon = root
						right_icon = scope:explorer
						title = wastelands.3203.c.tt.failure
					}
				}
				
				hidden_effect = {
					scope:obstacle_province = { 
						remove_building = shadow_of_mordor_cleared 
					}
					if = {
						limit = {
							is_elf = yes
						}
						scope:obstacle_province = { 
							set_holding_type = elven_holding
						}
					}
					else = {
						scope:obstacle_province = { 
							set_holding_type = castle_holding
						}
					}
					scope:obstacle_province.county = {
						set_county_faith = faith:lidless_eye
						set_county_culture = scope:explorer.culture
						change_development_level = 3
						generate_coa = yes
					}
					
					create_title_and_vassal_change = {
						type = conquest
						save_scope_as = title_change
						add_claim_on_loss = yes
					}
					scope:obstacle_province.county = {
						change_title_holder = {
							holder = scope:explorer
							change = scope:title_change
							take_baronies = yes
						}
					}
					scope:explorer = {
						becomes_independent = { change = scope:title_change }
					}
					
					resolve_title_and_vassal_change = scope:title_change
					
					hidden_effect = {
						scope:explorer = {
							if = {
								limit = {
									is_elf = yes
								}
								change_government = elven_government
							}
							else = {
								change_government = feudal_government
							}
							set_character_faith = faith:lidless_eye
						}
					}
				}
				
			}
		}
	}
	
}
		

wastelands.9000 = {
	hidden = yes

	trigger = {
		OR = {
			scope:obstacle_province = { has_building = spider_nest_cleared }
			scope:obstacle_province = { has_building = wolf_den_cleared }
			scope:obstacle_province = { has_building = bear_den_cleared }
			scope:obstacle_province = { has_building = ghosts_cleared }
			scope:obstacle_province = { has_building = ghosts_eregion_cleared }
			scope:obstacle_province = { has_building = dragon_attack_cleared }
			scope:obstacle_province = { has_building = wild_orcs_cleared }
			scope:obstacle_province = { has_building = dense_growth_cleared }
			scope:obstacle_province = { has_building = flooded_lands_cleared }
			scope:obstacle_province = { has_building = bandits_cleared }
			scope:obstacle_province = { has_building = dead_marshes_cleared }
			scope:obstacle_province = { has_building = collapsed_ceiling_cleared }
			scope:obstacle_province = { has_building = flooded_tunnels_cleared }
			scope:obstacle_province = { has_building = flooded_tunnels_nogrod_cleared }
			scope:obstacle_province = { has_building = stale_air_cleared }
			scope:obstacle_province = { has_building = strange_creatures_cleared }
			scope:obstacle_province = { has_building = shadow_of_mordor_cleared }
		}
	}

	immediate = {
		scope:obstacle_province = { 
			switch = {
				trigger = has_building
				spider_nest_cleared = { scope:obstacle_province = { remove_building = spider_nest_cleared } }
				wolf_den_cleared = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
				bear_den_cleared = { scope:obstacle_province = { remove_building = bear_den_cleared } }
				ghosts_cleared = { scope:obstacle_province = { remove_building = ghosts_cleared } }
				ghosts_eregion_cleared = { scope:obstacle_province = { remove_building = ghosts_eregion_cleared } }
				dragon_attack_cleared = { scope:obstacle_province = { remove_building = dragon_attack_cleared } }
				wild_orcs_cleared = { scope:obstacle_province = { remove_building = wild_orcs_cleared } }
				dense_growth_cleared = { scope:obstacle_province = { remove_building = dense_growth_cleared } }
				flooded_lands_cleared = { scope:obstacle_province = { remove_building = flooded_lands_cleared } }
				bandits_cleared = { scope:obstacle_province = { remove_building = bandits_cleared } }
				dead_marshes_cleared = { scope:obstacle_province = { remove_building = dead_marshes_cleared } }
				collapsed_ceiling_cleared = { scope:obstacle_province = { remove_building = collapsed_ceiling_cleared } }
				flooded_tunnels_cleared = { scope:obstacle_province = { remove_building = flooded_tunnels_cleared } }
				flooded_tunnels_nogrod_cleared = { scope:obstacle_province = { remove_building = flooded_tunnels_nogrod_cleared } }
				stale_air_cleared = { scope:obstacle_province = { remove_building = stale_air_cleared } }
				strange_creatures_cleared = { scope:obstacle_province = { remove_building = strange_creatures_cleared } }
				shadow_of_mordor_cleared = { scope:obstacle_province = { remove_building = shadow_of_mordor_cleared } }
			}
		}
	}
}