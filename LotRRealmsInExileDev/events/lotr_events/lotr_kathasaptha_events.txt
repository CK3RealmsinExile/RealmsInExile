namespace = kathasaptha

### Events ###

#########################
# 		kathasaptha.0050-0059 	#Study Manuscript Decision
#
#
#

######################################################################################
# 
# STUDY MANUSCRIPT DECISION
# 
# kathasaptha.0050-kathasaptha.0069
# 
######################################################################################
# Study a Far-Haradric religious manuscript
# Unlocked via bellakari syncretism tenet
# Note that it can also be used by far haradric religions, not just bellakari
# May provide buffs for the Festival of First-Fruits activity

# Manuscript - will you also write down your own thoughts or not?
kathasaptha.0050 = {
	type = character_event
	content_source = realms_dlc
	title = kathasaptha.0050.t
	desc = {
		desc = kathasaptha.0050.desc.intro
		first_valid = {
			triggered_desc = {
				trigger = { exists = scope:court_chaplain }
				desc = kathasaptha.0050.desc.chaplain
			}
			desc = kathasaptha.0050.desc.fallback
		}
	}
	theme = learning

	left_portrait = {
		character = root
		animation = thinking
	}

	right_portrait = {
		trigger = { exists = scope:court_chaplain }
		character = scope:court_chaplain
		animation = chaplain
	}

	immediate = {
		if = {
			limit = {
				cp:councillor_court_chaplain ?= {
					is_alive = yes
					is_imprisoned = no
					is_incapable = no
					has_contagious_deadly_disease_trigger = no
				}
			}
			cp:councillor_court_chaplain = {
				save_scope_as = court_chaplain
			}
		}
	}

	option = { # Ok
		name = kathasaptha.0050.a			
		set_variable = {
			name = kathasaptha_manuscript_author
			value = flag:other
			days = 730 # A little over one year just in case
		}
		custom_tooltip = kathasaptha.0050.tooltip
		custom_tooltip = kathasaptha.0050.tooltip_2
	}

	option = { # Intense study, write down own interepretation
		name = kathasaptha.0050.b
		trigger = {
			learning >= kathasaptha_manuscript_learning_req_value
		}
		skill = learning
		show_as_unavailable = {
			learning < kathasaptha_manuscript_learning_req_value
		}
		set_variable = {
			name = kathasaptha_manuscript_author
			value = flag:self
			days = 730 # A little over one year just in case
		}
		add_character_modifier = {
			modifier = kathasaptha_annotating_manuscript
			days = 365
		}
		custom_tooltip = kathasaptha.0050.tooltip
		custom_tooltip = kathasaptha.0050.tooltip_3
	}
	
	after = {
		if = {
			limit = {
				var:kathasaptha_manuscript_type ?= flag:kathasaptha
			}
			#trigger_event = kathasaptha.0051
			trigger_event = {
				id = kathasaptha.0051
				days = { 30 365 }
			}
		}
		else_if = {
			limit = {
				var:kathasaptha_manuscript_type ?= flag:katpolozay
			}
			#trigger_event = kathasaptha.0052
			trigger_event = {
				id = kathasaptha.0052
				days = { 30 365 }
			}
		}
		else_if = {
			limit = {
				var:kathasaptha_manuscript_type ?= flag:urenanvale
			}
			#trigger_event = kathasaptha.0053
			trigger_event = {
				id = kathasaptha.0053
				days = { 30 365 }
			}
		}
		else_if = {
			limit = {
				var:kathasaptha_manuscript_type ?= flag:bozishkolir
			}
			#trigger_event = kathasaptha.0054
			trigger_event = {
				id = kathasaptha.0054
				days = { 30 365 }
			}
		}
		else_if = {
			limit = {
				var:kathasaptha_manuscript_type ?= flag:gatarazay
			}
			#trigger_event = kathasaptha.0055
			trigger_event = {
				id = kathasaptha.0055
				days = { 30 365 }
			}
		}
		else_if = {
			limit = {
				var:kathasaptha_manuscript_type ?= flag:missingmountain
			}
			#trigger_event = kathasaptha.0056
			trigger_event = {
				id = kathasaptha.0056
				days = { 30 365 }
			}
		}
		else_if = {
			limit = {
				var:kathasaptha_manuscript_type ?= flag:emissariesinnature
			}
			#trigger_event = kathasaptha.0057
			trigger_event = {
				id = kathasaptha.0057
				days = { 30 365 }
			}
		}
		else_if = {
			limit = {
				var:kathasaptha_manuscript_type ?= flag:scoldingtheflames
			}
			#trigger_event = kathasaptha.0058
			trigger_event = {
				id = kathasaptha.0058
				days = { 30 365 }
			}
		}
	}

}

# Manuscript - Kâthasaptha
kathasaptha.0051 = {
	type = character_event
	content_source = realms_dlc
	title = kathasaptha.0051.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					var:kathasaptha_manuscript_author ?= flag:self
				}
				desc = kathasaptha.0051.desc.self
			}
			triggered_desc = {
				trigger = {
					var:kathasaptha_manuscript_author ?= flag:other
				}
				desc = kathasaptha.0051.desc.other
			}
		}
		desc = kathasaptha.0051.desc.kathasaptha
	}
	theme = learning

	left_portrait = {
		character = root
		triggered_animation = {
			trigger = {
				var:kathasaptha_manuscript_author ?= flag:self
			}
			animation = happy_teacher
		}
		animation = personality_content
	}

	lower_right_portrait = {
		character = scope:manuscript_original_author
	}

	artifact = { # To display the artifact in the event-window
        target = scope:kathasaptha_manuscript_artifact
        position = lower_center_portrait
    }

	trigger = {
		faith = { has_doctrine = tenet_bellakari_syncretism }
	}

	#Trigger if converted to another faith
	on_trigger_fail = { 
		trigger_event = kathasaptha.0100
	}

	immediate = {
		character:lineoftumakveh1 ?= {
			save_scope_as = manuscript_original_author
		}
		kathasaptha_manuscript_general_effect = yes
		random_list = {
			60 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_kathasaptha_name
						description = kathasaptha_artifact_kathasaptha_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 15
						wealth = 15
						modifier = artifact_kathasaptha_manuscript_kathasaptha_modifier_1
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_kathasaptha_variable
					}
				}
			}
			45 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_kathasaptha_name
						description = kathasaptha_artifact_kathasaptha_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 30
						wealth = 30
						modifier = artifact_kathasaptha_manuscript_kathasaptha_modifier_2
						#max_durability = 40
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_kathasaptha_variable
					}
				}
			}
			30 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_kathasaptha_name
						description = kathasaptha_artifact_kathasaptha_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 65
						wealth = 65
						modifier = artifact_kathasaptha_manuscript_kathasaptha_modifier_3
						#max_durability = 40
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_kathasaptha_variable
					}
				}
				modifier = {
					add = kathasaptha_manuscript_good_result_modifier
				}
			}
			5 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_kathasaptha_name
						description = kathasaptha_artifact_kathasaptha_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 95
						wealth = 95
						modifier = artifact_kathasaptha_manuscript_kathasaptha_modifier_4
						#max_durability = 40
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_kathasaptha_variable
					}
				}
				modifier = {
					add = kathasaptha_manuscript_great_result_modifier
				}
			}
		}
	}

	option = { # Ok
		name = kathasaptha.0051.a
		show_as_tooltip = {
			scope:kathasaptha_manuscript_artifact = {
				set_owner = {
					target = root
				}
			}
		}
	}

	after = {
		kathasaptha_manuscript_event_chain_cleanup_effect = yes
	}

}

# Manuscript - Kât-Polozây
kathasaptha.0052 = {
	type = character_event
	content_source = realms_dlc
	title = kathasaptha.0051.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					var:kathasaptha_manuscript_author ?= flag:self
				}
				desc = kathasaptha.0051.desc.self
			}
			triggered_desc = {
				trigger = {
					var:kathasaptha_manuscript_author ?= flag:other
				}
				desc = kathasaptha.0051.desc.other
			}
		}
		desc = kathasaptha.0051.desc.katpolozay
	}
	theme = learning

	left_portrait = {
		character = root
		triggered_animation = {
			trigger = {
				var:kathasaptha_manuscript_author ?= flag:self
			}
			animation = happy_teacher
		}
		animation = personality_content
	}

	artifact = { # To display the artifact in the event-window
        target = scope:kathasaptha_manuscript_artifact
        position = lower_center_portrait
    }

	trigger = {
		faith = { has_doctrine = tenet_bellakari_syncretism }
	}

	#Trigger if converted to another faith
	on_trigger_fail = { 
		trigger_event = kathasaptha.0100
	}

	immediate = {
		kathasaptha_manuscript_general_effect = yes
		random_list = {
			60 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_katpolozay_name
						description = kathasaptha_artifact_katpolozay_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 15
						wealth = 15
						modifier = artifact_kathasaptha_manuscript_katpolozay_modifier_1
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_katpolozay_variable
					}
				}
			}
			45 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_katpolozay_name
						description = kathasaptha_artifact_katpolozay_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 30
						wealth = 30
						modifier = artifact_kathasaptha_manuscript_katpolozay_modifier_2
						#max_durability = 40
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_katpolozay_variable
					}
				}
			}
			30 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_katpolozay_name
						description = kathasaptha_artifact_katpolozay_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 65
						wealth = 65
						modifier = artifact_kathasaptha_manuscript_katpolozay_modifier_3
						#max_durability = 40
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_katpolozay_variable
					}
				}
				modifier = {
					add = kathasaptha_manuscript_good_result_modifier
				}
			}
			15 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_katpolozay_name
						description = kathasaptha_artifact_katpolozay_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 95
						wealth = 95
						modifier = artifact_kathasaptha_manuscript_katpolozay_modifier_4
						#max_durability = 40
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_katpolozay_variable
					}
				}
				modifier = {
					add = kathasaptha_manuscript_great_result_modifier
				}
			}
		}
	}

	option = { # Ok
		name = kathasaptha.0051.a
		show_as_tooltip = {
			scope:kathasaptha_manuscript_artifact = {
				set_owner = {
					target = root
				}
			}
		}
	}

	after = {
		kathasaptha_manuscript_event_chain_cleanup_effect = yes
	}

}

# Manuscript - Ûrê’n Avalê
kathasaptha.0053 = {
	type = character_event
	content_source = realms_dlc
	title = kathasaptha.0051.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					var:kathasaptha_manuscript_author ?= flag:self
				}
				desc = kathasaptha.0051.desc.self
			}
			triggered_desc = {
				trigger = {
					var:kathasaptha_manuscript_author ?= flag:other
				}
				desc = kathasaptha.0051.desc.other
			}
		}
		desc = kathasaptha.0051.desc.urenanvale
	}
	theme = learning

	left_portrait = {
		character = root
		triggered_animation = {
			trigger = {
				var:kathasaptha_manuscript_author ?= flag:self
			}
			animation = happy_teacher
		}
		animation = personality_content
	}

	lower_right_portrait = {
		character = scope:manuscript_original_author
	}

	artifact = { # To display the artifact in the event-window
        target = scope:kathasaptha_manuscript_artifact
        position = lower_center_portrait
    }

	trigger = {
		faith = { has_doctrine = tenet_bellakari_syncretism }
	}

	#Trigger if converted to another faith
	on_trigger_fail = { 
		trigger_event = kathasaptha.0100
	}

	immediate = {
		character:lineoftumakveh1 ?= {
			save_scope_as = manuscript_original_author
		}
		kathasaptha_manuscript_general_effect = yes
		random_list = {
			60 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_urenanvale_name
						description = kathasaptha_artifact_urenanvale_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 15
						wealth = 15
						modifier = artifact_kathasaptha_manuscript_urenanvale_modifier_1
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_urenanvale_variable
					}
				}
			}
			45 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_urenanvale_name
						description = kathasaptha_artifact_urenanvale_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 30
						wealth = 30
						modifier = artifact_kathasaptha_manuscript_urenanvale_modifier_2
						#max_durability = 40
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_urenanvale_variable
					}
				}
			}
			30 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_urenanvale_name
						description = kathasaptha_artifact_urenanvale_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 65
						wealth = 65
						modifier = artifact_kathasaptha_manuscript_urenanvale_modifier_3
						#max_durability = 40
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_urenanvale_variable
					}
				}
				modifier = {
					add = kathasaptha_manuscript_good_result_modifier
				}
			}
			15 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_urenanvale_name
						description = kathasaptha_artifact_urenanvale_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 95
						wealth = 95
						modifier = artifact_kathasaptha_manuscript_urenanvale_modifier_4
						#max_durability = 40
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_urenanvale_variable
					}
				}
				modifier = {
					add = kathasaptha_manuscript_great_result_modifier
				}
			}
		}
	}

	option = { # Ok
		name = kathasaptha.0051.a
		show_as_tooltip = {
			scope:kathasaptha_manuscript_artifact = {
				set_owner = {
					target = root
				}
			}
		}
	}

	after = {
		kathasaptha_manuscript_event_chain_cleanup_effect = yes
	}

}

# Manuscript - Bôzish-Kôlir
kathasaptha.0054 = {
	type = character_event
	content_source = realms_dlc
	title = kathasaptha.0051.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					var:kathasaptha_manuscript_author ?= flag:self
				}
				desc = kathasaptha.0051.desc.self
			}
			triggered_desc = {
				trigger = {
					var:kathasaptha_manuscript_author ?= flag:other
				}
				desc = kathasaptha.0051.desc.other
			}
		}
		desc = kathasaptha.0051.desc.bozishkolir
	}
	theme = learning

	left_portrait = {
		character = root
		triggered_animation = {
			trigger = {
				var:kathasaptha_manuscript_author ?= flag:self
			}
			animation = happy_teacher
		}
		animation = personality_content
	}

	lower_right_portrait = {
		character = scope:manuscript_original_author
	}

	artifact = { # To display the artifact in the event-window
        target = scope:kathasaptha_manuscript_artifact
        position = lower_center_portrait
    }

	trigger = {
		faith = { has_doctrine = tenet_bellakari_syncretism }
	}

	#Trigger if converted to another faith
	on_trigger_fail = { 
		trigger_event = kathasaptha.0100
	}

	immediate = {
		character:linedeyeypriestess1 ?= {
			save_scope_as = manuscript_original_author
		}
		kathasaptha_manuscript_general_effect = yes
		random_list = {
			60 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_bozishkolir_name
						description = kathasaptha_artifact_bozishkolir_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 15
						wealth = 15
						modifier = artifact_kathasaptha_manuscript_bozishkolir_modifier_1
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_bozishkolir_variable
					}
				}
			}
			45 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_bozishkolir_name
						description = kathasaptha_artifact_bozishkolir_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 30
						wealth = 30
						modifier = artifact_kathasaptha_manuscript_bozishkolir_modifier_2
						#max_durability = 40
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_bozishkolir_variable
					}
				}
			}
			30 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_bozishkolir_name
						description = kathasaptha_artifact_bozishkolir_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 65
						wealth = 65
						modifier = artifact_kathasaptha_manuscript_bozishkolir_modifier_3
						#max_durability = 40
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_bozishkolir_variable
					}
				}
				modifier = {
					add = kathasaptha_manuscript_good_result_modifier
				}
			}
			15 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_bozishkolir_name
						description = kathasaptha_artifact_bozishkolir_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 95
						wealth = 95
						modifier = artifact_kathasaptha_manuscript_bozishkolir_modifier_4
						#max_durability = 40
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_bozishkolir_variable
					}
				}
				modifier = {
					add = kathasaptha_manuscript_great_result_modifier
				}
			}
		}
	}

	option = { # Ok
		name = kathasaptha.0051.a
		show_as_tooltip = {
			scope:kathasaptha_manuscript_artifact = {
				set_owner = {
					target = root
				}
			}
		}
	}

	after = {
		kathasaptha_manuscript_event_chain_cleanup_effect = yes
	}

}

# Manuscript - Gatar-Azây
kathasaptha.0055 = {
	type = character_event
	content_source = realms_dlc
	title = kathasaptha.0051.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					var:kathasaptha_manuscript_author ?= flag:self
				}
				desc = kathasaptha.0051.desc.self
			}
			triggered_desc = {
				trigger = {
					var:kathasaptha_manuscript_author ?= flag:other
				}
				desc = kathasaptha.0051.desc.other
			}
		}
		desc = kathasaptha.0051.desc.gatarazay
	}
	theme = learning

	left_portrait = {
		character = root
		triggered_animation = {
			trigger = {
				var:kathasaptha_manuscript_author ?= flag:self
			}
			animation = happy_teacher
		}
		animation = personality_content
	}

	lower_right_portrait = {
		character = scope:manuscript_original_author
	}

	artifact = { # To display the artifact in the event-window
        target = scope:kathasaptha_manuscript_artifact
        position = lower_center_portrait
    }

	trigger = {
		faith = { has_doctrine = tenet_bellakari_syncretism }
	}

	#Trigger if converted to another faith
	on_trigger_fail = { 
		trigger_event = kathasaptha.0100
	}

	immediate = {
		character:linegatarascholar1 ?= {
			save_scope_as = manuscript_original_author
		}
		kathasaptha_manuscript_general_effect = yes
		random_list = {
			60 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_gatarazay_name
						description = kathasaptha_artifact_gatarazay_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 15
						wealth = 15
						modifier = artifact_kathasaptha_manuscript_gatarazay_modifier_1
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_gatarazay_variable
					}
				}
			}
			45 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_gatarazay_name
						description = kathasaptha_artifact_gatarazay_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 30
						wealth = 30
						modifier = artifact_kathasaptha_manuscript_gatarazay_modifier_2
						#max_durability = 40
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_gatarazay_variable
					}
				}
			}
			30 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_gatarazay_name
						description = kathasaptha_artifact_gatarazay_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 65
						wealth = 65
						modifier = artifact_kathasaptha_manuscript_gatarazay_modifier_3
						#max_durability = 40
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_gatarazay_variable
					}
				}
				modifier = {
					add = kathasaptha_manuscript_good_result_modifier
				}
			}
			15 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_gatarazay_name
						description = kathasaptha_artifact_gatarazay_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 95
						wealth = 95
						modifier = artifact_kathasaptha_manuscript_gatarazay_modifier_4
						#max_durability = 40
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_gatarazay_variable
					}
				}
				modifier = {
					add = kathasaptha_manuscript_great_result_modifier
				}
			}
		}
	}

	option = { # Ok
		name = kathasaptha.0051.a
		show_as_tooltip = {
			scope:kathasaptha_manuscript_artifact = {
				set_owner = {
					target = root
				}
			}
		}
	}

	after = {
		kathasaptha_manuscript_event_chain_cleanup_effect = yes
	}

}

# Manuscript - The Missing Mountain
kathasaptha.0056 = {
	type = character_event
	content_source = realms_dlc
	title = kathasaptha.0051.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					var:kathasaptha_manuscript_author ?= flag:self
				}
				desc = kathasaptha.0051.desc.self
			}
			triggered_desc = {
				trigger = {
					var:kathasaptha_manuscript_author ?= flag:other
				}
				desc = kathasaptha.0051.desc.other
			}
		}
		desc = kathasaptha.0051.desc.missingmountain
	}
	theme = learning

	left_portrait = {
		character = root
		triggered_animation = {
			trigger = {
				var:kathasaptha_manuscript_author ?= flag:self
			}
			animation = happy_teacher
		}
		animation = personality_content
	}

	lower_right_portrait = {
		character = scope:manuscript_original_author
	}

	artifact = { # To display the artifact in the event-window
        target = scope:kathasaptha_manuscript_artifact
        position = lower_center_portrait
    }

	trigger = {
		faith = { has_doctrine = tenet_bellakari_syncretism }
	}

	#Trigger if converted to another faith
	on_trigger_fail = { 
		trigger_event = kathasaptha.0100
	}

	immediate = {
		character:linesuldor9 ?= {
			save_scope_as = manuscript_original_author
		}
		kathasaptha_manuscript_general_effect = yes
		random_list = {
			60 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_missingmountain_name
						description = kathasaptha_artifact_missingmountain_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 15
						wealth = 15
						modifier = artifact_kathasaptha_manuscript_missingmountain_modifier_1
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_missingmountain_variable
					}
				}
			}
			45 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_missingmountain_name
						description = kathasaptha_artifact_missingmountain_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 30
						wealth = 30
						modifier = artifact_kathasaptha_manuscript_missingmountain_modifier_2
						#max_durability = 40
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_missingmountain_variable
					}
				}
			}
			30 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_missingmountain_name
						description = kathasaptha_artifact_missingmountain_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 65
						wealth = 65
						modifier = artifact_kathasaptha_manuscript_missingmountain_modifier_3
						#max_durability = 40
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_missingmountain_variable
					}
				}
				modifier = {
					add = kathasaptha_manuscript_good_result_modifier
				}
			}
			15 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_missingmountain_name
						description = kathasaptha_artifact_missingmountain_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 95
						wealth = 95
						modifier = artifact_kathasaptha_manuscript_missingmountain_modifier_4
						#max_durability = 40
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_missingmountain_variable
					}
				}
				modifier = {
					add = kathasaptha_manuscript_great_result_modifier
				}
			}
		}
	}

	option = { # Ok
		name = kathasaptha.0051.a
		show_as_tooltip = {
			scope:kathasaptha_manuscript_artifact = {
				set_owner = {
					target = root
				}
			}
		}
	}

	after = {
		kathasaptha_manuscript_event_chain_cleanup_effect = yes
	}

}

# Manuscript - Emissaries in Nature
kathasaptha.0057 = {
	type = character_event
	content_source = realms_dlc
	title = kathasaptha.0051.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					var:kathasaptha_manuscript_author ?= flag:self
				}
				desc = kathasaptha.0051.desc.self
			}
			triggered_desc = {
				trigger = {
					var:kathasaptha_manuscript_author ?= flag:other
				}
				desc = kathasaptha.0051.desc.other
			}
		}
		desc = kathasaptha.0051.desc.emissariesinnature
	}
	theme = learning

	left_portrait = {
		character = root
		triggered_animation = {
			trigger = {
				var:kathasaptha_manuscript_author ?= flag:self
			}
			animation = happy_teacher
		}
		animation = personality_content
	}

	artifact = { # To display the artifact in the event-window
        target = scope:kathasaptha_manuscript_artifact
        position = lower_center_portrait
    }

	trigger = {
		faith = { has_doctrine = tenet_bellakari_syncretism }
	}

	#Trigger if converted to another faith
	on_trigger_fail = { 
		trigger_event = kathasaptha.0100
	}

	immediate = {
		kathasaptha_manuscript_general_effect = yes
		random_list = {
			60 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_emissariesinnature_name
						description = kathasaptha_artifact_emissariesinnature_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 15
						wealth = 15
						modifier = artifact_kathasaptha_manuscript_emissariesinnature_modifier_1
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_emissariesinnature_variable
					}
				}
			}
			45 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_emissariesinnature_name
						description = kathasaptha_artifact_emissariesinnature_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 30
						wealth = 30
						modifier = artifact_kathasaptha_manuscript_emissariesinnature_modifier_2
						#max_durability = 40
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_emissariesinnature_variable
					}
				}
			}
			30 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_emissariesinnature_name
						description = kathasaptha_artifact_emissariesinnature_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 65
						wealth = 65
						modifier = artifact_kathasaptha_manuscript_emissariesinnature_modifier_3
						#max_durability = 40
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_emissariesinnature_variable
					}
				}
				modifier = {
					add = kathasaptha_manuscript_good_result_modifier
				}
			}
			15 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_emissariesinnature_name
						description = kathasaptha_artifact_emissariesinnature_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 95
						wealth = 95
						modifier = artifact_kathasaptha_manuscript_emissariesinnature_modifier_4
						#max_durability = 40
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_emissariesinnature_variable
					}
				}
				modifier = {
					add = kathasaptha_manuscript_great_result_modifier
				}
			}
		}
	}

	option = { # Ok
		name = kathasaptha.0051.a
		show_as_tooltip = {
			scope:kathasaptha_manuscript_artifact = {
				set_owner = {
					target = root
				}
			}
		}
	}

	after = {
		kathasaptha_manuscript_event_chain_cleanup_effect = yes
	}

}

# Manuscript - Scolding the Flames
kathasaptha.0058 = {
	type = character_event
	content_source = realms_dlc
	title = kathasaptha.0051.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					var:kathasaptha_manuscript_author ?= flag:self
				}
				desc = kathasaptha.0051.desc.self
			}
			triggered_desc = {
				trigger = {
					var:kathasaptha_manuscript_author ?= flag:other
				}
				desc = kathasaptha.0051.desc.other
			}
		}
		desc = kathasaptha.0051.desc.scoldingtheflames
	}
	theme = learning

	left_portrait = {
		character = root
		triggered_animation = {
			trigger = {
				var:kathasaptha_manuscript_author ?= flag:self
			}
			animation = happy_teacher
		}
		animation = personality_content
	}

	lower_right_portrait = {
		character = scope:manuscript_original_author
	}

	artifact = { # To display the artifact in the event-window
        target = scope:kathasaptha_manuscript_artifact
        position = lower_center_portrait
    }

	trigger = {
		faith = { has_doctrine = tenet_bellakari_syncretism }
	}

	#Trigger if converted to another faith
	on_trigger_fail = { 
		trigger_event = kathasaptha.0100
	}

	immediate = {
		character:linesuldor9 ?= {
			save_scope_as = manuscript_original_author
		}
		kathasaptha_manuscript_general_effect = yes
		random_list = {
			60 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_scoldingtheflames_name
						description = kathasaptha_artifact_scoldingtheflames_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 15
						wealth = 15
						modifier = artifact_kathasaptha_manuscript_scoldingtheflames_modifier_1
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_scoldingtheflames_variable
					}
				}
			}
			45 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_scoldingtheflames_name
						description = kathasaptha_artifact_scoldingtheflames_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 30
						wealth = 30
						modifier = artifact_kathasaptha_manuscript_scoldingtheflames_modifier_2
						#max_durability = 40
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_scoldingtheflames_variable
					}
				}
			}
			30 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_scoldingtheflames_name
						description = kathasaptha_artifact_scoldingtheflames_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 65
						wealth = 65
						modifier = artifact_kathasaptha_manuscript_scoldingtheflames_modifier_3
						#max_durability = 40
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_scoldingtheflames_variable
					}
				}
				modifier = {
					add = kathasaptha_manuscript_good_result_modifier
				}
			}
			15 = {
				hidden_effect_new_object = {
					create_artifact = {	
						name = kathasaptha_artifact_scoldingtheflames_name
						description = kathasaptha_artifact_scoldingtheflames_desc
						type = journal
						template = kathasaptha_manuscript_template
						visuals = kathasaptha_manuscript
						quality = 95
						wealth = 95
						modifier = artifact_kathasaptha_manuscript_scoldingtheflames_modifier_4
						#max_durability = 40
						decaying = no
						save_scope_as = kathasaptha_manuscript_artifact
						history = {
							type = created_before_history
						}
					}
					scope:kathasaptha_manuscript_artifact = {
						set_variable = kathasaptha_artifact_scoldingtheflames_variable
					}
				}
				modifier = {
					add = kathasaptha_manuscript_great_result_modifier
				}
			}
		}
	}

	option = { # Ok
		name = kathasaptha.0051.a
		show_as_tooltip = {
			scope:kathasaptha_manuscript_artifact = {
				set_owner = {
					target = root
				}
			}
		}
	}

	after = {
		kathasaptha_manuscript_event_chain_cleanup_effect = yes
	}

}

# Converted to another religion, no more manuscript
kathasaptha.0100 = {
	type = character_event
	content_source = realms_dlc
	title = kathasaptha.0100.t
	desc = kathasaptha.0100.desc
	theme = faith

	left_portrait = {
		character = root
		animation = war_over_tie
	}

	option = { # Ok
		name = kathasaptha.0100.a
	}

	after = {
		kathasaptha_manuscript_event_chain_cleanup_effect = yes
	}

}

# Seven Treatises		-> Kâthasaptha
# katpolozay			-> Kât-Polozây
# urenanvale				-> Ûrê’n Avalê
# bozishkolir				-> Bôzish-Kôlir
# hymn book				-> Gatar-Azây
# confessional texts	-> The Missing Mountain
# parables and tales	-> Emissaries in Nature
# other religions texts	-> Scolding the Flames
# new					-> Kîrab-Sarâda