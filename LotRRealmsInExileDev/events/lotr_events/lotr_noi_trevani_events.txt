namespace = noi_trevani


# Events for after the fall of Angmar
# Means can be triggered any time afterwards


noi_trevani.1000 = { 
    content_source = realms_dlc
    type = character_event
    title = noi_trevani.1000.t
    desc = noi_trevani.1000.desc
    theme = realm

    override_background = { 
        reference = rhudaur
    }
    left_portrait = {
        character = root
        animation = interested
    }
    right_portrait = { 
        character = scope:lynx_descendant
        animation = throne_room_kneel_1
    }
    trigger = { 
        AND = {
            completely_controls = title:c_mitheithel
            completely_controls = title:c_braighe_cuic
            culture = culture:hillmen
            title:c_mitheithel.title_province = { NOT = { has_holding_type = settlement_holding } }
            title:c_braighe_cuic.title_province = { NOT = { has_holding_type = settlement_holding } }
        }
    }
    immediate = {
        create_character = {
			template = new_loremaster_character
			#dynasty = lineoflynx
			location = root.location
			gender_female_chance = 100
			save_scope_as = lynx_descendant
            diplomacy = 3
	        martial = 3
	        stewardship = 4
	        intrigue = 4
	        learning = 8
			prowess = 6
            trait = shy
            trait = patient
            trait = diligent
            trait = education_learning_3
			culture = culture:hillmen
			faith = faith_hillmen
    }
    }
    option { #Becomes Courtier
        name = noi_trevani.1000.a
        add courtier = scope:lynx_descendant
    }
    option = { # Becomes Vassal
    scope:lynx_descendant = { get_title = 
    title:c_mitheithel
    get_title = 
    title:c_braighe_cuic 
    }
    create_title_and_vassal_change = {
            type = swear_fealty
            save_scope_as = change
            add_claim_on_loss = yes
        }
        change_liege = {
            liege = root
            change = scope:change
        }
        resolve_title_and_vassal_change = scope:change
        add_hook = {
                    type = loyalty_hook
                    target = scope:lynx_descendant
                }
    }
    option = { # DIE!
        name = noi_trevani.1000.c
        scope:lynx_descendant = { death = { death_reason = death_fight killer = root } }
        add_martial_lifestyle_xp = 100
    }
}


