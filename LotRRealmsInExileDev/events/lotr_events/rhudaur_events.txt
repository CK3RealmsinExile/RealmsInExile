namespace = rhudaur

# Events about Rhudaur and Trollshaws
#		rhudaur.0001		 Introduction for Moin Duldach
#       rhudaur.1000-1004    Orc / Troll Hunting decision (for Imladris and Dunadan Rangers)

rhudaur.0001 = { # Introduction
	content_source = realms_dlc
	type = character_event
	title = rhudaur.0001.t
	desc = rhudaur.0001.desc
	theme = stewardship_duty_focus
	override_background = {
		reference = rhudaur
	}
	right_portrait = {
		character = root
		animation = worry
	}
	
	immediate = {
		play_music_cue = lotr_base_evil_18
	}
	
	option = {
		name = rhudaur.0001.a	
	}
}


## ORC / TROLL HUNTING (only Imladris and Dunadan Rangers)

rhudaur.1000 = { 
	content_source = realms_dlc
	type = character_event
	title = rhudaur.1000.t
	desc = rhudaur.1000.desc
	theme = stewardship_duty_focus
	
	override_background = {
		reference = rhudaur
	}
	left_portrait = {
		character = root
		animation = marshal
	}
	right_portrait = {
		character = scope:orc
		animation = marshal
	}
	
	lower_left_portrait = {
		trigger = { 
			exists = scope:companion1
		}
		character = scope:companion1
		animation = marshal
	}
	lower_right_portrait = {
		trigger = { 
			exists = scope:companion2
		}
		character = scope:companion2
		animation = marshal
	}
	
	immediate = {
		play_music_cue = lotr_cue_elves
		root = {
			random_in_list = {
				variable = potential_rhudaur_troll_orc_hunting_participants
				limit = {
					is_alive = yes
				}
				save_scope_as = companion1
			}
			random_in_list = {
				variable = potential_rhudaur_troll_orc_hunting_participants
				limit = {
					is_alive = yes
					NOT = {
						scope:companion1 = this
					}
				}
				save_scope_as = companion2
			}
		}
		random_county_in_region = {
			region = middleearth_west_arnor_rhudaur
			title_province = { save_scope_as = rhudaur_province }
		}
		
		create_character = { # Create a new character to hold the title
			culture = culture:uruk_ongmair
			gender_female_chance = 0
			location = scope:rhudaur_province
			save_scope_as = orc
		}
	}
	
	option = { # Companion 1 tries to tame the orc by force
		name = rhudaur.1000.a
		skill = martial
		trigger = { 
			exists = scope:companion1
		}
		scope:companion1 = {
			duel = {
				skill = martial 
				value = 14
				30 = { # Success
					compare_modifier = {
						value = scope:duel_value
						multiplier = 2
						min = -10
					}
					desc = rhudaur.1000.a.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:companion1
							title = rhudaur.1000.success.toast.t
							add_prestige = minor_prestige_gain
							add_martial_lifestyle_xp = minor_lifestyle_xp
						}
					}
				}
				30 = { # Failure
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = rhudaur.1000.a.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:companion1
							title = rhudaur.1000.failure.toast.t
							scope:companion1 = {
								increase_wounds_effect = {
									REASON = fight
								}
							}
							add_prestige = medium_prestige_loss	
							stress_impact = {
								just = medium_stress_impact_gain
								wrathful = medium_stress_impact_gain
								vengeful = medium_stress_impact_gain
								sadistic = minor_stress_impact_gain							
							}
						}
					}					
				}
			}
		}
	}
	option = { # Companion 2 tries to tame the orc by force
		name = rhudaur.1000.b
		skill = martial
		trigger = { 
			exists = scope:companion1
		}
		scope:companion2 = {
			duel = {
				skill = martial 
				value = 14
				30 = { # Success
					compare_modifier = {
						value = scope:duel_value
						multiplier = 2
						min = -10
					}
					desc = rhudaur.1000.b.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:companion2
							title = rhudaur.1000.success.toast.t
							add_prestige = minor_prestige_gain
							add_martial_lifestyle_xp = minor_lifestyle_xp
						}
					}
				}
				30 = { # Failure
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = rhudaur.1000.b.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:companion2
							title = rhudaur.1000.failure.toast.t							
							scope:companion1 = {
								increase_wounds_effect = {
									REASON = fight
								}
							}
							add_prestige = medium_prestige_loss	
							stress_impact = {
								just = medium_stress_impact_gain
								wrathful = medium_stress_impact_gain
								vengeful = medium_stress_impact_gain
								sadistic = minor_stress_impact_gain									
							}
						}
					}					
				}
			}
		}
	}
	option = { # You
		name = rhudaur.1000.c
		skill = martial
		root = {
			duel = {
				skill = martial 
				value = 14
				30 = { # Success
					compare_modifier = {
						value = scope:duel_value
						multiplier = 2
						min = -10
					}
					desc = rhudaur.1000.c.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							title = rhudaur.1000.success.toast.t
							add_prestige = minor_prestige_gain
							add_martial_lifestyle_xp = minor_lifestyle_xp
						}
					}
				}
				30 = { # Failure
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = rhudaur.1000.c.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							title = rhudaur.1000.failure.toast.t							
							increase_wounds_effect = {
								REASON = fight
							}
							add_prestige = medium_prestige_loss	
							stress_impact = {
								just = medium_stress_impact_gain
								wrathful = medium_stress_impact_gain
								vengeful = medium_stress_impact_gain
								sadistic = minor_stress_impact_gain							
							}
						}
					}					
				}
			}
		}
	}
	after = {
		trigger_event = {
			id = rhudaur.1001
			days = 20
		}
		scope:orc = {
			silent_disappearance_effect = yes
		}
	}
}

rhudaur.1001 = { # Sabotage at the orc camp
	content_source = realms_dlc
	type = character_event
	title = rhudaur.1001.t
	desc = rhudaur.1001.desc
	theme = stewardship_duty_focus
	
	override_background = {
		reference = army_camp
	}
	left_portrait = {
		character = root
		animation = marshal
	}
	
	right_portrait = {
		character = scope:orc
		animation = marshal
	}
	
	lower_left_portrait = {
		trigger = { 
			exists = scope:companion1
		}
		character = scope:companion1
		animation = marshal
	}
	lower_right_portrait = {
		trigger = { 
			exists = scope:companion2
		}
		character = scope:companion2
		animation = marshal
	}

	immediate = {
		
		random_county_in_region = {
			region = middleearth_west_arnor_rhudaur
			title_province = { save_scope_as = rhudaur_province }
		}
		
		create_character = { # Create a new character to hold the title
			culture = culture:uruk_ongmair
			gender_female_chance = 0
			location = scope:rhudaur_province
			save_scope_as = orc
		}
	}
	
	option = { # Companion 1 tries to tame the orc by force
		name = rhudaur.1001.a
		skill = intrigue
		trigger = { 
			exists = scope:companion1
		}
		scope:companion1 = {
			duel = {
				skill = intrigue 
				value = 16
				30 = { # Success
					compare_modifier = {
						value = scope:duel_value
						multiplier = 2
						min = -10
					}
					desc = rhudaur.1001.a.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:companion1
							title = rhudaur.1001.success.toast.t
							add_prestige = minor_prestige_gain
							add_intrigue_lifestyle_xp = minor_lifestyle_xp
						}
					}
				}
				30 = { # Failure
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = rhudaur.1001.a.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:companion1
							title = rhudaur.1001.failure.toast.t
							scope:companion1 = {
								increase_wounds_effect = {
									REASON = fight
								}
							}
							add_prestige = medium_prestige_loss	
							stress_impact = {
								just = medium_stress_impact_gain
								wrathful = medium_stress_impact_gain
								vengeful = medium_stress_impact_gain
								sadistic = minor_stress_impact_gain							
							}
						}
					}					
				}
			}
		}
	}
	option = { # Companion 2
		name = rhudaur.1001.b
		skill = intrigue
		trigger = { 
			exists = scope:companion1
		}
		scope:companion2 = {
			duel = {
				skill = intrigue 
				value = 16
				30 = { # Success
					compare_modifier = {
						value = scope:duel_value
						multiplier = 2
						min = -10
					}
					desc = rhudaur.1001.b.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:companion2
							title = rhudaur.1001.success.toast.t
							add_prestige = minor_prestige_gain
							add_intrigue_lifestyle_xp = minor_lifestyle_xp
						}
					}
				}
				30 = { # Failure
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = rhudaur.1001.b.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:companion2
							title = rhudaur.1001.failure.toast.t							
							scope:companion1 = {
								increase_wounds_effect = {
									REASON = fight
								}
							}
							add_prestige = medium_prestige_loss	
							stress_impact = {
								just = medium_stress_impact_gain
								wrathful = medium_stress_impact_gain
								vengeful = medium_stress_impact_gain
								sadistic = minor_stress_impact_gain									
							}
						}
					}					
				}
			}
		}
	}
	option = { # You
		name = rhudaur.1001.c
		skill = intrigue
		root = {
			duel = {
				skill = intrigue 
				value = 16
				30 = { # Success
					compare_modifier = {
						value = scope:duel_value
						multiplier = 2
						min = -10
					}
					desc = rhudaur.1001.c.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							title = rhudaur.1001.success.toast.t
							add_prestige = minor_prestige_gain
							add_intrigue_lifestyle_xp = minor_lifestyle_xp
						}
					}
				}
				30 = { # Failure
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = rhudaur.1001.c.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							title = rhudaur.1001.failure.toast.t							
							increase_wounds_effect = {
								REASON = fight
							}
							add_prestige = medium_prestige_loss	
							stress_impact = {
								just = medium_stress_impact_gain
								wrathful = medium_stress_impact_gain
								vengeful = medium_stress_impact_gain
								sadistic = minor_stress_impact_gain							
							}
						}
					}					
				}
			}
		}
	}
	 after = {
	 	trigger_event = {
	 		id = rhudaur.1002
			days = 20
		}
		scope:orc = {
			silent_disappearance_effect = yes
		}
	}
}

rhudaur.1002 = { # Troll parley
	content_source = realms_dlc
	type = character_event
	title = rhudaur.1002.t
	desc = rhudaur.1002.desc
	theme = stewardship_duty_focus
	
	override_background = {
		reference = trollshaws
	}
	left_portrait = {
		character = root
		animation = thinking
	}
	right_portrait = {
		character = scope:troll
		animation = marshal
	}
	
	lower_left_portrait = {
		trigger = { 
			exists = scope:companion1
		}
		character = scope:companion1
		animation = eavesdrop
	}
	lower_right_portrait = {
		trigger = { 
			exists = scope:companion2
		}
		character = scope:companion2
		animation = scheme
	}
	
	immediate = {
		
		random_county_in_region = {
			region = middleearth_west_arnor_rhudaur
			title_province = { save_scope_as = rhudaur_province }
		}
		
		create_character = { # Create a new troll
			culture = culture:hill_troll
			gender_female_chance = 0
			location = scope:rhudaur_province
			save_scope_as = troll
		}
	}
	
	option = { # Companion 1
		name = rhudaur.1002.a
		skill = diplomacy
		trigger = { 
			exists = scope:companion1
		}
		scope:companion1 = {
			duel = {
				skill = diplomacy 
				value = 18
				30 = { # Success
					compare_modifier = {
						value = scope:duel_value
						multiplier = 2
						min = -10
					}
					desc = rhudaur.1002.a.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:companion1
							title = rhudaur.1002.success.toast.t
							add_prestige = minor_prestige_gain
							add_diplomacy_lifestyle_xp = minor_lifestyle_xp
						}
					}
				}
				30 = { # Failure
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = rhudaur.1002.a.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:companion1
							title = rhudaur.1002.failure.toast.t
							scope:companion1 = {
								increase_wounds_effect = {
									REASON = fight
								}
							}
							add_prestige = medium_prestige_loss	
							stress_impact = {
								just = medium_stress_impact_gain
								wrathful = medium_stress_impact_gain
								vengeful = medium_stress_impact_gain
								sadistic = minor_stress_impact_gain							
							}
						}
					}					
				}
			}
		}
	}
	option = { # Companion 2
		name = rhudaur.1002.b
		skill = diplomacy
		trigger = { 
			exists = scope:companion1
		}
		scope:companion2 = {
			duel = {
				skill = diplomacy 
				value = 18
				30 = { # Success
					compare_modifier = {
						value = scope:duel_value
						multiplier = 2
						min = -10
					}
					desc = rhudaur.1002.b.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:companion2
							title = rhudaur.1002.success.toast.t
							add_prestige = minor_prestige_gain
							add_diplomacy_lifestyle_xp = minor_lifestyle_xp
						}
					}
				}
				30 = { # Failure
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = rhudaur.1002.b.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:companion2
							title = rhudaur.1002.failure.toast.t							
							scope:companion1 = {
								increase_wounds_effect = {
									REASON = fight
								}
							}
							add_prestige = medium_prestige_loss	
							stress_impact = {
								just = medium_stress_impact_gain
								wrathful = medium_stress_impact_gain
								vengeful = medium_stress_impact_gain
								sadistic = minor_stress_impact_gain									
							}
						}
					}					
				}
			}
		}
	}
	option = { # You
		name = rhudaur.1002.c
		skill = diplomacy
		root = {
			duel = {
				skill = diplomacy 
				value = 18
				30 = { # Success
					compare_modifier = {
						value = scope:duel_value
						multiplier = 2
						min = -10
					}
					desc = rhudaur.1002.c.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							title = rhudaur.1002.success.toast.t
							add_prestige = minor_prestige_gain
							add_diplomacy_lifestyle_xp = minor_lifestyle_xp
						}
					}
				}
				30 = { # Failure
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = rhudaur.1002.c.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							title = rhudaur.1002.failure.toast.t							
							increase_wounds_effect = {
								REASON = fight
							}
							add_prestige = medium_prestige_loss	
							stress_impact = {
								just = medium_stress_impact_gain
								wrathful = medium_stress_impact_gain
								vengeful = medium_stress_impact_gain
								sadistic = minor_stress_impact_gain							
							}
						}
					}					
				}
			}
		}
	}
	after = {
		trigger_event = {
	 		id = rhudaur.1003
	 		days = 20
	 	}
		scope:troll = {
			silent_disappearance_effect = yes
		}
	 }
}

rhudaur.1003 = { # Negotiations with the Trolls
	content_source = realms_dlc
	type = character_event
	title = rhudaur.1003.t
	desc = rhudaur.1003.desc
	theme = stewardship_duty_focus
	
	override_background = {
		reference = trollshaws
	}
	left_portrait = {
		character = root
		animation = steward
	}
	right_portrait = {
		character = scope:troll
		animation = bold
	}
	
	lower_left_portrait = {
		trigger = { 
			exists = scope:companion1
		}
		character = scope:companion1
		animation = martial
	}
	lower_right_portrait = {
		trigger = { 
			exists = scope:companion2
		}
		character = scope:companion2
		animation = martial
	}

	immediate = {
		
		random_county_in_region = {
			region = middleearth_west_arnor_rhudaur
			title_province = { save_scope_as = rhudaur_province }
		}
		
		create_character = { # Create a new troll
			culture = culture:hill_troll
			gender_female_chance = 0
			location = scope:rhudaur_province
			save_scope_as = troll
		}
	}
	
	option = { # You try to bribe
		name = rhudaur.1003.a
		skill = stewardship
		root = {
			duel = {
				skill = stewardship 
				value = 20
				30 = { # Success
					compare_modifier = {
						value = scope:duel_value
						multiplier = 2
						min = -10
					}
					desc = rhudaur.1003.a.duel_success
					send_interface_toast = {
						left_icon = root
						title = rhudaur.1003.success.toast.t
						add_prestige = minor_prestige_gain
						add_stewardship_lifestyle_xp = minor_lifestyle_xp
						remove_short_term_gold = medium_gold_value
					}
				}
				30 = { # Failure
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = rhudaur.1003.a.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							title = rhudaur.1003.failure.toast.t
							increase_wounds_effect = {
								REASON = fight
							}
							add_prestige = medium_prestige_loss	
							remove_short_term_gold = medium_gold_value
							stress_impact = {
								just = medium_stress_impact_gain
								wrathful = medium_stress_impact_gain
								vengeful = medium_stress_impact_gain
								sadistic = minor_stress_impact_gain							
							}
						}
					}					
				}
			}
		}
	}
	option = { # Companion 1
		name = rhudaur.1003.b
		skill = prowess
		trigger = { 
			exists = scope:companion1
		}
		scope:companion1 = {
			duel = {
				skill = prowess 
				value = 20
				30 = { # Success
					compare_modifier = {
						value = scope:duel_value
						multiplier = 2
						min = -10
					}
					desc = rhudaur.1003.b.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:companion1
							title = rhudaur.1003.success.toast.t
							add_prestige = minor_prestige_gain
							add_prowess_skill = 1
						}
					}
				}
				30 = { # Failure
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = rhudaur.1003.b.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:companion1
							title = rhudaur.1003.failure.toast.t							
							scope:companion1 = {
								increase_wounds_effect = {
									REASON = fight
								}
							}
							add_prestige = medium_prestige_loss	
							stress_impact = {
								just = medium_stress_impact_gain
								wrathful = medium_stress_impact_gain
								vengeful = medium_stress_impact_gain
								sadistic = minor_stress_impact_gain									
							}
						}
					}					
				}
			}
		}
	}
	option = { # Companion 2
		name = rhudaur.1003.c
		skill = prowess
		trigger = { 
			exists = scope:companion2
		}
		scope:companion2 = {
			duel = {
				skill = prowess 
				value = 20
				30 = { # Success
					compare_modifier = {
						value = scope:duel_value
						multiplier = 2
						min = -10
					}
					desc = rhudaur.1003.c.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:companion2
							title = rhudaur.1003.success.toast.t
							add_prestige = minor_prestige_gain
							add_prowess_skill = 1
						}
					}
				}
				30 = { # Failure
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = rhudaur.1003.c.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:companion2
							title = rhudaur.1003.failure.toast.t							
							scope:companion2 = {
								increase_wounds_effect = {
									REASON = fight
								}
							}
							add_prestige = medium_prestige_loss	
							stress_impact = {
								just = medium_stress_impact_gain
								wrathful = medium_stress_impact_gain
								vengeful = medium_stress_impact_gain
								sadistic = minor_stress_impact_gain									
							}
						}
					}					
				}
			}
		}
	}
	after = {
		trigger_event = {
	 		id = rhudaur.1004
	 		days = 20
	 	}
		scope:troll = {
			silent_disappearance_effect = yes
		}
	 }
}

rhudaur.1004 = { # End of the hunting decision
	content_source = realms_dlc
	type = character_event
	title = rhudaur.1004.t
	desc = rhudaur.1004.desc
	theme = stewardship_duty_focus
	override_background = {
		reference = trollshaws
	}
	left_portrait = {
		character = root
		animation = steward
	}
	
	right_portrait = {
		trigger = { 
			exists = scope:companion1
		}
		character = scope:companion1
		animation = steward
	}
	lower_center_portrait = {
		trigger = { 
			exists = scope:companion2
		}
		character = scope:companion2
		animation = steward
	}
	
	option = {
		name = rhudaur.1004.a
		root.capital_province = {
			add_province_modifier = {
				modifier = safe_rhudaur
				years = 5
			}
		}
	}	
}
