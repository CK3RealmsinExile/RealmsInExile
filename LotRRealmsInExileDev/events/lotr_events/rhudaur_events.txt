namespace = rhudaur

# Events about Rhudaur and Trollshaws
#		rhudaur.0001		 Introduction for Moin Duldach
#       rhudaur.1000-1004    Orc / Troll Hunting (for Imladris and Dunadan Rangers)

rhudaur.0001 = { # Introduction
	content_source = realms_dlc
	type = character_event
	title = rhudaur.0001.t
	desc = rhudaur.0001.desc
	theme = stewardship_duty_focus
	override_background = {
		reference = rhudaur
	}
	right_portrait = {
		character = root
		animation = worry
	}
	
	immediate = {
		play_music_cue = lotr_base_evil_18
	}
	
	option = {
		name = rhudaur.0001.a	
	}
}


## ORC / TROLL HUNTING (only Imladris and Dunadan Rangers)

rhudaur.1000 = { 
	content_source = realms_dlc
	type = character_event
	title = rhudaur.1000.t
	desc = rhudaur.1000.desc
	theme = stewardship_duty_focus
	
	override_background = {
		reference = rhudaur
	}
	left_portrait = {
		character = root
		animation = marshal
	}
	
	right_portrait = {
		trigger = { 
			exists = scope:companion1
		}
		character = scope:companion1
		animation = marshal
	}
	lower_center_portrait = {
		trigger = { 
			exists = scope:companion2
		}
		character = scope:companion2
		animation = marshal
	}
	
	immediate = {
		play_music_cue = lotr_cue_elves
		root = {
			random_in_list = {
				variable = potential_rhudaur_troll_orc_hunting_participants
				limit = {
					is_alive = yes
				}
				save_scope_as = companion1
			}
			random_in_list = {
				variable = potential_rhudaur_troll_orc_hunting_participants
				limit = {
					is_alive = yes
					NOT = {
						scope:companion1 = this
					}
				}
				save_scope_as = companion2
			}
		}
	}
	
	option = { # Companion 1 tries to tame the orc by force
		name = rhudaur.1000.a
		skill = martial
		trigger = { 
			exists = scope:companion1
		}
		scope:companion1 = {
			duel = {
				skill = martial 
				value = 14
				30 = { # Success
					compare_modifier = {
						value = scope:duel_value
						multiplier = 212
						min = -10
					}
					desc = rhudaur.1000.a.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:companion1
							title = rhudaur.1000.success.toast.t
							add_prestige = minor_prestige_gain
							add_martial_lifestyle_xp = medium_lifestyle_xp
						}
					}
				}
				30 = { # Failure
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = rhudaur.1000.a.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:companion1
							title = rhudaur.1000.failure.toast.t
							scope:companion1 = {
								increase_wounds_effect = {
									REASON = fight
								}
							}
							add_prestige = medium_prestige_loss	
							stress_impact = {
								just = medium_stress_impact_gain
								wrathful = medium_stress_impact_gain
								vengeful = medium_stress_impact_gain
								sadistic = minor_stress_impact_gain							
							}
						}
					}					
				}
			}
		}
	}
	option = { # Companion 2 tries to tame the orc by force
		name = rhudaur.1000.b
		skill = martial
		trigger = { 
			exists = scope:companion1
		}
		scope:companion2 = {
			duel = {
				skill = martial 
				value = 14
				30 = { # Success
					compare_modifier = {
						value = scope:duel_value
						multiplier = 212
						min = -10
					}
					desc = rhudaur.1000.b.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:companion2
							title = rhudaur.1000.success.toast.t
							add_prestige = minor_prestige_gain
							add_martial_lifestyle_xp = medium_lifestyle_xp
						}
					}
				}
				30 = { # Failure
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = rhudaur.1000.b.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:companion2
							title = rhudaur.1000.failure.toast.t							
							scope:companion1 = {
								increase_wounds_effect = {
									REASON = fight
								}
							}
							add_prestige = medium_prestige_loss	
							stress_impact = {
								just = medium_stress_impact_gain
								wrathful = medium_stress_impact_gain
								vengeful = medium_stress_impact_gain
								sadistic = minor_stress_impact_gain									
							}
						}
					}					
				}
			}
		}
	}
	option = { # You
		name = rhudaur.1000.c
		skill = martial
		root = {
			duel = {
				skill = martial 
				value = 14
				30 = { # Success
					compare_modifier = {
						value = scope:duel_value
						multiplier = 212
						min = -10
					}
					desc = rhudaur.1000.c.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							title = rhudaur.1000.success.toast.t
							add_prestige = minor_prestige_gain
							add_martial_lifestyle_xp = medium_lifestyle_xp
						}
					}
				}
				30 = { # Failure
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = rhudaur.1000.c.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							title = rhudaur.1000.failure.toast.t							
							increase_wounds_effect = {
								REASON = fight
							}
							add_prestige = medium_prestige_loss	
							stress_impact = {
								just = medium_stress_impact_gain
								wrathful = medium_stress_impact_gain
								vengeful = medium_stress_impact_gain
								sadistic = minor_stress_impact_gain							
							}
						}
					}					
				}
			}
		}
	}
	after = {
		trigger_event = {
			id = rhudaur.1001
			days = 10
		}
	}
}

rhudaur.1001 = { 
	content_source = realms_dlc
	type = character_event
	title = rhudaur.1001.t
	desc = rhudaur.1001.desc
	theme = stewardship_duty_focus
	
	override_background = {
		reference = army_camp
	}
	left_portrait = {
		character = root
		animation = marshal
	}
	
	right_portrait = {
		trigger = { 
			exists = scope:companion1
		}
		character = scope:companion1
		animation = marshal
	}
	lower_center_portrait = {
		trigger = { 
			exists = scope:companion2
		}
		character = scope:companion2
		animation = marshal
	}
	
	immediate = {
		play_music_cue = lotr_cue_elves
		root = {
			random_in_list = {
				variable = potential_rhudaur_troll_orc_hunting_participants
				limit = {
					is_alive = yes
				}
				save_scope_as = companion1
			}
			random_in_list = {
				variable = potential_rhudaur_troll_orc_hunting_participants
				limit = {
					is_alive = yes
					NOT = {
						scope:companion1 = this
					}
				}
				save_scope_as = companion2
			}
		}
	}
	
	option = { # Companion 1 tries to tame the orc by force
		name = rhudaur.1001.a
		skill = martial
		trigger = { 
			exists = scope:companion1
		}
		scope:companion1 = {
			duel = {
				skill = intrigue 
				value = 14
				30 = { # Success
					compare_modifier = {
						value = scope:duel_value
						multiplier = 212
						min = -10
					}
					desc = rhudaur.1001.a.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:companion1
							title = rhudaur.1001.success.toast.t
							add_prestige = minor_prestige_gain
							add_martial_lifestyle_xp = medium_lifestyle_xp
						}
					}
				}
				30 = { # Failure
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = rhudaur.1001.a.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:companion1
							title = rhudaur.1001.failure.toast.t
							scope:companion1 = {
								increase_wounds_effect = {
									REASON = fight
								}
							}
							add_prestige = medium_prestige_loss	
							stress_impact = {
								just = medium_stress_impact_gain
								wrathful = medium_stress_impact_gain
								vengeful = medium_stress_impact_gain
								sadistic = minor_stress_impact_gain							
							}
						}
					}					
				}
			}
		}
	}
	option = { # Companion 2 tries to tame the orc by force
		name = rhudaur.1001.b
		skill = martial
		trigger = { 
			exists = scope:companion1
		}
		scope:companion2 = {
			duel = {
				skill = intrigue 
				value = 14
				30 = { # Success
					compare_modifier = {
						value = scope:duel_value
						multiplier = 212
						min = -10
					}
					desc = rhudaur.1001.b.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:companion2
							title = rhudaur.1001.success.toast.t
							add_prestige = minor_prestige_gain
							add_martial_lifestyle_xp = medium_lifestyle_xp
						}
					}
				}
				30 = { # Failure
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = rhudaur.1001.b.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:companion2
							title = rhudaur.1001.failure.toast.t							
							scope:companion1 = {
								increase_wounds_effect = {
									REASON = fight
								}
							}
							add_prestige = medium_prestige_loss	
							stress_impact = {
								just = medium_stress_impact_gain
								wrathful = medium_stress_impact_gain
								vengeful = medium_stress_impact_gain
								sadistic = minor_stress_impact_gain									
							}
						}
					}					
				}
			}
		}
	}
	option = { # You
		name = rhudaur.1001.c
		skill = martial
		root = {
			duel = {
				skill = intrigue 
				value = 14
				30 = { # Success
					compare_modifier = {
						value = scope:duel_value
						multiplier = 212
						min = -10
					}
					desc = rhudaur.1001.c.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							title = rhudaur.1001.success.toast.t
							add_prestige = minor_prestige_gain
							add_martial_lifestyle_xp = medium_lifestyle_xp
						}
					}
				}
				30 = { # Failure
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = rhudaur.1001.c.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							title = rhudaur.1001.failure.toast.t							
							increase_wounds_effect = {
								REASON = fight
							}
							add_prestige = medium_prestige_loss	
							stress_impact = {
								just = medium_stress_impact_gain
								wrathful = medium_stress_impact_gain
								vengeful = medium_stress_impact_gain
								sadistic = minor_stress_impact_gain							
							}
						}
					}					
				}
			}
		}
	}
	# after = {
	# 	trigger_event = {
	# 		id = rhudaur.1003
	# 		days = 10
	# 	}
	# }
}