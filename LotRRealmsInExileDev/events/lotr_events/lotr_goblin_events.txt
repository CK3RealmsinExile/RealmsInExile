namespace = goblins

### GOBLIN EVENTS
# 0200 - 0299 	# The Mask events


################
### THE MASK ###
################

# "Nobody cared who I was until I put on the mask"
# ~~ by Aerien ~~

# commented out because WIP but I have to transfer the data

### Initial Events ###

# goblins.0200 = { # Find the Mask
	# content_source = realms_dlc
	# type = character_event
	# title = goblins.0200.t
	# desc = goblins.0200.desc
	# theme = stewardship
	# override_background = { reference = underground_caverns_01 }
	# orphan = yes # For now
	
	# trigger = {
		# is_goblin = yes 
		# is_ai = no 
	# }
	
	# left_portrait = {
		# character = root
		# animation = interested
	# }

	# option = { # Take it
		# name = goblins.0200.b 
		# add_character_modifier = lotr_found_the_mask_modifier
	# }
	# option = { # Leave it
		# name = goblins.0200.b 
		# custom_tooltip = goblins.0200.b.tt
	# }
# }

# goblins.0201 = { # First time putting on the mask
	# content_source = realms_dlc
	# type = character_event
	# title = goblins.0201.t
	# desc = goblins.0201.desc
	# theme = dread
	# override_background = { reference = goblin_lair }
	# orphan = yes # For now
	
	# left_portrait = {
		# character = root
		# animation = happiness
	# }

	# option = { # I feel... powerful...
		# name = goblins.0200.a 
		# add_dread = minor_dread_gain
		# add_character_flag = put_on_mask_once
	# }
# }

# goblins.0202 = { # Second time putting on the mask
	# content_source = realms_dlc
	# type = character_event
	# title = goblins.0202.t
	# desc = goblins.0202.desc
	# theme = dread
	# override_background = { reference = wilderness_underground }
	# orphan = yes # For now
	
	# left_portrait = {
		# character = root
		# animation = ecstasy
	# }

	# option = { # Hahaha! I am invincible!
		# name = goblins.0200.a 
		# add_dread = minor_dread_gain
		# add_character_flag = put_on_mask_twice
		# every_vassal = {
			# add_opinion = {
				# modifier = impressed_opinion
				# target = root
				# opinion = 10
			# }
		# }
		# remove_character_flag = put_on_mask_once
	# }
# }

# goblins.0203 = { # Third time putting on the mask
	# content_source = realms_dlc
	# type = character_event
	# title = goblins.0203.t
	# desc = goblins.0203.desc
	# theme = dread
	# override_background = { reference = underground_caverns_02 }
	# orphan = yes # For now
	
	# left_portrait = {
		# character = root
		# animation = hero_flex
	# }

	# option = { # No-one can stop me!
		# name = goblins.0200.a 
		# add_dread = medium_dread_gain
		# add_prestige = medium_prestige_gain
		# add_character_flag = put_on_mask_thrice
		# remove_character_flag = put_on_mask_twice
		# remove_character_modifier = lotr_found_the_mask_modifier
		# add_character_modifier = lotr_mask_takes_hold_modifier
	# }
# }

# ### Random Events ###

# goblins.0210 = { # Gain gold from... somewhere
	# content_source = realms_dlc
	# type = character_event
	# title = goblins.0210.t
	# desc = goblins.0210.desc
	# theme = stewardship_wealth_focus
	# override_background = { reference = goblin_lair }
	# orphan = yes # For now
	
	# left_portrait = {
		# character = root
		# animation = personality_greedy
	# }
	
	# immediate = {
		# add_short_term_gold = major_gold_value
	# }

	# option = { # I'm rich!
		# name = goblins.0210.a 
		# add_character_modifier = {
			# modifier = lotr_put_on_mask_recently
			# months = 6
		# }
	# }
# }

# goblins.0211 = { # Come across a tasty fish
	# content_source = realms_dlc
	# type = character_event
	# title = goblins.0211.t
	# desc = goblins.0211.desc
	# theme = stewardship_wealth_focus
	# override_background = { reference = underground_caverns_01 }
	# orphan = yes # For now
	
	# left_portrait = {
		# character = root
		# animation = happiness
	# }
	
	# immediate = {
		# add_character_modifier = {
			# modifier = ate_good_meal
			# years = 1
		# }
	# }

	# option = { # Yummy!
		# name = goblins.0211.a 
		# add_character_modifier = {
			# modifier = lotr_put_on_mask_recently
			# months = 6
		# }
	# }
# }

# ### Management Events ###

# goblins.0290 = { # Manage mask modifiers
	# hidden = yes
	# orphan = yes # For now
	# trigger = {
		# NOT = { has_character_modifier = lotr_put_on_mask_recently }
	# }
	# on_trigger_fail = {
		# trigger_event = {
			# id = goblins.0290 
			# months = 1 
		# }
	# }
	
	# immediate = {
		# if = { 
			# limit = { has_character_flag = put_on_mask_thrice }
			# remove_character_flag = put_on_mask_thrice
		# }
		# if = {
			# limit = { has_character_modifier = lotr_mask_takes_hold_modifier }
			# remove_character_modifier = lotr_mask_takes_hold_modifier
			# add_character_modifier = lotr_haunted_by_the_mask
		# }
		# if = {
			# limit = { has_character_modifier = lotr_haunted_by_the_mask }
			# remove_character_modifier = lotr_haunted_by_the_mask
			# add_character_modifier = lotr_terrified_by_the_mask
		# }
		# if = {
			# limit = { has_character_modifier = lotr_terrified_by_the_mask }
			# remove_character_modifier = lotr_terrified_by_the_mask
			# add_character_modifier = lotr_dominated_by_the_mask
		# }
		# if = {
			# limit = { has_character_modifier = lotr_dominated_by_the_mask }
			# remove_character_modifier = lotr_dominated_by_the_mask
			# add_character_modifier = lotr_devastated_by_the_mask
		# }
	# }	
# }