#########################################
# COLONISATION BLOCKER CLEARANCE EVENTS #
#########################################

###############
## Wolf Den
# wasteland_blocker.0001 — Clearing out the Wolves
# wasteland_blocker.0002 - Surrounded
# wasteland_blocker.0003 - Wolf-mother
# wasteland_blocker.0004 - Wolf-dogs
# wasteland_blocker.0005 - The-Vanished (ispanets)
# wasteland_blocker.0006 - Hunted (ispanets)
# wasteland_blocker.0007 - Hows from the hills
# wasteland_blocker.0008 - Haunted clubs (ispanets)
# wasteland_blocker.0009 - Hows in the night (ispanets)
## Bear Den
# wasteland_blocker.0011 — Yoh-gi
# wasteland_blocker.0012 — Beargild
# wasteland_blocker.0013 — The Raid
# wasteland_blocker.0014 — Mushroom Bear
# wasteland_blocker.0015 — More than meets the eye
# wasteland_blocker.0016 — The Man-Eater
# wasteland_blocker.0017 - Hated Enemies (ispanets)
# wasteland_blocker.0018 - Bear Baiting
# wasteland_blocker.0019 - Sloth and Savagery (ispanets)
## Spider Nest
# wasteland_blocker.0021 — The Great Web
# wasteland_blocker.0021 — Attacop
## Bandits
# wasteland_blocker.0031 — The Outcasts
# wasteland_blocker.0032 — The Corral
# wasteland_blocker.0033 — The Brotherhood (ispanets)
# wasteland_blocker.0034 — The Hill bandits (ispanets)
## Drakes
# wasteland_blocker.0041 — Life Finds a Way
# wasteland_blocker.0042 — Drakes' Nest
## Flooded Lands
# wasteland_blocker.0051 — Ditch and Drain
# wasteland_blocker.0052 — Marsh Fever
# wasteland_blocker.0053 — Collapsed ceiling
# wasteland_blocker.0054 — Unexpected treasure
## Troll cave
# wasteland_blocker.0061 — The Trolls (ispanets)
# wasteland_blocker.0062 — A beast from the dark (ispanets)
# wasteland_blocker.0062 — A bargain (ispanets)
# wasteland_blocker.0062 — Too much trolling Trolls (ispanets)
## Eregion ruin ghosts
# wasteland_blocker.0071 - Noises and shadows 

namespace = wasteland_blocker

## Wolf Den
wasteland_blocker.0001 = { # Clearing out the Wolves
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0001.t
	desc = wasteland_blocker.0001.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = personality_bold
	}
	
	right_portrait = {
		character = scope:knight
		animation = war_defender
	}
	
	lower_center_portrait = {
		character = scope:hooked_character
	}

	immediate = {
		if = {
			limit = { 
				any_knight = { 
					is_ai = yes
					count > 0
				}
			}
			ordered_knight = {
				limit = { is_ai = yes }
				order_by = prowess
				save_scope_as = knight
			}
		}
		if = {
			limit = { 
				any_hooked_character = { 
					is_ai = yes
					count > 0
				}
			}
			ordered_hooked_character = {
				limit = { is_ai = yes }
				order_by = prowess
				save_scope_as = hooked_character
			}
		}
	}

	option = { # Take them on myself
		name = wasteland_blocker.0001.a
		skill = prowess
		duel = {
			skill = prowess 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0001.a.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 100
					title = wasteland_blocker.0001.success.toast.t
					scope:obstacle_province = { remove_building = wolf_den_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0001.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0001.failure.toast.t
					add_prestige = -150
					increase_wounds_effect = { REASON = hunting_accident }
					hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
					scope:obstacle_province = { add_building = wolf_den }
				}
			}
		}
		stress_impact = {
			brave = minor_stress_loss
			craven = medium_stress_gain
		}
	}
	
	option = { # Send a skilled knight
		name = wasteland_blocker.0001.b
		trigger = { 
			any_knight = { 
				is_ai = yes
				count > 0
			} 
		}
		scope:knight = {
			duel = {
				skill = prowess 
				value = 10
				30 = { 
					compare_modifier = {
						value = scope:duel_value
						multiplier = 2
						min = -10
					}
					desc = wasteland_blocker.0001.b.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:knight
							scope:knight = { add_prestige = 100 }
							title = wasteland_blocker.0001.success.toast.t
							scope:obstacle_province = { remove_building = wolf_den_cleared }
						}
					}
				}
				30 = {
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = wasteland_blocker.0001.b.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:knight
							title = wasteland_blocker.0001.failure.toast.t
							scope:knight = { add_prestige = -150 }
							increase_wounds_effect = { REASON = hunting_accident }
							hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
							scope:obstacle_province = { add_building = wolf_den }
						}
					}
				}
			}
		}
		stress_impact = {
			humble = minor_stress_loss
			arrogant = medium_stress_gain
		}
	}
	
	option = { # Send a hooked character
		name = wasteland_blocker.0001.c
		trigger = { 
			any_hooked_character = { 
				is_ai = yes
				count > 0
			}
		}
		use_hook = scope:hooked_character
		scope:hooked_character = {
			duel = {
				skill = prowess 
				value = 10
				30 = { 
					compare_modifier = {
						value = scope:duel_value
						multiplier = 2
						min = -10
					}
					desc = wasteland_blocker.0001.c.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:hooked_character
							scope:hooked_character = { add_prestige = 100 }
							title = wasteland_blocker.0001.success.toast.t
							scope:obstacle_province = { remove_building = wolf_den_cleared }
						}
					}
				}
				30 = {
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = wasteland_blocker.0001.c.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:hooked_character
							title = wasteland_blocker.0001.failure.toast.t
							scope:hooked_character = { add_prestige = -150 }
							increase_wounds_effect = { REASON = hunting_accident }
							hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
							scope:obstacle_province = { add_building = wolf_den }
						}
					}
				}
			}
		}
		stress_impact = {
			vengeful = minor_stress_loss
			compassionate = minor_stress_gain
		}
	}
	
	option = { # Hire skilled mercenaries
		name = wasteland_blocker.0001.d
		remove_short_term_gold = 100
		random_list = { 
			85 = {
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0001.success.toast.t
					scope:obstacle_province = { remove_building = wolf_den_cleared }
				}
			}
			15 = {
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0001.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
					scope:obstacle_province = { add_building = wolf_den }
				}
			}
		}
		stress_impact = {
			greedy = minor_stress_gain
		}
	}
	
	option = { # Leave the wolves alone
		name = wasteland_blocker.0001.e
		hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
		scope:obstacle_province = { add_building = wolf_den }
	}
}

wasteland_blocker.0002 = { # Surrounded
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0002.t
	desc = wasteland_blocker.0002.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = personality_bold
	}
	
	right_portrait = {
		character = scope:knight
		animation = war_defender
	}

	immediate = {
		if = {
			limit = { 
				any_knight = { 
					is_ai = yes
					count > 0
				}
			}
			ordered_knight = {
				limit = { is_ai = yes }
				order_by = prowess
				save_scope_as = knight
			}
		}
	}

	option = { # Prowess Duel
		name = wasteland_blocker.0002.a

		duel = {
			skill = prowess 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0001.b.duel_success
				root = {
					send_interface_toast = {
						left_icon = root
						right_icon = scope:knight
						scope:knight = { add_prestige = 175 }
						title = wasteland_blocker.0001.success.toast.t
						scope:obstacle_province = { remove_building = wolf_den_cleared }
					}
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0001.b.duel_failure
				root = {
					send_interface_toast = {
						left_icon = root
						right_icon = scope:knight
						title = wasteland_blocker.0001.failure.toast.t
						scope:knight = { add_prestige = -150 }
						scope:knight = { increase_wounds_effect = { REASON = hunting_accident } }
						increase_wounds_effect = { REASON = hunting_accident }
						hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
						scope:obstacle_province = { add_building = wolf_den }
					}
				}
			}
		}
	}
	
	option = { # Your knight is does a prowess duel
		name = wasteland_blocker.0002.b
		
		scope:knight = {
			duel = {
				skill = prowess 
				value = 9
				30 = { 
					compare_modifier = {
						value = scope:duel_value
						multiplier = 2
						min = -10
					}
					desc = wasteland_blocker.0001.b.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:knight
							scope:knight = { add_prestige = 100 }
							title = wasteland_blocker.0001.success.toast.t
							scope:obstacle_province = { remove_building = wolf_den_cleared }
						}
					}
				}
				30 = {
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = wasteland_blocker.0001.b.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:knight
							title = wasteland_blocker.0001.failure.toast.t
							scope:knight = { add_prestige = -150 }
							scope:knight = { increase_wounds_effect = { REASON = hunting_accident } }
							increase_wounds_effect = { REASON = hunting_accident }
							hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
							scope:obstacle_province = { add_building = wolf_den }
						}
					}
				}
			}
		}
	}
	
	option = { # Flee, costing prestige + wolf den
		name = wasteland_blocker.0002.c
		add_prestige = -75
		hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
		scope:obstacle_province = { add_building = wolf_den }
	}
}

wasteland_blocker.0003 = { # Wolf-mother
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0003.t
	desc = wasteland_blocker.0003.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = personality_bold
	}

	option = { # Prowess Duel
		name = wasteland_blocker.0003.a

		duel = {
			skill = prowess 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0003.a.duel_success
				root = {
					send_interface_toast = {
						left_icon = root
						right_icon = scope:knight
						scope:knight = { add_prestige = 175 }
						title = wasteland_blocker.0001.success.toast.t
						scope:obstacle_province = { remove_building = wolf_den_cleared }
					}
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0003.a.duel_failure
				root = {
					send_interface_toast = {
						left_icon = root
						right_icon = scope:knight
						title = wasteland_blocker.0001.failure.toast.t
						increase_wounds_effect = { REASON = hunting_accident }
						hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
						scope:obstacle_province = { add_building = wolf_den }
					}
				}
			}
		}
	}
	
	option = { # Your knight is does a prowess duel
		name = wasteland_blocker.0003.b
		
		duel = {
			skill = martial 
			value = 9
			40 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0003.b.duel_success
				root = {
					send_interface_toast = {
						left_icon = root
						title = wasteland_blocker.0001.success.toast.t
						scope:obstacle_province = { remove_building = wolf_den_cleared }
					}
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0003.b.duel_failure
				root = {
					send_interface_toast = {
						left_icon = root
						title = wasteland_blocker.0001.failure.toast.t
						increase_wounds_effect = { REASON = hunting_accident }
						hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
						scope:obstacle_province = { add_building = wolf_den }
					}
				}
			}
		}
	}
	
	option = { # Flee, costing prestige + wolf den
		name = wasteland_blocker.0003.c
		add_prestige = -150
		hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
		scope:obstacle_province = { add_building = wolf_den }
	}
}

wasteland_blocker.0004 = { # Wolf-Dogs
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0004.t
	desc = wasteland_blocker.0004.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = personality_bold
	}

	option = { # Stewardship option
		name = wasteland_blocker.0004.a

		duel = {
			skill = stewardship 
			value = 10
			30 = { # success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0004.a.duel_success
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0004.a.success.toast.t
					scope:obstacle_province = { remove_building = wolf_den_cleared }
				}
			}
			30 = { # failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0004.a.duel_failure
				root = {
					send_interface_toast = {
						left_icon = root
						title = wasteland_blocker.0004.a.failure.toast.t
						hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
						scope:obstacle_province = { add_building = wolf_den }
						scope:obstacle_province = { 
							add_province_modifier = { 
								modifier = steward_levy_desertion_province_modifier 
								years = 3
							} 
						}
					}
				}
			}
		}
	}
	
	option = { # Prowess option
		name = wasteland_blocker.0004.b

		duel = {
			skill = prowess 
			value = 10
			30 = { # success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0004.b.duel_success
				root = {
					send_interface_toast = {
						left_icon = root
						title = wasteland_blocker.0004.b.success.toast.t
						scope:obstacle_province = { remove_building = wolf_den_cleared }
						start_dog_story_cycle_effect = yes 
					}
				}
			}
			30 = { # failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0004.b.duel_failure
				root = {
					send_interface_toast = {
						left_icon = root
						title = wasteland_blocker.0004.b.failure.toast.t
						increase_wounds_effect = { REASON = hunting_accident }
						hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
						scope:obstacle_province = { add_building = wolf_den }
						add_prestige = -100
					}
				}
			}
		}
	}
	
	option = { # Gain wolf sighting
		name = wasteland_blocker.0004.c
		add_prestige = -150
		hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
		scope:obstacle_province = { 
			add_building = wolf_den 
			county = {
				set_variable = {
					name = animal_type
					value = scope:old_sighting_county.var:animal_type
				}
				hunt_create_sighting_effect = {
					TYPE = dangerous
					ANIMAL = flag:wolf
					OWNER = root
				}
			}
		}

	}
}

wasteland_blocker.0005 = { # The Vanished
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0005.t
	desc = wasteland_blocker.0005.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = personality_bold
	}

	option = { # Organize the villagers
		name = wasteland_blocker.0005.a
		skill = martial
		duel = {
			skill = martial 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0005.a.duel_success
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0005.success.toast.t
					scope:obstacle_province = { remove_building = wolf_den_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0005.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0005.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
					scope:obstacle_province = { add_building = wolf_den }
					make_settlement_county_wilderness = {
						COUNTY = scope:obstacle_province.county
					}
				}
			}
		}
	}

	option = { # Rally the villagers
		name = wasteland_blocker.0005.b
		skill = intrigue
		duel = {
			skill = intrigue 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0005.b.duel_success
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0005.success.toast.t
					scope:obstacle_province = { remove_building = wolf_den_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0005.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0005.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
					scope:obstacle_province = { add_building = wolf_den }
					make_settlement_county_wilderness = {
						COUNTY = scope:obstacle_province.county
					}
				}
			}
		}
	}

	option = { # These are the risks...
		name = wasteland_blocker.0005.c
		add_prestige = medium_prestige_loss
		hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
		scope:obstacle_province = { add_building = wolf_den }
	}
}

wasteland_blocker.0006 = { # Hunted
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0006.t
	desc = wasteland_blocker.0006.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = personality_coward
	}

	trigger = {
		scope:obstacle_province = { 
			OR = {		
				kingdom = title:k_angmar
				kingdom = title:k_forochel
				kingdom = title:k_high_pass
				kingdom = title:k_gundabad
				kingdom = title:k_rhudaur
			}
		}
	}

	option = { # A fine rug
		name = wasteland_blocker.0006.a
		skill = prowess
		duel = {
			skill = prowess 
			value = 20
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0006.a.duel_success
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0006.success.toast.t
					scope:obstacle_province = { remove_building = wolf_den_cleared }
					add_prestige = minor_prestige_gain
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0006.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0006.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
					scope:obstacle_province = { add_building = wolf_den }
					increase_wounds_effect = { REASON = warg }
				}
			}
		}
	}

	option = { # Start a fire
		name = wasteland_blocker.0006.b
		skill = intrigue
		duel = {
			skill = intrigue 
			value = 20
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0006.b.duel_success
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0006.success.toast.t
					scope:obstacle_province = { remove_building = wolf_den_cleared }
					add_prestige = minor_prestige_gain
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0006.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0006.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
					scope:obstacle_province = { add_building = wolf_den }
					increase_wounds_effect = { REASON = warg }
				}
			}
		}
	}

	option = { # Bravely run away
		name = wasteland_blocker.0006.c
		add_prestige = medium_prestige_loss
		hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
		scope:obstacle_province = { add_building = wolf_den }
	}
}

wasteland_blocker.0007 = { # Howls from the Hills
    type = character_event
    title = wasteland_blocker.0007.t
    desc = wasteland_blocker.0007.desc
    theme = realm

    left_portrait = {
        character = root
        animation = personality_rational
    }

    right_portrait = {
        character = scope:steward
        animation = steward
    }

    lower_center_portrait = {
        character = scope:messenger
    }

    immediate = {
        create_character = {
            template = local_artisan_template
            culture = root.culture
            faith = root.faith
			location = scope:obstacle_province
            gender_female_chance = 50
            save_scope_as = messenger
        }

        if = {
            limit = {
                any_stewardship_councillor = {
                    count > 0
                }
            }
            random_stewardship_councillor = {
                save_scope_as = steward
            }
        }
        else = {
            ordered_courtier = {
                order_by = stewardship
                save_scope_as = steward
            }
        }
    }

    trigger = {
        scope:obstacle_province = {
            location = {
                terrain = hills
            }
        }
    }

    option = {
        name = wasteland_blocker.0007.a
        remove_short_term_gold = 50
        reverse_add_opinion = {
            modifier = disappointed_opinion
            opinion = -20
            target = scope:steward
        }
        scope:obstacle_province = {
            remove_building = wolf_den_cleared
        }
    }

    option = {
        name = wasteland_blocker.0007.b
        random_list = { 
            70 = {
                send_interface_toast = {
                    left_icon = root
                    title = wasteland_blocker.0007.success.toast.t
                    scope:obstacle_province = { 
                        remove_building = wolf_den_cleared 
                    }
                }
            }
            30 = {
                send_interface_toast = {
                    left_icon = root
                    title = wasteland_blocker.0007.failure.toast.t
                    hidden_effect = { 
                        scope:obstacle_province = { 
                            remove_building = wolf_den_cleared 
                        } 
                    }
                    scope:obstacle_province = { 
                        add_building = wolf_den 
                    }
                }
            }
        }
    }

    after = {
        scope:messenger = {
            silent_disappearance_effect = yes
        }
    }
}

wasteland_blocker.0008 = { # Hunting Clubs
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0008.t
	desc = wasteland_blocker.0008.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = personality_content
	}

	option = { # A passing fad
		name = wasteland_blocker.0008.a
		add_prestige = minor_prestige_gain
		add_short_term_gold = minor_gold_value
		hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
	}

	option = { # Foster the hunting clubs
		name = wasteland_blocker.0008.b
		skill = stewardship
		duel = {
			skill = stewardship 
			value = 15
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0008.b.duel_success
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0008.success.toast.t
					hidden_effect = {
						scope:obstacle_province = { remove_building = wolf_den_cleared}
					}
					scope:obstacle_province = { 
						add_province_modifier = {
							modifier = fostered_hunt_clubs
							years = 5
						}
					}
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0008.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0008.failure.toast.t
					hidden_effect = { 
						scope:obstacle_province = { remove_building = wolf_den_cleared }
					}
					scope:obstacle_province = {
						add_province_modifier = {
							modifier = uncontrolled_hunting
							years = 5
						}
					}
				}
			}
		}
	}

	option = { # Tips and tricks
		name = wasteland_blocker.0008.c
		hidden_effect = { 
			scope:obstacle_province = { remove_building = wolf_den_cleared } 
		}
		add_character_modifier = {
			modifier = fostered_wolf_hunting
			years = 5
		}
	}
}

wasteland_blocker.0009 = { # Howls in the night
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0009.t
	desc = wasteland_blocker.0009.desc
	theme = travel_danger

	left_portrait = {
		character = root
		animation = personality_coward
	}
	
	immediate = {
		if = {
			limit = { 
				any_knight = { 
					is_ai = yes
					count > 0
				}
			}
			ordered_knight = {
				limit = { is_ai = yes }
				order_by = prowess
				save_scope_as = knight
			}
		}
	}

	
	right_portrait = {
		character = scope:knight
		animation = disgust
	}

	trigger = {
		scope:obstacle_province = { 
			OR = {		
				kingdom = title:k_angmar
				kingdom = title:k_forochel
				kingdom = title:k_high_pass
				kingdom = title:k_gundabad
			}
		}
	}

	option = { # Formation!
		name = wasteland_blocker.0009.a
		skill = martial
		duel = {
			skill = martial 
			value = 25
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0009.a.duel_success
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0009.success.toast.t
					add_prestige = medium_prestige_gain
					add_martial_lifestyle_xp = medium_lifestyle_xp
					hidden_effect = {
						scope:obstacle_province = { remove_building = wolf_den_cleared }
					}
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0009.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0009.failure.toast.t
					hidden_effect = { 
						scope:obstacle_province = { remove_building = wolf_den_cleared }
					}
					increase_wounds_effect = { REASON = warg }
					add_trait = maimed
				}
			}
		}
	}

	option = { # Keep the fires going
		name = wasteland_blocker.0009.b
		skill = learning
		duel = {
			skill = learning 
			value = 25
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0009.b.duel_success
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0009.success.toast.t
					hidden_effect = {
						scope:obstacle_province = {  remove_building = wolf_den_cleared }
					}
					add_prestige = medium_prestige_gain
					add_learning_lifestyle_xp = medium_lifestyle_xp					
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0009.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0009.failure.toast.t
					hidden_effect = { 
						scope:obstacle_province = { remove_building = wolf_den_cleared }
					}
					increase_wounds_effect = { REASON = warg }
					add_trait = maimed
				}
			}
		}
	}
		
	option = { # Knight protection
		name = wasteland_blocker.0009.c
		skill = prowess
		trigger = { 
			any_knight = { 
				is_ai = yes
				count > 0
			} 
		}
		scope:knight = {
			duel = {
				skill = prowess 
				value = 25
				30 = { 
					compare_modifier = {
						value = scope:duel_value
						multiplier = 2
						min = -10
					}
					desc = wasteland_blocker.0009.c.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:knight
							title = wasteland_blocker.0009.success.toast.t
							hidden_effect = {
								scope:obstacle_province = {  remove_building = wolf_den_cleared }
							}
							scope:knight = {
								if = {
									limit = {
										exists = accolade
										accolade = { is_accolade_active = yes }
									}
									accolade = { add_glory = minimal_glory_gain }
								}
								
								if = {
									limit = { has_trait = lifestyle_hunter }
									add_trait_xp = {
										trait = lifestyle_hunter
										value = 5
									}
								}
								else_if = {
									limit = { has_trait = lifestyle_blademaster }
									add_trait_xp = {
										trait = lifestyle_blademaster
										value = 5
									}
								}
								else = {
									random_list = {
										1 = { add_trait = lifestyle_hunter }
										1 = { add_trait = lifestyle_blademaster }
									}
								}
							}
						}
					}
				}
				30 = {
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = wasteland_blocker.0009.c.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:knight
							title = wasteland_blocker.0009.failure.toast.t
							hidden_effect = { 
								scope:obstacle_province = { remove_building = wolf_den_cleared }
							}
							scope:knight = {
								increase_wounds_effect = { REASON = warg }
							}
						}
					}					
				}
			}
		}
	}
}

## Bear Den
wasteland_blocker.0011 = { # Yoh-gi
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0011.t
	desc = wasteland_blocker.0011.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = personality_bold
	}
	
	option = { # Dispatch the ranger expedition
		name = wasteland_blocker.0011.a
		trigger = {
			martial >= prowess
		}
		skill = martial
		duel = {
			skill = martial 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0011.a.duel_success
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0011.success.toast.t
					scope:obstacle_province = { remove_building = bear_den_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0011.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0011.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
					scope:obstacle_province = { add_building = bear_den }
				}
			}
		}
	}

	option = { # Dispatch the bear personally
		name = wasteland_blocker.0011.c
		trigger = {
			martial < prowess
		}
		skill = prowess
		duel = {
			skill = prowess 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0011.c.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 100
					title = wasteland_blocker.0011.success.toast.t
					scope:obstacle_province = { remove_building = bear_den_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0011.c.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0011.failure.toast.t
					add_prestige = -50
					increase_wounds_effect = { REASON = hunting_accident }
					hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
					scope:obstacle_province = { add_building = bear_den }
				}
			}
		}
		stress_impact = {
			brave = minor_stress_loss
			craven = medium_stress_gain
		}
	}	
			
	option = { # Pay the smith to build his trap
		name = wasteland_blocker.0011.b
		remove_short_term_gold = 50
		random_list = { 
			70 = {
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0011.success.toast.t
					scope:obstacle_province = { remove_building = bear_den_cleared }
				}
			}
			30 = {
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0011.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
					scope:obstacle_province = { add_building = bear_den }
				}
			}
		}
		stress_impact = {
			greedy = minor_stress_gain
		}
	}

	option = { # Leave the bears alone
		name = wasteland_blocker.0011.d
		hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
		scope:obstacle_province = { add_building = bear_den }
	}
}

wasteland_blocker.0012 = { # Beargild
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0012.t
	desc = {
		desc = wasteland_blocker.0012.desc.1
		triggered_desc = { # Evil response to bear cub
			trigger = { 
				faith_is_evil = yes
			} 
			desc = wasteland_blocker.0012.desc.2.evil
		}
		triggered_desc = { # Non-evil response to bear cub
			trigger = { 
				faith_is_evil = no
			} 
			desc = wasteland_blocker.0012.desc.2.good
		}
	}
	theme = hunting

	left_portrait = {
		character = root
		animation = sadness
	}
	
	option = { # I must put it out of its misery
		name = wasteland_blocker.0012.a
		scope:obstacle_province = { remove_building = bear_den_cleared }
		if = {
			limit = {
				OR = {
					faith_is_good = yes
					faith = { has_doctrine = tenet_sanctity_of_nature }
				}
			}
			add_piety = -100
			add_stress = 50
		}
		else = {
			add_stress = -30
		}
		stress_impact = {
			compassionate = minor_stress_gain
			sadistic = medium_stress_loss
		}
	}
			
	option = { # Try to raise the cub
		name = wasteland_blocker.0012.b
		scope:obstacle_province = { remove_building = bear_den_cleared }
		remove_short_term_gold = 75
		random_list = { 
			10 = {
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0012.b.success.toast.t
					add_character_modifier = {
						modifier = pet_bear_modifier
						years = 18
					}
				}
			}
			90 = {
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0012.b.failure.toast.t
				}
			}
		}
		stress_impact = {
			compassionate = minor_stress_loss
		}
	}

	option = { # Leave the cub to fend for itself
		name = wasteland_blocker.0012.c
		hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
		scope:obstacle_province = { add_building = bear_den }
		if = {
			limit = {
				OR = {
					faith_is_good = yes
					faith = { has_doctrine = tenet_sanctity_of_nature }
				}
			}
			add_piety = 100
			add_stress = -50
		}
		else = {
			add_stress = 30
		}
		stress_impact = {
			compassionate = medium_stress_gain
			callous = medium_stress_loss
		}
	}
}

wasteland_blocker.0013 = { # The Raid
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0013.t
	desc = wasteland_blocker.0013.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = sadness
	}
	
	option = { # Kill the bear yourself
		name = wasteland_blocker.0013.a
		duel = {
			skill = prowess 
			value = 10
			30 = { # Success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -1
				}
				desc = wasteland_blocker.0013.a.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 150
					title = wasteland_blocker.0013.success.toast.t
					scope:obstacle_province = { remove_building = bear_den_cleared }
				}
			}
			40 = { # Failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -35
				}
				desc = wasteland_blocker.0013.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0013.failure.toast.t
					add_prestige = -75
					increase_wounds_effect = { REASON = hunting_accident }
					hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
					scope:obstacle_province = { add_building = bear_den }
				}
			}
		}
		stress_impact = {
			craven = medium_stress_gain
			brave = minor_stress_loss
		}
	}
			
	option = { # Get a party to kill the bear
		name = wasteland_blocker.0013.b
		duel = {
			skill = prowess 
			value = 5
			30 = { # Success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -1
				}
				desc = wasteland_blocker.0013.b.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 75
					title = wasteland_blocker.0013.success.toast.t
					scope:obstacle_province = { remove_building = bear_den_cleared }
				}
			}
			30 = { # Failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -35
				}
				desc = wasteland_blocker.0013.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0013.failure.toast.t
					add_prestige = -75
					hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
					scope:obstacle_province = { add_building = bear_den }
				}
			}
		}
	}

	option = { # Flee, causing bear to remain
		name = wasteland_blocker.0013.c
		hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
		scope:obstacle_province = { add_building = bear_den }
	}
}

wasteland_blocker.0014 = { # Mushroom Bear
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0014.t
	desc = wasteland_blocker.0014.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = sadness
	}

	right_portrait = {
		character = scope:steward
		animation = worry
	}
	immediate = {
		cp:councillor_steward = {
			save_scope_as = steward
		}
	}
	
	option = { # Let the levies deal with it
		name = wasteland_blocker.0014.a

		duel = {
			skill = martial 
			value = 10
			30 = { # Success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -1
				}
				desc = wasteland_blocker.0014.a.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 75
					title = wasteland_blocker.0014.success.toast.t
					scope:obstacle_province = { remove_building = bear_den_cleared }
				}
			}
			40 = { # Failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -35
				}
				desc = wasteland_blocker.0014.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0014.failure.toast.t
					add_prestige = -125
					hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
					scope:obstacle_province = {
						add_building = bear_den
					}
					scope:obstacle_province.county = {
						add_county_modifier = {
							modifier = bear_on_shrooms_loose
							years = 1
						}
					}
				}
			}
		}
	}
			
	option = { # Spike trap to deal with the bear
		name = wasteland_blocker.0014.b
		duel = {
			skill = intrigue 
			value = 15
			30 = { # Success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -1
				}
				desc = wasteland_blocker.0014.b.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 175
					title = wasteland_blocker.0014.success.toast.t
					scope:obstacle_province = { remove_building = bear_den_cleared }
				}
			}
			40 = { # Failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -35
				}
				desc = wasteland_blocker.0014.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0014.failure.toast.t
					add_prestige = -150
					hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
					scope:obstacle_province = {
						add_building = bear_den
					}
					scope:obstacle_province.county = {
						add_county_modifier = {
							modifier = bear_on_shrooms_loose
							years = 1
						}
					}
				}
			}
		}
	}

	option = { # Chance of getting ill or health boost
		name = wasteland_blocker.0014.c
		hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
		random_list = {
			45 = {
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0014.c.success.toast.t
					add_character_modifier = {
						modifier = stomach_ache_modifier
						years = 3
					}
				}
			}
			55 = {
				modifier = {
					add = learning
				}
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0014.c.failure.toast.t
					add_character_modifier = {
						modifier = medicine_student_modifier
						years = 5
					}
				}
			}
		}
		scope:obstacle_province = { add_building = bear_den }
	}
}

wasteland_blocker.0015 = { # More than meets the eye
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0015.t
	desc = wasteland_blocker.0015.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = personality_bold
	}

	trigger = {
		scope:obstacle_province = { 
			OR = {
				empire = title:e_anduin_vale 
				kingdom = title:k_high_pass
				kingdom = title:k_gundabad
				kingdom = title:k_grey_mountains
			}
		}
		faith_is_good = yes
	}

	option = { # Prowess check
		name = wasteland_blocker.0015.a
		
		duel = {
			skill = prowess 
			value = 10
			30 = { # Success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -1
				}
				desc = wasteland_blocker.0015.a.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 100
					title = wasteland_blocker.0015.a.success.toast.t
					scope:obstacle_province = { remove_building = bear_den_cleared }
				}
			}
			40 = { # Failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -35
				}
				desc = wasteland_blocker.0015.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0015.a.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
					scope:obstacle_province = { add_building = bear_den }
					increase_wounds_effect = { REASON = hunting_accident }
				}
			}
		}
	}
	
	option = { # Diplomacy check
		name = wasteland_blocker.0015.b

		duel = {
			skill = diplomacy 
			value = 10
			30 = { # success
				modifier = { 
					add = 5 
					has_trait = skinchanger
				}
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0015.b.duel_success
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0015.b.success.toast.t
					scope:obstacle_province = { remove_building = bear_den_cleared }
					add_prestige = 50
					add_piety = 50
				}
			}
			30 = { # failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0015.b.duel_failure
				root = {
					send_interface_toast = {
						left_icon = root
						title = wasteland_blocker.0015.b.failure.toast.t
						hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
						scope:obstacle_province = { add_building = bear_den }
						add_prestige = -100
					}
				}
			}
		}
	}
	
	option = { # Bear den remains
		name = wasteland_blocker.0015.c

		send_interface_toast = {
			left_icon = root
			add_prestige = -75
			title = wasteland_blocker.0015.toast.t
			hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
			scope:obstacle_province = { add_building = bear_den }
		}
	}
}

wasteland_blocker.0016 = { # The Man-Eater
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0016.t
	desc = wasteland_blocker.0016.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = sadness
	}

	right_portrait = {
		character = scope:marshal
		animation = worry
	}
	
	immediate = {
		cp:councillor_marshal = {
			save_scope_as = marshal
		}
	}
	
	option = { # Let the finest warriors deal with it
		name = wasteland_blocker.0016.a

		stress_impact = {
			greedy = medium_stress_gain
		}

		remove_short_term_gold = 50

		send_interface_toast = {
			left_icon = root
			title = wasteland_blocker.0016.success.toast.t
			scope:obstacle_province = { remove_building = bear_den_cleared }
		}
	}
			
	option = { # Marshal deals with the bear
		name = wasteland_blocker.0016.b

		stress_impact = {
			compassionate = medium_stress_gain
			callous = minor_stress_loss
		}

		scope:marshal = {
			duel = {
				skill = martial 
				value = 15
				60 = { # Success
					compare_modifier = {
						value = scope:duel_value
						multiplier = 3
						min = -1
					}

					desc = wasteland_blocker.0016.b.duel_success

					send_interface_toast = {
						left_icon = root
						right_icon = scope:marshal
						title = wasteland_blocker.0016.success.toast.t
						scope:obstacle_province = { remove_building = bear_den_cleared }
					}
				}
				40 = { # Failure
					compare_modifier = {
						value = scope:duel_value
						multiplier = -3
						min = -35
					}
					desc = wasteland_blocker.0016.b.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:marshal
							title = wasteland_blocker.0016.failure.toast.t
							hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
							scope:obstacle_province = {
								add_building = bear_den
							}
							scope:marshal = {
								increase_wounds_effect = {REASON = wild_animal}
							}
						}
					}
				}
			}
		}
	}

	option = { # Do nothing
		name = wasteland_blocker.0016.c

		stress_impact = {
			compassionate = major_stress_gain
		}

		add_legitimacy = minor_legitimacy_loss

		hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
		scope:obstacle_province = { add_building = bear_den }
	}
}

wasteland_blocker.0017 = { # Hated enemies
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0017.t
	desc = wasteland_blocker.0017.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = personality_bold
	}

	trigger = {
		scope:obstacle_province = { 
			OR = {
				empire = title:e_anduin_vale 
				kingdom = title:k_high_pass
				kingdom = title:k_gundabad
				kingdom = title:k_grey_mountains
			}
		}
		faith_is_evil = yes
	}

	option = { # Prowess check
		name = wasteland_blocker.0017.a
		skill = prowess
		duel = {
			skill = prowess 
			value = 10
			30 = { # Success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -1
				}
				desc = wasteland_blocker.0017.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 100
					title = wasteland_blocker.0017.success.toast.t
					scope:obstacle_province = { remove_building = bear_den_cleared }
				}
			}
			40 = { # Failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -35
				}
				desc = wasteland_blocker.0017.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0017.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
					scope:obstacle_province = { add_building = bear_den }
					increase_wounds_effect = { REASON = hunting_accident }
				}
			}
		}
	}
	
	option = { # Intrigue check
		name = wasteland_blocker.0017.b
		skill = intrigue
		duel = {
			skill = intrigue 
			value = 10
			30 = { # Success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -1
				}
				desc = wasteland_blocker.0017.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 100
					title = wasteland_blocker.0017.success.toast.t
					scope:obstacle_province = { remove_building = bear_den_cleared }
				}
			}
			40 = { # Failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -35
				}
				desc = wasteland_blocker.0017.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0017.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
					scope:obstacle_province = { add_building = bear_den }
					increase_wounds_effect = { REASON = hunting_accident }
				}
			}
		}
	}
	
	option = { # Bear den remains
		name = wasteland_blocker.0017.c

		send_interface_toast = {
			left_icon = root
			add_prestige = -75
			title = wasteland_blocker.0017.failure.toast.t
			hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
			scope:obstacle_province = { add_building = bear_den }
		}
	}
}

wasteland_blocker.0018 = { # Bear-Baiting
    type = character_event
    title = wasteland_blocker.0018.t
    desc = wasteland_blocker.0018.desc
    theme = realm

    left_portrait = root

    right_portrait = {
        character = scope:governor
    }

    override_background = wilderness_scope

    immediate = {
        create_character = {
            template = administrator_character
            culture = scope:obstacle_province.culture
            faith = scope:obstacle_province.faith
            location = scope:obstacle_province
            gender_female_chance = 50
            save_scope_as = governor
        }
    }

    trigger = {
        NOT = {
            faith = {
                has_doctrine = tenet_sanctity_of_nature
            }
        }
    }

    option = {
        name = wasteland_blocker.0018.a
        scope:obstacle_province = { 
            remove_building = bear_den_cleared 
            add_county_modifier = {
                modifier = permitted_bear_fighting
                years = 5
            }
        }
        stress_impact = {
            callous = medium_stress_loss
            sadistic = medium_stress_loss
        }
        if = {
            limit = {
                faith_is_evil = yes # not sure if we want doubling effects 
            }
            add_stress = -30
        }
    }

    option = {
        name = wasteland_blocker.0018.b
        scope:obstacle_province = {
            remove_building = bear_den_cleared
            add_county_modifier = {
                modifier = banned_bear_fighting
                years = 5
            }
            stress_impact = {
                compassionate = medium_stress_loss
            }
        }
    }

    option = {
        name = wasteland_blocker.0018.c
        skill = stewardship
        duel = {
            skill = stewardship
            value = 10
            30 = {
                compare_modifier = {
                    value = scope:duel_value
                }
                desc = wasteland_blocker.0018.c.duel_success
                send_interface_toast = {
                    left_icon = root
                    add_short_term_gold = 100
                    title = wasteland_blocker.0018.success.toast.t
                }
            }
            20 = {
                compare_modifier = {
                    value = scope:duel_value
                }
                desc = wasteland_blocker.0018.c.duel_failure
                send_interface_toast = {
                    left_icon = root
                    remove_short_term_gold = 100
                    title = wasteland_blocker.0018.failure.toast.t
                }
            }
        }
        scope:obstacle_province = { 
            remove_building = bear_den_cleared 
        }
    }

    after = {
        scope:governor = {
            silent_disappearance_effect = yes
        }
    }
}

wasteland_blocker.0019 = { # Sloth and savagery
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0019.t
	desc = wasteland_blocker.0019.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = personality_bold
	}

	trigger = {
		scope:obstacle_province = { 
			OR = {
				duchy = title:d_dagorlad
				duchy = title:d_brown_lands
				duchy = title:d_cormalthen
				duchy = title:d_heahand
				duchy = title:d_east_bight
				duchy = title:d_mimita
				duchy = title:d_yeretik
			}
		}
	}

	right_portrait = {
		character = scope:knight
		animation = disgust
	}
	
	immediate = {
		if = {
			limit = { 
				any_knight = { 
					is_ai = yes
					count > 0
				}
			}
			ordered_knight = {
				limit = { is_ai = yes }
				order_by = prowess
				save_scope_as = knight
			}
		}
	}

	option = { # Knight's Prowess check
		name = wasteland_blocker.0019.a
		skill = prowess
		trigger = { 
			any_knight = { 
				is_ai = yes
				count > 0
			} 
		}
		scope:knight = {
			duel = {
				skill = prowess 
				value = 10
				30 = { # Success
					compare_modifier = {
						value = scope:duel_value
						multiplier = 3
						min = -1
					}
					desc = wasteland_blocker.0019.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:knight					
							title = wasteland_blocker.0019.success.toast.t
							scope:obstacle_province = { remove_building = bear_den_cleared }
							scope:knight = {
								if = {
									limit = {
										exists = accolade
										accolade = { is_accolade_active = yes }
									}
									accolade = { add_glory = minimal_glory_gain }
								}
							}
						}
					}
				}
				30 = { # Failure
					compare_modifier = {
						value = scope:duel_value
						multiplier = -3
						min = -35
					}
					desc = wasteland_blocker.0019.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:knight	
							title = wasteland_blocker.0019.failure.toast.t
							hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
							scope:obstacle_province = { add_building = bear_den }
							scope:knight = {
								increase_wounds_effect = { REASON = hunting_accident }
							}
						}
					}
				}
			}
		}		
	}
	
	option = { # Prowess check
		name = wasteland_blocker.0019.b
		skill = prowess
		duel = {
			skill = prowess 
			value = 15
			30 = { # Success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -1
				}
				desc = wasteland_blocker.0019.duel_success
				send_interface_toast = {
					left_icon = root						
					title = wasteland_blocker.0019.success.toast.t
					scope:obstacle_province = { remove_building = bear_den_cleared }
					scope:knight = {
						add_prestige = minor_prestige_gain
					}
				}
			}
			30 = { # Failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -35
				}
				desc = wasteland_blocker.0019.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0019.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
					scope:obstacle_province = { add_building = bear_den }
					increase_wounds_effect = { REASON = hunting_accident }
				}
			}
		}	
	}
	
	option = { # Bear den remains
		name = wasteland_blocker.0019.c

		send_interface_toast = {
			left_icon = root
			add_prestige = minor_prestige_loss
			title = wasteland_blocker.0019.failure.toast.t
			hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
			scope:obstacle_province = { add_building = bear_den }
		}
	}
}

## Spider Nest
wasteland_blocker.0021 = { # The Great Web
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0021.t
	desc = wasteland_blocker.0021.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = personality_honorable
	}

	right_portrait = {
		character = scope:knight
		animation = disgust
	}
	
	immediate = {
		if = {
			limit = { 
				any_knight = { 
					is_ai = yes
					count > 0
				}
			}
			ordered_knight = {
				limit = { is_ai = yes }
				order_by = prowess
				save_scope_as = knight
			}
		}
	}

	option = { # Let us take axes to the trees, and swords to whatever survives!
		name = wasteland_blocker.0021.a
		skill = prowess
		duel = {
			skill = prowess 
			value = 14
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -1
				}
				desc = wasteland_blocker.0021.a.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 150
					title = wasteland_blocker.0021.success.toast.t
					scope:obstacle_province = { remove_building = spider_nest_cleared }
				}
			}
			40 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -35
				}
				desc = wasteland_blocker.0021.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0021.failure.toast.t
					add_prestige = -75
					increase_wounds_effect = { REASON = hunting_accident }
					hidden_effect = { scope:obstacle_province = { remove_building = spider_nest_cleared } }
					scope:obstacle_province = { add_building = spider_nest }
				}
			}
		}
		stress_impact = {
			craven = medium_stress_gain
			brave = minor_stress_loss
		}
	}
			
	option = { # Send for my archers, they'll soon be rid of them.
		name = wasteland_blocker.0021.b
		skill = martial
		duel = {
			skill = martial 
			value = 12
			40 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0021.b.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 50
					title = wasteland_blocker.0021.success.toast.t
					scope:obstacle_province = { remove_building = spider_nest_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0021.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0021.failure.toast.t
					add_prestige = -100
					hidden_effect = { scope:obstacle_province = { remove_building = spider_nest_cleared } }
					scope:obstacle_province = { add_building = spider_nest }
				}
			}
		}
	}

	option = { # Bring me fire... we'll burn them out!
		name = wasteland_blocker.0021.c
		custom_tooltip = wasteland_blocker.0021.c.tt
		scope:obstacle_province = { remove_building = spider_nest_cleared }
		random = {
			chance = 20
			make_settlement_county_wilderness = {
				COUNTY = scope:obstacle_province.county
			}
		}
	}

	option = { # Did I mention I'm arachnophobic?
		name = wasteland_blocker.0021.d
		hidden_effect = { scope:obstacle_province = { remove_building = spider_nest_cleared } }
		scope:obstacle_province = { add_building = spider_nest }
	}
}

wasteland_blocker.0022 = { # Attercop
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0022.t
	desc = wasteland_blocker.0022.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = stress
	}

	right_portrait = {
		character = scope:colonist
		animation = fear
	}
	
	immediate = {
		create_character = {
			template = peasant_character
			dynasty = none
			culture = scope:obstacle_province.culture
			faith = scope:obstacle_province.faith
			location = scope:obstacle_province
			gender_female_chance = 50
			save_scope_as = colonist
			after_creation = {
				remove_trait = peasant_leader
			}
		}
	}

	option = { # Devote some of my men to purge them.
		name = wasteland_blocker.0022.a
		add_character_modifier = {
			modifier = levies_aiding_colony_modifier
			years = 5
		}
		random_list = { 
			85 = {
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0021.success.toast.t
					scope:obstacle_province = { remove_building = spider_nest_cleared }
				}
			}
			15 = {
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0021.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = spider_nest_cleared } }
					scope:obstacle_province = { add_building = spider_nest }
				}
			}
		}
	}
			
	option = { # I will trust this task to hired professionals.
		name = wasteland_blocker.0022.b
		remove_short_term_gold = 100
		random_list = { 
			70 = {
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0021.success.toast.t
					scope:obstacle_province = { remove_building = spider_nest_cleared }
				}
			}
			30 = {
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0021.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = spider_nest_cleared } }
					scope:obstacle_province = { add_building = spider_nest }
				}
			}
		}
		stress_impact = {
			greedy = minor_stress_gain
		}
	}

	option = { # Bring me fire... we'll burn them out!
		name = wasteland_blocker.0022.c
		hidden_effect = { scope:obstacle_province = { remove_building = spider_nest_cleared } }
		scope:obstacle_province = { add_building = spider_nest }
		stress_impact = {
			compassionate = minor_stress_gain
		}
	}

	after = {
		scope:colonist = {
			silent_disappearance_effect = yes
		}
	}	

}

## Bandits
wasteland_blocker.0031 = { # The Outcasts
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0031.t
	desc = {
		desc = wasteland_blocker.0031.desc.1
		triggered_desc = { # Has Marshal
			trigger = { 
				any_martial_councillor = {
					count > 0
				}
			} 
			desc = wasteland_blocker.0031.desc.2.marshal
		}
		triggered_desc = { # No has Marshal
			trigger = { 
				any_martial_councillor = {
					count = 0
				}
			} 
			desc = wasteland_blocker.0031.desc.2.knight
		}
		triggered_desc = { # Has Spymaster
			trigger = { 
				any_intrigue_councillor = {
					count > 0
				}
			} 
			desc = wasteland_blocker.0031.desc.3.spymaster
		}
		triggered_desc = { # No has Spymaster
			trigger = { 
				any_intrigue_councillor = {
					count = 0
				}
			} 
			desc = wasteland_blocker.0031.desc.3.scholar
		}
	}
	theme = realm

	left_portrait = {
		character = root
		animation = personality_rational
	}

	right_portrait = {
		character = scope:spymaster
		animation = flirtation
	}

	lower_center_portrait = {
		character = scope:marshal
	}
	
	immediate = {
		if = {
			limit = {
				any_martial_councillor = {
					count > 0
				}
			}
			random_martial_councillor = {
				save_scope_as = marshal
			}
		}
		else ={
			ordered_courtier = {
				order_by = martial
				save_scope_as = marshal
			}
		}
		if = {
			limit = {
				any_intrigue_councillor = {
					count > 0
				}
			}
			random_intrigue_councillor = {
				save_scope_as = spymaster
			}
		}
		else ={
			ordered_courtier = {
				limit = { NOT = { this = scope:marshal } }
				order_by = learning
				save_scope_as = spymaster
			}
		}
	}

	option = { # I don’t care who was there first. Settle this with swords!
		name = wasteland_blocker.0031.a
		skill = martial
		duel = {
			skill = martial 
			value = 8
			40 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0031.a.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 50
					title = wasteland_blocker.0031.success.toast.t
					scope:obstacle_province = { remove_building = bandits_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0031.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0031.failure.toast.t
					add_prestige = -150
					hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
					scope:obstacle_province = { add_building = bandits }
				}
			}
		}
		reverse_add_opinion = {
			modifier = pleased_opinion
			opinion = 20
			target = scope:marshal
		}
		reverse_add_opinion = {
			modifier = disappointed_opinion
			opinion = -20
			target = scope:spymaster
		}
		stress_impact = {
			just = medium_stress_gain
			calm = minor_stress_gain
			patient = minor_stress_gain
			impatient = minor_stress_loss
			wrathful = minor_stress_loss
			arbitrary = minor_stress_loss
		}
	}
			
	option = { # Pardon the outlaws and restore them to their lands.
		name = wasteland_blocker.0031.b
		skill = stewardship
		duel = {
			skill = stewardship 
			value = 8
			40 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0031.b.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 50
					title = wasteland_blocker.0031.success.toast.t
					scope:obstacle_province = { remove_building = bandits_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0031.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0031.failure.toast.t
					add_prestige = -150
					hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
					scope:obstacle_province = { add_building = bandits }
				}
			}
		}
		reverse_add_opinion = {
			modifier = pleased_opinion
			opinion = 20
			target = scope:spymaster
		}
		reverse_add_opinion = {
			modifier = disappointed_opinion
			opinion = -20
			target = scope:marshal
		}
		stress_impact = {
			vengeful = minor_stress_gain
			callous = minor_stress_gain
			compassionate = minor_stress_loss
			forgiving = minor_stress_loss
		}
	}

	option = { # I will find the truth of the matter myself...
		name = wasteland_blocker.0031.c
		skill = diplomacy
		duel = {
			skill = diplomacy 
			value = 14
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -1
				}
				desc = wasteland_blocker.0031.c.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 50
					title = wasteland_blocker.0031.success.toast.t
					reverse_add_opinion = {
						modifier = pleased_opinion
						opinion = 30
						target = scope:spymaster
					}
					reverse_add_opinion = {
						modifier = pleased_opinion
						opinion = 30
						target = scope:marshal
					}
					scope:obstacle_province = { remove_building = bandits_cleared }
				}
			}
			40 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -35
				}
				desc = wasteland_blocker.0031.c.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0031.failure.toast.t
					reverse_add_opinion = {
						modifier = disappointed_opinion
						opinion = -30
						target = scope:spymaster
					}
					reverse_add_opinion = {
						modifier = disappointed_opinion
						opinion = -30
						target = scope:marshal
					}
					add_prestige = -150
					hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
					scope:obstacle_province = { add_building = bandits }
				}
			}
		}
		stress_impact = {
			just = minor_stress_loss
			gregarious = minor_stress_loss
			patient = minor_stress_loss
			impatient = minor_stress_gain
			shy = medium_stress_gain
			arbitrary = minor_stress_gain
		}
	}

	option = { # Leave the bandits alone
		name = wasteland_blocker.0031.d
		hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
		scope:obstacle_province = { add_building = bandits }
		reverse_add_opinion = {
			modifier = disappointed_opinion
			opinion = -10
			target = scope:spymaster
		}
		reverse_add_opinion = {
			modifier = disappointed_opinion
			opinion = -10
			target = scope:marshal
		}
		stress_impact = {
			lazy = minor_stress_loss
		}
	}

}

wasteland_blocker.0032 = { # The Corral
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0032.t
	desc = {
		triggered_desc = { # Has Marshal
			trigger = { 
				any_martial_councillor = {
					count > 0
				}
			} 
			desc = wasteland_blocker.0032.desc.marshal
		}
		triggered_desc = { # No has Marshal
			trigger = { 
				any_martial_councillor = {
					count = 0
				}
			} 
			desc = wasteland_blocker.0032.desc.knight
		}
	}
	theme = realm

	left_portrait = {
		character = root
		animation = personality_cynical
	}

	right_portrait = {
		character = scope:marshal
		animation = happiness
	}
	
	immediate = {
		if = {
			limit = {
				any_martial_councillor = {
					count > 0
				}
			}
			random_martial_councillor = {
				save_scope_as = marshal
			}
		}
		else ={
			ordered_courtier = {
				order_by = martial
				save_scope_as = marshal
			}
		}
	}

	option = { # Crush them!
		name = wasteland_blocker.0032.a
		skill = martial
		duel = {
			skill = martial 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0032.a.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 50
					title = wasteland_blocker.0031.success.toast.t
					scope:obstacle_province = { remove_building = bandits_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0032.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0031.failure.toast.t
					add_prestige = -100
					hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
					scope:obstacle_province = { add_building = bandits }
				}
			}
		}
		stress_impact = {
			calm = minor_stress_gain
			patient = minor_stress_gain
			impatient = minor_stress_loss
			wrathful = minor_stress_loss
			arbitrary = minor_stress_loss
		}
	}
			
	option = { # What if they could be persuaded to enlist?
		name = wasteland_blocker.0032.b
		skill = diplomacy
		duel = {
			skill = diplomacy 
			value = 14
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -15
				}
				desc = wasteland_blocker.0032.b.duel_success
				scope:obstacle_province = {
					add_province_modifier = {
						modifier = enlisted_bandits_province_modifier
						years = 30
					}
				}
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0031.success.toast.t
					scope:obstacle_province = { remove_building = bandits_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -29
				}
				desc = wasteland_blocker.0032.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0031.failure.toast.t
					add_prestige = -150
					hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
					scope:obstacle_province = { add_building = bandits }
				}
			}
		}
		stress_impact = {
			vengeful = minor_stress_gain
			forgiving = minor_stress_loss
		}
	}

	option = { # I suppose I could pay their travel expenses...
		name = wasteland_blocker.0032.c
		remove_short_term_gold = 125
		add_prestige = -25
		scope:obstacle_province = { remove_building = bandits_cleared }
		stress_impact = {
			greedy = minor_stress_gain
			generous = minor_stress_loss
			compassionate = minor_stress_loss
		}
	}
}

wasteland_blocker.0033 = { # The Brotherhood
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0033.t
	desc = wasteland_blocker.0033.desc

	theme = realm

	left_portrait = {
		character = root
		animation = personality_cynical
	}

	option = { # Crush them!
		name = wasteland_blocker.0033.a
		skill = martial
		duel = {
			skill = martial 
			value = 20
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0033.a.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = medium_prestige_gain
					add_gold = medium_gold_value
					title = wasteland_blocker.0033.success.toast.t
					scope:obstacle_province = { remove_building = bandits_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0033.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0033.failure.toast.t
					add_prestige = medium_prestige_loss
					scope:obstacle_province.county = { 
						change_development_progress = -50
					}
					hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
					scope:obstacle_province = { add_building = bandits }
				}
			}
		}
	}
			
	option = { # An interesting offer! 
		name = wasteland_blocker.0033.b
		skill = intrigue
		duel = {
			skill = intrigue 
			value = 14
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -15
				}
				desc = wasteland_blocker.0033.b.duel_success
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0033.success.toast.t
					scope:obstacle_province.county = { 
						change_development_level = 1
					}
					scope:obstacle_province = { remove_building = bandits_cleared }
					add_prestige = minor_prestige_gain
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -29
				}
				desc = wasteland_blocker.0033.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0033.failure.toast.t
					add_prestige = major_prestige_loss
					hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
					scope:obstacle_province = { add_building = bandits }
				}
			}
		}
	}

	option = { # I will take your oaths of fealty here
		name = wasteland_blocker.0033.c
		add_prestige = minor_prestige_loss
		scope:obstacle_province = { 
			remove_building = bandits_cleared 
			add_province_modifier = {
				modifier = ruled_by_bandits_modifier
				years = 5
			}
		}
		
		stress_impact = {
			ambitious = minor_stress_gain
			greedy = minor_stress_gain
			overseer = minor_stress_loss
			just = minor_stress_loss
		}
	}
}

wasteland_blocker.0034 = { # Tribes of the North
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0034.t
	desc = wasteland_blocker.0034.desc
	theme = realm
	override_background = {
		reference = wilderness_mountains
	}

	trigger = {
		scope:obstacle_province = { 
			OR = {		
				kingdom = title:k_angmar
				kingdom = title:k_forochel				
				kingdom = title:k_gundabad
				kingdom = title:k_iron_hills
				kingdom = title:k_belegost
				kingdom = title:k_arthedain
				duchy = title:d_dweorad
			}
		}
	}

	left_portrait = {
		character = root
		animation = personality_cynical
	}

	option = { # Crush them!
		name = wasteland_blocker.0034.a
		skill = martial
		duel = {
			skill = martial 
			value = 14
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0034.a.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = medium_prestige_gain
					title = wasteland_blocker.0034.success.toast.t
					scope:obstacle_province = { remove_building = bandits_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0034.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0034.failure.toast.t
					add_prestige = medium_prestige_loss
					hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
					scope:obstacle_province = { add_building = bandits }
					make_settlement_county_wilderness = {
						COUNTY = scope:obstacle_province.county
					}
				}
			}
		}
	}
			
	option = { # Send an emissary 
		name = wasteland_blocker.0034.b
		skill = diplomacy
		duel = {
			skill = diplomacy
			value = 14
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -15
				}
				modifier = {
					OR = {
						has_culture = culture:hillmen
						has_culture = culture:valemen
					}					
					add = 25
				}
				desc = wasteland_blocker.0034.b.duel_success
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0034.success.toast.t
					scope:obstacle_province.county = { 
						change_development_progress = 50
					}
					scope:obstacle_province = { remove_building = bandits_cleared }
					add_prestige = minor_prestige_gain
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -29
				}
				desc = wasteland_blocker.0034.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0034.failure.toast.t
					add_prestige = major_prestige_loss
					hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
					scope:obstacle_province = { 
						add_building = bandits 
						add_province_modifier = {
							modifier = recently_looted_modifier
							years = 5
						}
					}
				}
			}
		}
	}

	option = { # As if these rag-wearing savages are any threat.
		name = wasteland_blocker.0034.c
		add_prestige = medium_prestige_loss
		hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
		scope:obstacle_province = { add_building = bandits }
	}
}

wasteland_blocker.0035 = { # The Traitor
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0035.t
	desc = wasteland_blocker.0035.desc
	theme = realm

	left_portrait = {
		character = root
		animation = disbelief
	}

	right_portrait = {
		character = scope:traitor
		animation = scheme
	}
	
	immediate = {
		create_character = {
			template = peasant_character
			dynasty = none
			location = scope:obstacle_province
			gender_female_chance = 50
			save_scope_as = traitor
			culture = root.culture
			after_creation = {
				remove_trait = peasant_leader
			}
		}
	}
			
	option = { # Very well, if you say so...
		name = wasteland_blocker.0035.a
		skill = intrigue
		duel = {
			skill = intrigue
			value = 14
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -15
				}
				desc = wasteland_blocker.0035.a.duel_success
				send_interface_toast = {
					left_icon = root
					right_icon = scope:traitor
					title = wasteland_blocker.0035.success.toast.t
					scope:obstacle_province = { remove_building = bandits_cleared }
					remove_short_term_gold = 60
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -29
				}
				desc = wasteland_blocker.0035.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0035.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
					scope:obstacle_province = { 
						add_building = bandits 
					}
					remove_short_term_gold = 60
				}
			}
		}
	}

	option = { # Crush them!
		name = wasteland_blocker.0035.b
		skill = martial
		duel = {
			skill = martial 
			value = 18
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0035.b.duel_success
				send_interface_toast = {
					left_icon = root
					right_icon = scope:traitor
					title = wasteland_blocker.0035.success.toast.t
					scope:obstacle_province = { remove_building = bandits_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0035.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0035.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
					scope:obstacle_province = { 
						add_building = bandits 
					}
				}
			}
		}
	}

	option = { # I do not need your help
		name = wasteland_blocker.0035.c
		random_list = { 
			1 = {
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0035.success.toast.t
					scope:obstacle_province = { remove_building = bandits_cleared }
				}
			}
			1 = {
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0035.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
					scope:obstacle_province = { add_building = bandits }
				}
			}
		}
	}
	after = {
		scope:traitor = {
			silent_disappearance_effect = yes
		}
	}
}

## Drakes
wasteland_blocker.0041 = { # Life Finds a Way
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0041.t
	desc = wasteland_blocker.0041.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = fear
	}

	right_portrait = {
		character = scope:hammund
		animation = happiness
	}

	override_background = {
		reference = wilderness_mountains
	}
	
	immediate = {
		create_character = {
			template = peasant_character
			dynasty = none
			name = Hammund
			age = { 80 90 }
			culture = culture:woodmen
			faith = faith:faith_woodmen
			location = scope:obstacle_province
			gender_female_chance = 0
			save_scope_as = hammund
			after_creation = {
				remove_trait = peasant_leader
			}
		}
	}

	option = { # Attempt to slay the drake
		name = wasteland_blocker.0041.a
		skill = prowess
		duel = {
			skill = prowess 
			value = 18
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -20
				}
				desc = wasteland_blocker.0041.a.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 200
					title = wasteland_blocker.0041.success.toast.t
					scope:obstacle_province = { remove_building = dragon_attack_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -25
				}
				desc = wasteland_blocker.0041.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0041.failure.toast.t
					add_prestige = -100
					increase_wounds_effect = { REASON = hunting_accident }
					hidden_effect = { scope:obstacle_province = { remove_building = dragon_attack_cleared } }
					scope:obstacle_province = { add_building = dragon_attack }
				}
			}
		}
		stress_impact = {
			brave = minor_stress_loss
			craven = major_stress_gain
		}
	}
			
	option = { # Run away!
		name = wasteland_blocker.0041.b
		hidden_effect = { scope:obstacle_province = { remove_building = dragon_attack_cleared } }
		scope:obstacle_province = { add_building = dragon_attack }
		random = {
			chance = 30
			make_settlement_county_wilderness = {
				COUNTY = scope:obstacle_province.county
			}
		}
		stress_impact = {
			brave = medium_stress_gain
			craven = minor_stress_loss
		}
	}

	after = {
		scope:hammund = {
			death = { death_reason = death_burned }
		}
	}
}

wasteland_blocker.0042 = { # Drakes’ Nest
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0042.t
	desc = wasteland_blocker.0042.desc
	theme = realm

	left_portrait = {
		character = root
		animation = personality_honorable
	}

	right_portrait = {
		character = scope:knight
		animation = personality_bold
	}
	
	immediate = {
		random_knight = {
			limit = { is_ai = yes }
			save_scope_as = knight
		}
	}

	option = { # Succeed and be rewarded!
		name = wasteland_blocker.0042.a
		scope:knight = {
			duel = {
				skill = prowess 
				value = 18
				30 = { 
					compare_modifier = {
						value = scope:duel_value
						multiplier = 3
						min = -20
					}
					desc = wasteland_blocker.0042.a.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							scope:knight = { add_prestige = 400 }
							pay_short_term_income = {
								target = scope:knight
								years = 1
							}
							title = wasteland_blocker.0041.success.toast.t
							scope:obstacle_province = { remove_building = dragon_attack_cleared }
						}
					}
				}
				30 = {
					compare_modifier = {
						value = scope:duel_value
						multiplier = -3
						min = -25
					}
					desc = wasteland_blocker.0042.a.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							title = wasteland_blocker.0041.failure.toast.t
							scope:knight = { death = { death_reason = death_burned } }
							hidden_effect = { scope:obstacle_province = { remove_building = dragon_attack_cleared } }
							scope:obstacle_province = { add_building = dragon_attack }
						}
					}
				}
			}
		}
		stress_impact = {
			greedy = medium_stress_gain
			generous = minor_stress_loss
		}
	}
			
	option = { # Just do it
		name = wasteland_blocker.0042.b
		reverse_add_opinion = {
			modifier = disappointed_opinion
			opinion = -30
			target = scope:knight
		}
		scope:knight = {
			duel = {
				skill = prowess 
				value = 21
				30 = { 
					compare_modifier = {
						value = scope:duel_value
						multiplier = 3
						min = -20
					}
					desc = wasteland_blocker.0042.a.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							scope:knight = { add_prestige = 500 }
							title = wasteland_blocker.0041.success.toast.t
							scope:obstacle_province = { remove_building = dragon_attack_cleared }
						}
					}
				}
				30 = {
					compare_modifier = {
						value = scope:duel_value
						multiplier = -3
						min = -25
					}
					desc = wasteland_blocker.0042.a.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							title = wasteland_blocker.0041.failure.toast.t
							scope:knight = { death = { death_reason = death_burned } }
							hidden_effect = { scope:obstacle_province = { remove_building = dragon_attack_cleared } }
							scope:obstacle_province = { add_building = dragon_attack }
						}
					}
				}
			}
		}
		stress_impact = {
			greedy = minor_stress_loss
			generous = minor_stress_gain
		}
	}

	option = { # I shall do it myself
		name = wasteland_blocker.0042.c
		skill = prowess
		duel = {
			skill = prowess 
			value = 18
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -20
				}
				desc = wasteland_blocker.0041.a.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 200
					title = wasteland_blocker.0041.success.toast.t
					scope:obstacle_province = { remove_building = dragon_attack_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -25
				}
				desc = wasteland_blocker.0041.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0041.failure.toast.t
					add_prestige = -100
					increase_wounds_effect = { REASON = hunting_accident }
					hidden_effect = { scope:obstacle_province = { remove_building = dragon_attack_cleared } }
					scope:obstacle_province = { add_building = dragon_attack }
				}
			}
		}
		stress_impact = {
			brave = minor_stress_loss
			craven = major_stress_gain
		}
	}

	option = { # Not so fast...
		name = wasteland_blocker.0042.d
		hidden_effect = { scope:obstacle_province = { remove_building = dragon_attack_cleared } }
		scope:obstacle_province = { add_building = dragon_attack }
	}

}

## Flooded Lands
wasteland_blocker.0051 = { # Ditch and Drain
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0051.t
	desc = wasteland_blocker.0051.desc
	theme = realm

	left_portrait = {
		character = root
		animation = personality_rational
	}

	override_background = {
		reference = wilderness_wetlands
	}

	option = { # I shall oversee a relief effort and invest in fresh labour
		name = wasteland_blocker.0051.a
		skill = stewardship
		duel = {
			skill = stewardship 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0051.a.duel_success
				send_interface_toast = {
					left_icon = root
					remove_short_term_gold = 100
					add_prestige = 50
					title = wasteland_blocker.0051.success.toast.t
					scope:obstacle_province = { remove_building = flooded_lands_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0051.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0051.failure.toast.t
					remove_short_term_gold = 200
					add_prestige = -50
					scope:obstacle_province = { remove_building = flooded_lands_cleared }
				}
			}
		}
		stress_impact = {
			diligent = minor_stress_loss
			lazy = minor_stress_gain
		}
	}

	option = { # Dedicate some troops to help reconstruct and finish the dyke
		name = wasteland_blocker.0051.b
		add_character_modifier = {
			modifier = levies_aiding_colony_modifier
			years = 5
		}
		remove_short_term_gold = 125
		scope:obstacle_province = { remove_building = flooded_lands_cleared }
	}

	option = { # Maybe this colony was doomed from the start...
		name = wasteland_blocker.0051.c
		hidden_effect = { scope:obstacle_province = { remove_building = flooded_lands_cleared } }
		scope:obstacle_province = { add_building = flooded_lands }
		random = {
			chance = 20
			make_settlement_county_wilderness = {
				COUNTY = scope:obstacle_province.county
			}
		}
	}

}

wasteland_blocker.0052 = { # Marsh Fever
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0052.t
	desc = wasteland_blocker.0052.desc
	theme = realm

	left_portrait = {
		character = root
		animation = stress
	}

	right_portrait = {
		character = scope:colonist
		animation = sick
	}

	override_background = {
		reference = wilderness_wetlands
	}

	trigger = {
		is_elf = no
		NOT = { has_character_flag = had_event_wasteland_blocker_0052 }
		scope:obstacle_province.county = { NOT = { has_county_modifier = colony_disease_recovery_county_modifier } }
	}

	on_trigger_fail = {
		trigger_event = wasteland_blocker.0051
	}

	immediate = {
		add_character_flag = {
			flag = had_event_wasteland_blocker_0052
			years = 20
		}
		create_character = {
			template = peasant_character
			dynasty = none
			culture = scope:obstacle_province.culture
			faith = scope:obstacle_province.faith
			location = scope:obstacle_province
			gender_female_chance = 50
			save_scope_as = colonist
			after_creation = {
				remove_trait = peasant_leader
				add_trait = ill
			}
		}
	}

	option = { # They shall get what they need.
		name = wasteland_blocker.0052.a
		remove_short_term_gold = 100
		scope:obstacle_province.county = {
			add_county_modifier = {
				modifier = colony_disease_recovery_county_modifier
				years = 2
			}
		}
		stress_impact = {
			compassionate = minor_stress_loss
			callous = minor_stress_gain
		}
	}

	option = { # I will persuade the clergy that charity is needed.
		name = wasteland_blocker.0052.b
		add_piety = -200
		scope:obstacle_province.county = {
			add_county_modifier = {
				modifier = colony_disease_recovery_county_modifier
				years = 4
			}
		}
		stress_impact = {
			greedy = minor_stress_loss
			generous = minor_stress_gain
		}
	}

	option = { # If they’d worked harder to drain the marshes this wouldn’t be a problem!
		name = wasteland_blocker.0052.c
		scope:obstacle_province.county = {
			add_county_modifier = {
				modifier = colony_disease_recovery_county_modifier
				years = 8
			}
		}
		random = {
			chance = 50
			make_settlement_county_wilderness = {
				COUNTY = scope:obstacle_province.county
			}
		}
		stress_impact = {
			compassionate = medium_stress_gain
			callous = minor_stress_loss
			sadistic = minor_stress_loss
			lazy = minor_stress_loss
		}
	}

	after = {
		scope:colonist = {
			silent_disappearance_effect = yes
		}
		hidden_effect = { scope:obstacle_province = { remove_building = flooded_lands_cleared } }
		scope:obstacle_province = { add_building = flooded_lands }
	}
}

## Collapsed Ceilings
wasteland_blocker.0053 = { # Further Cave-Ins
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0053.t
	desc = wasteland_blocker.0053.desc
	theme = realm

	left_portrait = {
		character = root
		animation = personality_rational
	}

	override_background = {
		reference = wilderness_underground
	}

	option = { # Just keep digging!
		name = wasteland_blocker.0053.a
		skill = stewardship
		duel = {
			skill = stewardship 
			value = 6
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0053.a.duel_success
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0053.success.toast.t
					scope:obstacle_province = { remove_building = collapsed_ceiling_cleared }
					add_prestige = 80
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0053.a.duel_failure
				hidden_effect = { scope:obstacle_province = { remove_building = collapsed_ceiling_cleared } }
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0053.failure.toast.t
					scope:obstacle_province = { add_building = collapsed_ceiling }
					make_settlement_county_wilderness = {
						COUNTY = scope:obstacle_province.county
					}
					add_prestige = -100
				}
			}
		}
		stress_impact = {
			arbitrary = minor_stress_loss
			lazy = minor_stress_loss
		}
	}

	option = { # Hire professional engineers
		name = {
			trigger = {
				faith.religion = { is_in_family = rf_forcesofevil }
			}
			text = wasteland_blocker.0053.b_orc # Just throw more slaves at it!
		}
		name = wasteland_blocker.0053.b # Hire professional engineers
		remove_short_term_gold = 150
		scope:obstacle_province = { remove_building = collapsed_ceiling_cleared }
		stress_impact = {
			greedy = minor_stress_gain
		}
	}

	option = { # Abandon the project...
		name = wasteland_blocker.0053.c
		custom_tooltip = wasteland_blocker.0053.c.tt
		trigger = {
			is_ai = no
		}
		hidden_effect = { scope:obstacle_province = { remove_building = collapsed_ceiling_cleared } }
		scope:obstacle_province = { add_building = collapsed_ceiling }
		make_settlement_county_wilderness = {
			COUNTY = scope:obstacle_province.county
		}
		add_prestige = -100
	}

}

wasteland_blocker.0054 = { # Unexpected Treasure
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0054.t
	desc = wasteland_blocker.0054.desc
	theme = realm

	left_portrait = {
		character = root
		animation = personality_rational
	}

	right_portrait = {
		character = scope:steward
		animation = personality_honorable
	}

	override_background = {
		reference = wilderness_underground
	}

	immediate = {
		cp:councillor_steward = {
			save_scope_as = steward
		}
	}
	option = { # Excellent! Guards, seize all of it.
		name = wasteland_blocker.0054.a
		hidden_effect = { scope:obstacle_province = { remove_building = collapsed_ceiling_cleared } }
		add_tyranny = 10
		add_short_term_gold = 150
		scope:obstacle_province.county = {
			add_county_modifier = {
				modifier = governance_1054_upset_peasants_modifier
				years = 5
			}
		}
		stress_impact = {
			generous = minor_stress_gain
			just = minor_stress_gain
		}
	}

	option = { # I will take my share, the rest will be split fairly.
		name = wasteland_blocker.0054.b
		hidden_effect = { scope:obstacle_province = { remove_building = collapsed_ceiling_cleared } }
		add_short_term_gold = 60
		stress_impact = {
			greedy = medium_stress_gain
			generous = minor_stress_loss
			arbitrary = minor_stress_gain
			just = minor_stress_loss
			compassionate = minor_stress_loss
		}
		scope:obstacle_province.county = { 
			change_development_progress = 75
		}
	}

}

## Flooded Tunnels



## Stale Air
wasteland_blocker.0055 = { # Toxic Leak!
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0055.t
	desc = wasteland_blocker.0055.desc
	theme = realm

	left_portrait = {
		character = root
		animation = stress
	}

	right_portrait = {
		character = scope:colonist
		animation = sick
	}

	override_background = {
		reference = wilderness_underground
	}

	trigger = {
		is_elf = no
		NOT = { has_character_flag = had_event_wasteland_blocker_0055 }
		scope:obstacle_province.county = { NOT = { has_county_modifier = colony_disease_recovery_county_modifier } }
	}

	on_trigger_fail = {
		hidden_effect = { scope:obstacle_province = { remove_building = stale_air_cleared } }
	}

	immediate = {
		add_character_flag = {
			flag = had_event_wasteland_blocker_0055
			years = 20
		}
		create_character = {
			template = peasant_character
			dynasty = none
			culture = scope:obstacle_province.culture
			faith = scope:obstacle_province.faith
			location = scope:obstacle_province
			gender_female_chance = 50
			save_scope_as = colonist
			after_creation = {
				remove_trait = peasant_leader
				add_trait = ill
			}
		}
	}

	option = { # I know what can help, you need to take the following precautions
		trigger = {
			OR = {
				has_trait = lifestyle_herbalist
				has_trait = lifestyle_physician
			}
		}
		name = wasteland_blocker.0055.a
		custom_tooltip = wasteland_blocker.0055.a.tt
		scope:obstacle_province.county = {
			add_county_modifier = {
				modifier = colony_disease_recovery_county_modifier
				years = 2
			}
		}
		hidden_effect = { scope:obstacle_province = { remove_building = stale_air_cleared } }
	}

	option = { # They shall get what they need.
		name = wasteland_blocker.0055.b
		custom_tooltip = wasteland_blocker.0055.b.tt
		remove_short_term_gold = 100
		scope:obstacle_province.county = {
			add_county_modifier = {
				modifier = colony_disease_recovery_county_modifier
				years = 4
			}
		}
		stress_impact = {
			compassionate = minor_stress_loss
			callous = minor_stress_gain
		}
		hidden_effect = { scope:obstacle_province = { remove_building = stale_air_cleared } }
		scope:obstacle_province = { add_building = stale_air }
	}

	option = { # You're on your own.
		name = wasteland_blocker.0055.c
		custom_tooltip = wasteland_blocker.0055.c.tt
		scope:obstacle_province.county = {
			add_county_modifier = {
				modifier = colony_disease_recovery_county_modifier
				years = 8
			}
		}
		random = {
			chance = 50
			make_settlement_county_wilderness = {
				COUNTY = scope:obstacle_province.county
			}
		}
		hidden_effect = { scope:obstacle_province = { remove_building = stale_air_cleared } }
		scope:obstacle_province = { add_building = stale_air }

		stress_impact = {
			compassionate = medium_stress_gain
			callous = minor_stress_loss
			sadistic = minor_stress_loss
			lazy = minor_stress_loss
		}
	}

	after = {
		scope:colonist = {
			silent_disappearance_effect = yes
		}
	}
}



## Strange Creatures


wasteland_blocker.9000 = {
	hidden = yes

	trigger = {
		OR = {
			scope:obstacle_province = { has_building = spider_nest_cleared }
			scope:obstacle_province = { has_building = wolf_den_cleared }
			scope:obstacle_province = { has_building = bear_den_cleared }
			scope:obstacle_province = { has_building = ghosts_cleared }
			scope:obstacle_province = { has_building = ghosts_eregion_cleared }
			scope:obstacle_province = { has_building = dragon_attack_cleared }
			scope:obstacle_province = { has_building = flooded_lands_cleared }
			scope:obstacle_province = { has_building = bandits_cleared }
			scope:obstacle_province = { has_building = dead_marshes_cleared }
			scope:obstacle_province = { has_building = collapsed_ceiling_cleared }
			scope:obstacle_province = { has_building = flooded_tunnels_cleared }
			scope:obstacle_province = { has_building = flooded_tunnels_nogrod_cleared }
			scope:obstacle_province = { has_building = stale_air_cleared }
			scope:obstacle_province = { has_building = strange_creatures_cleared }
		}
	}

	immediate = {
		scope:obstacle_province = { 
			switch = {
				trigger = has_building
				spider_nest_cleared = { scope:obstacle_province = { remove_building = spider_nest_cleared } }
				wolf_den_cleared = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
				bear_den_cleared = { scope:obstacle_province = { remove_building = bear_den_cleared } }
				ghosts_cleared = { scope:obstacle_province = { remove_building = ghosts_cleared } }
				ghosts_eregion_cleared = { scope:obstacle_province = { remove_building = ghosts_eregion_cleared } }
				dragon_attack_cleared = { scope:obstacle_province = { remove_building = dragon_attack_cleared } }
				flooded_lands_cleared = { scope:obstacle_province = { remove_building = flooded_lands_cleared } }
				bandits_cleared = { scope:obstacle_province = { remove_building = bandits_cleared } }
				dead_marshes_cleared = { scope:obstacle_province = { remove_building = dead_marshes_cleared } }
				collapsed_ceiling_cleared = { scope:obstacle_province = { remove_building = collapsed_ceiling_cleared } }
				flooded_tunnels_cleared = { scope:obstacle_province = { remove_building = flooded_tunnels_cleared } }
				flooded_tunnels_nogrod_cleared = { scope:obstacle_province = { remove_building = flooded_tunnels_nogrod_cleared } }
				stale_air_cleared = { scope:obstacle_province = { remove_building = stale_air_cleared } }
				strange_creatures_cleared = { scope:obstacle_province = { remove_building = strange_creatures_cleared } }
			}
		}
	}
}

## Troll caves
wasteland_blocker.0061 = { # The Trolls (icy, ispanets)
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0061.t
	desc = wasteland_blocker.0061.desc
	theme = trollshaws

	left_portrait = {
		character = root
		animation = personality_bold
	}

	
	right_portrait = {
		character = scope:marshal
		animation = worry
	}
	
	immediate = {
		if = {
			limit = {
				any_martial_councillor = {
					count > 0
				}
			}
			random_martial_councillor = {
				save_scope_as = marshal
			}
		}
		else ={
			ordered_courtier = {
				order_by = martial
				save_scope_as = marshal
			}
		}
	}

	option = { # Slaughter them
		name = wasteland_blocker.0061.a
		skill = prowess
		duel = {
			skill = prowess 
			value = 15
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0061.a.duel_success
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0061.success.toast.t
					add_prestige = medium_prestige_gain
					hidden_effect = {
						scope:obstacle_province = { remove_building = troll_cave_cleared }
					}
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0061.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0061.failure.toast.t

					hidden_effect = { scope:obstacle_province = { remove_building = troll_cave_cleared } }

					increase_wounds_effect = { REASON = troll }
					add_trait = maimed
				}
			}
		}
	}

	option = { # Marshal protection
		name = wasteland_blocker.0061.b
		trigger = { 
			any_martial_councillor = {
				is_ai = yes
				count > 0
			}
		} 
		skill = martial
		scope:marshal = {
			duel = {
				skill = martial 
				value = 15
				30 = { 
					compare_modifier = {
						value = scope:duel_value
						multiplier = 2
						min = -10
					}
					desc = wasteland_blocker.0061.b.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:marshal
							title = wasteland_blocker.0061.success.toast.t
							hidden_effect = {
								scope:obstacle_province = {  
									remove_building = troll_cave_cleared 
								}
							
							}
							scope:marshal = {
								if = {
									limit = {
										exists = accolade
										accolade = { is_accolade_active = yes }
									}
									accolade = { add_glory = major_glory_gain }
								}
							}
						}
					}					
				}
				30 = {
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = wasteland_blocker.0061.b.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:marshal
							title = wasteland_blocker.0061.failure.toast.t
	
							hidden_effect = { scope:obstacle_province = { remove_building = troll_cave_cleared } }
							scope:marshal = {
								increase_wounds_effect = { REASON = troll }
							}
						}
					}
				}
			}
		}
	}
}

wasteland_blocker.0062 = { # A beast from the Dark (icy, ispanets)
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0062.t
	desc = wasteland_blocker.0062.desc
	theme = trollshaws

	left_portrait = {
		character = root
		animation = personality_bold
	}
	
	immediate = {
		if = {
			limit = { 
				any_knight = { 
					is_ai = yes
					count > 0
				}
			}
			ordered_knight = {
				limit = { is_ai = yes }
				order_by = prowess
				save_scope_as = knight
			}
		}
	}

	
	right_portrait = {
		character = scope:knight
		animation = bold
	}

	option = { # Do your worst, beast!
		name = wasteland_blocker.0062.a
		skill = martial
		duel = {
			skill = martial 
			value = 15
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0062.a.duel_success
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0062.success.toast.t
					add_prestige = medium_prestige_gain
					hidden_effect = {
						scope:obstacle_province = { 
							remove_building = troll_cave_cleared 
						}
					}
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0062.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0062.failure.toast.t

					hidden_effect = { scope:obstacle_province = { remove_building = troll_cave_cleared } }

					increase_wounds_effect = { REASON = troll }
					add_trait = maimed
				}
			}
		}
	}

	option = { # You, Knight, charge
		name = wasteland_blocker.0062.b
		skill = prowess
		trigger = { 
			any_knight = {
				is_ai = yes
				count > 0
			}
		}
		scope:knight = {
			duel = {
				skill = prowess 
				value = 15
				30 = { 
					compare_modifier = {
						value = scope:duel_value
						multiplier = 2
						min = -10
					}
					desc = wasteland_blocker.0062.b.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:knight
							title = wasteland_blocker.0062.success.toast.t
							hidden_effect = {
								scope:obstacle_province = { 
									remove_building = troll_cave_cleared
								}
							}
							scope:knight = {
								if = {
									limit = {
										exists = accolade
										accolade = { is_accolade_active = yes }
									}
									accolade = { add_glory = major_glory_gain }
								}
							}
						}
					}
					
				}
				30 = {
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = wasteland_blocker.0062.b.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:knight
							title = wasteland_blocker.0062.failure.toast.t
	
							hidden_effect = { scope:obstacle_province = { remove_building = troll_cave_cleared } }
							scope:knight = {
								increase_wounds_effect = { REASON = troll }						
							}
						}
					}
				}
			}
		}
	}

	option = { # No, thank you
		name = wasteland_blocker.0062.c
		hidden_effect = { scope:obstacle_province = { remove_building = troll_cave_cleared } }
		scope:obstacle_province = { add_building = troll_cave }

		add_prestige = medium_prestige_loss
	}
}

wasteland_blocker.0063 = { # A Bargain (icy, ispanets)
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0063.t
	desc = wasteland_blocker.0063.desc
	theme = trollshaws

	left_portrait = {
		character = root
		animation = personality_bold
	}
	
	option = { # Bargain
		name = wasteland_blocker.0063.a
		skill = stewardship
		duel = {
			skill = stewardship
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0063.a.duel_success
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0063.success.toast.t
					hidden_effect = {
						scope:obstacle_province = { 
							remove_building = troll_cave_cleared
						}
					}
					remove_short_term_gold = medium_gold_value
					
					stress_impact = {
						brave = minor_stress_gain
						wrathful = minor_stress_gain			
						vengeful = minor_stress_gain
					}
					add_prestige = minor_prestige_loss
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0063.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0063.failure.toast.t

					hidden_effect = { scope:obstacle_province = { remove_building = troll_cave_cleared } }

					scope:obstacle_province = { add_building = troll_cave }

					stress_impact = {
						brave = medium_stress_gain
						wrathful = medium_stress_gain			
						vengeful = minor_stress_gain
					}
					add_prestige = medium_prestige_loss
				}
			}
		}
	}

	option = { # Warriors, charge!
		name = wasteland_blocker.0063.b
		skill = martial
		duel = {
			skill = martial 
			value = 15
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0063.b.duel_success
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0063.success.toast.t
					hidden_effect = {
						scope:obstacle_province = { 
							remove_building = troll_cave_cleared
						}
					}
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0063.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0063.failure.toast.t

					hidden_effect = { scope:obstacle_province = { remove_building = troll_cave_cleared } }

					scope:obstacle_province = { add_building = troll_cave }

					increase_wounds_effect = { REASON = troll }
				}
			}
		}
	}

	option = { # Burn the hall
		name = wasteland_blocker.0063.c
		hidden_effect = { scope:obstacle_province = { remove_building = troll_cave_cleared } }
		remove_short_term_gold = major_gold_value
	}
}

wasteland_blocker.0064 = { # Too much trolling (icy, ispanets)
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0064.t
	desc = wasteland_blocker.0064.desc
	theme = trollshaws

	left_portrait = {
		character = root
		animation = personality_bold
	}
	
	option = { # Charge!
		name = wasteland_blocker.0064.a
		skill = prowess
		duel = {
			skill = prowess 
			value = 20
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0064.a.duel_success
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0064.success.toast.t
					hidden_effect = {
						scope:obstacle_province = { 
							remove_building = troll_cave_cleared
						}
					}
					add_prestige = major_prestige_gain
					if = {
						limit = { has_trait = lifestyle_blademaster }
						add_trait_xp = {
							trait = lifestyle_blademaster
							value = 10
						}
					}
					else = {
							add_trait = lifestyle_hunter
					}
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0064.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0064.failure.toast.t

					hidden_effect = { scope:obstacle_province = { remove_building = troll_cave_cleared } }

					scope:obstacle_province = { add_building = troll_cave }

					increase_wounds_effect = { REASON = troll }
				}
			}
		}
	}

	option = { # Sunrise!
		name = wasteland_blocker.0064.b
		skill = diplomacy
		duel = {
			skill = diplomacy
			value = 15
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0064.b.duel_success
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0064.success.toast.t
					hidden_effect = {
						scope:obstacle_province = { 
							remove_building = troll_cave_cleared
						}
					}
					add_prestige = major_prestige_gain
					add_diplomacy_lifestyle_xp = major_lifestyle_xp
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0064.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0064.failure.toast.t

					hidden_effect = { scope:obstacle_province = { remove_building = troll_cave_cleared } }

					scope:obstacle_province = { add_building = troll_cave }

					increase_wounds_effect = { REASON = troll }
					add_prestige = minor_prestige_loss
				}
			}
		}
	}

	option = { # We are just leaving
		name = wasteland_blocker.0064.c
		hidden_effect = { scope:obstacle_province = { remove_building = troll_cave_cleared } }
		scope:obstacle_province = { add_building = troll_cave }
		add_prestige = medium_prestige_loss
	}
}

#### Haunted eregion ruins  - triggered randomly if the blocker is present (before being removed)
wasteland_blocker.0071 = { # Noises and shadows (ispanets)
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0071.t
	desc = wasteland_blocker.0071.desc
	theme = eregion_crebain

	left_portrait = {
		character = root
		animation = personality_bold
	}

	right_portrait = {
		character = scope:knight
		animation = personality_bold
	}

	immediate = {
		random_knight = {
			limit = { is_ai = yes }
			save_scope_as = knight
		}
	}

	option = { # Elf only!
		name = wasteland_blocker.0071.a
		trigger = {
			root = {
				is_elf = yes
			}
		}
		send_interface_toast = {
			left_icon = root
			title = wasteland_blocker.0071.success.toast.t
			add_piety = minor_piety_loss
		}		
	}

	option = { # Rest
		name = wasteland_blocker.0071.b
		skill = prowess
		trigger = {
			root = {
				is_elf = no
			}
		}
		scope:knight = {
			duel = {
				skill = prowess
				value = 25
				30 = { 
					compare_modifier = {
						value = scope:duel_value
						multiplier = 2
						min = -10
					}
					desc = wasteland_blocker.0071.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							title = wasteland_blocker.0071.success.toast.t
							add_piety = major_piety_loss
						}
					}
				}
				30 = {
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = wasteland_blocker.0071.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:knight
							title = wasteland_blocker.0071.failure.toast.t							
							add_piety = major_piety_loss
							scope:knight = {
								add_trait = possessed_1
							}
						}
					}
				}
			}
		}
	}

	option = { # Leave!
		name = wasteland_blocker.0071.c
		make_settlement_county_wilderness = {
			COUNTY = scope:obstacle_province.county
		}
	}
}

# Haunted Eregion Ruins
wasteland_blocker.0075 = { # 
	content_source = realms_dlc
	type = character_event
	title = wasteland_blocker.0075.t
	desc = wasteland_blocker.0075.desc
	theme = eregion_city

	left_portrait = {
		character = root
		animation = personality_bold
	}

	
	right_portrait = {
		character = scope:colonist
		animation = personality_coward
	}

	immediate = {
        create_character = {
            template = local_artisan_template
            culture = root.culture
            faith = root.faith
			location = scope:obstacle_province
            gender_female_chance = 50
            save_scope_as = colonist
        }
	}
	
	option = { # Diplomacy: convincing the colonists to stay
		name = wasteland_blocker.0075.a
		skill = diplomacy
		duel = {
			skill = diplomacy 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0075.a.duel_success
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0075.success.toast.t
					hidden_effect = {
						scope:obstacle_province = { 
							remove_building = ghosts_eregion_cleared
						}
					}
					
					add_prestige = minor_prestige_gain
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0075.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0075.success.toast.t
					hidden_effect = {
						scope:obstacle_province = { 
							remove_building = ghosts_eregion_cleared
						}
					}
					
					scope:obstacle_province = { add_building = ghosts_eregion }
					add_piety = minor_piety_loss
				}
			}
		}
	}

	option = { # Stewardship check
		name = wasteland_blocker.0075.b
		skill = stewardship
		duel = {
			skill = stewardship 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0075.b.duel_success
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0075.success.toast.t
					hidden_effect = {
						scope:obstacle_province = { 
							remove_building = ghosts_eregion_cleared
						}
					}
					
					add_gold = medium_gold_value
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0075.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0075.success.toast.t
					hidden_effect = {
						scope:obstacle_province = { 
							remove_building = ghosts_eregion_cleared
						}
					}
					
					scope:obstacle_province = { add_building = ghosts_eregion }
					
					add_gold = minor_gold_value
					add_piety = minor_piety_loss
				}
			}
		}
	}

	option = { # Piety/Learning check
		name = wasteland_blocker.0075.c
		skill = learning
		duel = {
			skill = learning 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0075.c.duel_success
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0075.success.toast.t
					hidden_effect = {
						scope:obstacle_province = { 
							remove_building = ghosts_eregion_cleared
						}
					}
					
					add_piety = medium_piety_gain
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0075.c.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0075.success.toast.t
					hidden_effect = {
						scope:obstacle_province = { 
							remove_building = ghosts_eregion_cleared
						}
					}
					
					scope:obstacle_province = { add_building = ghosts_eregion }
					
					add_piety = medium_gold_loss
				}
			}
		}
	}

	option = { # Leave!
		name = wasteland_blocker.0075.d
		make_settlement_county_wilderness = {
			COUNTY = scope:obstacle_province.county
		}
	}

	after = {
        scope:colonist = {
            silent_disappearance_effect = yes
        }
    }
}

