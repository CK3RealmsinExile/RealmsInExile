namespace = orc_feast

#   orc_feast.0001  -   The Orc Draught  - Sakkar 

scripted_trigger orc_feast_0001_orc_trigger = {
    AND = {
        OR = {
            is_goblin = yes
            is_orc = yes
        }
        is_adult = yes
        is_ai = yes
        NOT = { this = root }
    } 
}

orc_feast.0001 = {  # The Orc Draught
    content_source = realms_dlc

    type = activity_event
	title = orc_feast.0001.t
    desc = orc_feast.0001.desc
    theme = feast_activity

	left_portrait = {
		character = root
		animation = happiness
	}

    right_portrait = {
        character = scope:orc_participant
        animation = laugh
    }

    cooldown = { years = 1 }

    trigger = {
        OR = {
            is_goblin = yes
            is_orc = yes
        }
        exist = scope:orc_participant
    }

    weight_multiplier = {
		base = 1
		
		# Some characters are more prone to drinking.
		## Gluttonous.
		modifier = {
			add = 0.25
			has_trait = gluttonous
		}
        ## Drunkard.
		modifier = {
			add = 0.25
			has_trait = drunkard
		}
	}

    immediate = {
        involved_activity = {
			random_attending_character = {
				limit = { orc_feast_0001_orc_trigger = yes }
				save_scope_as = orc_participant
			}  
        }      
    }

    option = {  # drink more brew
        name = orc_feast.0001.a

        random_list = {
            30 = {
                add_character_modifier = {
                    modifier = empowered_by_orc_brew_1_modifier
                    year = 1
                }
            }

            30 = {
                add_character_modifier = {
                    modifier = empowered_by_orc_brew_2_modifier
                    year = 1
                }
            }

            30 = {
                add_character_modifier = {
                    modifier = empowered_by_orc_brew_3_modifier
                    year = 1
                }
            }

            10 = {
                add_character_modifier = {
                    modifier = empowered_by_orc_brew_4_modifier
                    year = 1
                }
            }            
        }

        random_list = {
            95 = { # nothing happens
            }

            5 = { # adding drunkard trait
                add_trait = drunkard
            }
        }
    }

    option = {  # one was enough
        name = orc_feast.0001.b

        stress_impact = {
            temperate = minor_stress_loss
            gluttonous = minor_stress_gain	
            drunkard = medium_stress_gain	
        }
    }
}

