# Events for the Grand Tour activity

namespace = lotr_tour_events

######################
## Vassal Events
######################

# Host Dinner Elf event 
lotr_tour_events.0100 = {
	type = activity_event
	title = lotr_tour_events.0100.t
	desc = lotr_tour_events.0100.desc
	theme = host_dinner
	left_portrait = {
		character = root
		animation = toast
	}
	right_portrait = {
		character = scope:visiting_liege
		animation = personality_bold
	}
	#cooldown = { years = 5 }
	trigger = { 
		is_ai = no 
		is_elf = yes
	}

	option = { # I'll toast to good hope!
		name = lotr_tour_events.0100.a 
		add_elven_hope_effect = { VALUE = minor_elven_hope_gain HOPE_EFFECT = effect_elven_hope_tour_dinner }
	}

	option = { # I'll toast to my liege's valor!
		name = lotr_tour_events.0100.b
		add_prestige = minor_prestige_gain
		add_hook = {
		  	target = scope:visiting_liege
		  	type = favor_hook
		}
	}
}

# Tour grounds vassal events - See what strong walls we have? 
lotr_tour_events.0101 = {
	type = activity_event
	title = lotr_tour_events.0101.t
	desc = lotr_tour_events.0101.desc
	theme = tour_grounds
	left_portrait = {
		character = root
		animation = personality_bold
	}
	right_portrait = {
		character = scope:visiting_liege
		animation = survey
	}
	trigger = { 
		is_ai = no 
		is_elf = yes
	}

	option = { # See? No evil can come in here.
		name = lotr_tour_events.0101.a 
		add_elven_hope_effect = { VALUE = minor_elven_hope_gain HOPE_EFFECT = effect_elven_hope_tour_grounds }
	}

	option = { # Ask your liege for money to keep the walls intact
		name = lotr_tour_events.0101.b
		scope:visiting_liege = {
			pay_short_term_gold = {
				target = root
				gold = scope:visiting_liege.minor_gold_value
			}
		}
	}
}

# Cultural festival vassal event - a play from the First Age
lotr_tour_events.0102 = {
	type = activity_event
	title = lotr_tour_events.0102.t
	desc = lotr_tour_events.0102.desc
	theme = cultural_festival
	left_portrait = {
		character = root
		animation = storyteller
	}
	right_portrait = {
		character = scope:visiting_liege
		animation = happiness
	}
	trigger = { 
		is_ai = no 
		is_elf = yes
	}

	option = { # And the crowd goes wild!
		name = lotr_tour_events.0102.a 
		add_elven_hope_effect = { VALUE = minor_elven_hope_gain HOPE_EFFECT = effect_elven_hope_tour_play }
	}

	option = { # Get an income modifier for your capital
		name = lotr_tour_events.0102.b
		root.capital_county ?= {
			add_county_modifier = {
				modifier = elven_cultural_festival_modifier
				years = 10
			}
		}
	}
}

######################
## Liege Events
######################

# Host a dinner liege event
lotr_tour_events.0500 = {
	type = activity_event
	title = lotr_tour_events.0500.t
	desc = lotr_tour_events.0500.desc
	theme = host_dinner
	left_portrait = {
		character = root
		animation = pondering
	}
	right_portrait = {
		character = scope:stop_host_scope
		animation = toast
	}
	cooldown = { years = 5 }
	trigger = { 
		is_ai = no 
		has_activity_intent = inspire_hope_intent
	}

	option = { # I'll sing a song to inspire the locals
		name = lotr_tour_events.0500.a 
		add_elven_hope_effect = { VALUE = minor_elven_hope_gain HOPE_EFFECT = effect_elven_hope_tour_dinner }
	}

	option = { # I'll placate my vassal.
		name = lotr_tour_events.0500.b
		add_legitimacy = minor_legitimacy_gain
		add_hook = {
		  	target = scope:stop_host_scope
		  	type = favor_hook
		}
	}
}

# Tour grounds liege event
lotr_tour_events.0501 = {
	type = activity_event
	title = lotr_tour_events.0501.t
	desc = lotr_tour_events.0501.desc
	theme = tour_grounds
	left_portrait = {
		character = root
		animation = survey
	}
	right_portrait = {
		character = scope:stop_host_scope
		animation = personality_bold
	}
	cooldown = { years = 5 }
	trigger = { 
		is_ai = no 
		has_activity_intent = inspire_hope_intent
	}

	option = { # Yeah this place is pretty well defended
		name = lotr_tour_events.0500.a 
		add_elven_hope_effect = { VALUE = minor_elven_hope_gain HOPE_EFFECT = effect_elven_hope_tour_grounds }
	}

	option = { # Pay your vassal to gain development
		name = lotr_tour_events.0500.b
		add_legitimacy = minor_legitimacy_gain
		root = {
			pay_short_term_gold = {
				target = root
				gold = scope:stop_host_scope.minor_gold_value
			}
		}
		scope:stop_host_scope.capital_county ?= {
			change_development_progress_with_overflow = 200
		}
	}
}

# Cultural festival liege event
lotr_tour_events.0502 = {
	type = activity_event
	title = lotr_tour_events.0502.t
	desc = lotr_tour_events.0502.desc
	theme = cultural_festival
	left_portrait = {
		character = root
		animation = interested
	}
	right_portrait = {
		character = scope:stop_host_scope
		animation = dancing
	}
	cooldown = { years = 5 }
	trigger = { 
		is_ai = no 
		has_activity_intent = inspire_hope_intent
	}

	option = { # What a cool performance!
		name = lotr_tour_events.0500.a 
		add_elven_hope_effect = { VALUE = minor_elven_hope_gain HOPE_EFFECT = effect_elven_hope_tour_play }
	}

	option = { # Well done guys, you could make a living with this
		name = lotr_tour_events.0500.b
		add_prestige = minor_prestige_gain
		scope:stop_host_scope.capital_county ?= {
			add_county_modifier = {
				modifier = elven_cultural_festival_modifier
				years = 10
			}
		}
	}
}