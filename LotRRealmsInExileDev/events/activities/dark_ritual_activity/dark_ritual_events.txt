###############################################################################################
# FORCES OF EVIL: SORCERY
# by Gseg
###############################################################################################
# evil.0001 = Select Place of Ritual
# a) Temple
# b) The Wilds
# c) Home
###############################################################################################
# evil.0010 & evil.0011 = Select Temple between available holy sites
# a) Temple 1 = Less cooldown after the spell
# b) Temple 2 = Reduced Piety cost.
# c) Temple 3 = Higher chance of Critical Succes.
# d) Temple 4 = The cost in Piety will be replaced by Gold.
# e) Temple 5 = Lower chance of Failure.
###############################################################################################
# evil.0012 = Select kind of Sorcery
# a) Call the Horde (minor spells to recruit and reforce) - min cost: 250
# b) Summoning (Major spell to gain different modifiers) - min cost: 300
# c) Cast a Spell of Power (Spells of Destruction) - min cost: 600
# d) Malicious Artifacts (Permanent Modifiers in the futue with artifacts?) - min cost: 1000
# e) Houses of Lamentation (Nazgul Spells) - min cost: 300
# f) Piercing, Opening and Treachery (Deception spells) - min cost: 300
# g) Second Darkness (Great Spells) - min cost: 1000
###############################################################################################
# evil.0014 = Options for Call the Horde
# Call the Horde, Mark of War, Assemble the Warchiefs.
# evil.0015 = Options for Summoning
# Rise the Dead, Invoke Watchers, Summon a being of Darkness.
# evil.0016 = Options for Spells
# Cracks of the Earth, Draw forth Dark Vitality, Words of Power.
# evil.0017 = Options for Malicious Artifacts
# Forge Morgul Weapons.
# evil.0018 = Options for Houses of Lamentation
# Pursue Them Relentlessly, Black Breath, Nazgul Restoration.
# evil.0019 = Options for Piercing, Opening and Treachery
# Ambassador of Darkness, Shapeshifting, Reveal the Secrets.
# evil.0020 = Options for Second Darkness
# Cast the Darkness, Abnormal Winter, The Plague.
###############################################################################################
# evil.0021 = Critical Failure (Empty, needs to be added as negative effects related to the sorcery WIP)
# evil.0022 = Failure (The sorcery fails, nothing happens)
# evil.0023 = Success (The normal effect)
# evil.0024 = Critical Succes (Better effects for all the spells!)
###############################################################################################
# ((W I P))
# - ADD TRAINING SORCERER CHAIN
# - ADD MORE SPELLS AND HAVE FUN GUYS :D
###############################################################################################
# NOTES:
# - All the modifiers of this txt are in "01_magic_modifiers.txt"
# - This event is triggered by the decision "lotr_dark_ritual_decision.txt"
###############################################################################################

namespace = evil

evil.0001 = {
	title = evil.0001.t
	desc = evil.0001.desc
	theme = learning_theology_focus
	left_portrait = {
		character = root
		animation = personality_dishonorable
	}

	override_background = { event_background = throne_room_tribal }

	immediate = {
		play_music_cue = "mx_cue_illness"

		add_character_flag = {
			flag = planning_an_activity
			days = 30
		}

		root.location = {
			save_scope_as = background_terrain_scope
			barony = { save_scope_as = home_location }
		}

		set_up_holy_sites_for_selection_effect = yes
	}

	option = { # Sacred Place
		trigger = {
			OR = {
				scope:holy_site_1 = {county.holder = root}
				scope:holy_site_2 = {county.holder = root}
				scope:holy_site_3 = {county.holder = root}
				scope:holy_site_4 = {county.holder = root}
				scope:holy_site_5 = {county.holder = root}
			}
		}

		name = evil.0001.a
		custom_tooltip = evil.0001.a.tt
		set_variable = {name = ritual_location value = 1}

		if = {
			limit = {
				OR = {
					scope:holy_site_1 = {county.holder = root}
					scope:holy_site_2 = {county.holder = root}
					scope:holy_site_3 = {county.holder = root}
				}
			}
			trigger_event = evil.0010
		}
		else = {
			trigger_event = evil.0011
		}

		ai_chance = {
			base = 100
		}
	}

	option = { # Wilds
		name = evil.0001.b
		custom_tooltip = evil.0001.b.tt
		set_variable = {name = ritual_location value = 2}

		trigger_event = evil.0012

		ai_chance = {
			base = 1
		}
	}

	option = { # Home
		name = evil.0001.c
		custom_tooltip = evil.0001.c.tt

		set_variable = {name = ritual_location value = 3}
		
		trigger_event = evil.0012

		ai_chance = {
			base = 1
		}
	}

	option = { # Maybe not
		name = evil.0001.d
		custom_tooltip = evil.0001.d.tt

		ai_chance = {
			base = 0
		}
		remove_character_flag = planning_an_activity
		#scope:activity = {
		#	complete_activity = yes
		#}
	}

}

evil.0010 = {	##################################################################################### THE SACRED PLACES (Page 1)
	title = evil.0010.t
	desc = evil.0010.desc
	theme = learning_theology_focus
	left_portrait = {
		character = root
		animation = personality_dishonorable
	}

	override_background = { event_background = throne_room_tribal }

	immediate = {

		set_up_holy_sites_for_selection_effect = yes

		set_variable = {name = numtemp value = 0}
		faith = {
 			every_holy_site = {
    			root = {change_variable = {name = numtemp add = 1 }}
  			}
		}

	}

	option = { # Sacred Place 1
		trigger = {
			faith = {
				scope:holy_site_1 = {
					OR = {
						county.holder = root
						county.holder.top_liege = { this = root }
					}
				}
			}
		}
		name = evil.0010.a
		custom_tooltip = evil.0010.a.tt
		set_variable = {name = temple value = 1}
		trigger_event = evil.0012
	}

	option = { # Sacred Place 2
		trigger = {
			var:numtemp >= 2
			faith = {
				scope:holy_site_2 = {
					OR = {
						county.holder = root
						county.holder.top_liege = { this = root }
					}
				}
			}
		}
		name = evil.0010.b
		custom_tooltip = evil.0010.b.tt
		set_variable = {name = temple value = 2}
		trigger_event = evil.0012
	}

	option = { # Sacred Place 3
		trigger = {
			var:numtemp >= 3
			faith = {
				scope:holy_site_3 = {
					OR = {
						county.holder = root
						county.holder.top_liege = { this = root }
					}
				}
			}
		}
		name = evil.0010.c
		custom_tooltip = evil.0010.c.tt
		set_variable = {name = temple value = 3}
		trigger_event = evil.0012
	}

	option = { # Switch to the next event
		trigger = {
			var:numtemp > 3
			OR = {
				scope:holy_site_4 = {county.holder = root}
				scope:holy_site_5 = {county.holder = root}
			}
		}
		name = evil.0010.d
		custom_tooltip = evil.0010.d.tt
		trigger_event = evil.0011
	}

	option = { # Maybe not...
		trigger = {
			NOT = {
				scope:holy_site_4 = {county.holder = root}
				scope:holy_site_5 = {county.holder = root}
			}
		}
		remove_character_flag = planning_an_activity
		#scope:activity = {
		#	complete_activity = yes
		#}
		name = evil.0010.e
		custom_tooltip = evil.0010.e.tt
	}

}

evil.0011 = {	##################################################################################### THE SACRED PLACES (2nd Page)
	title = evil.0011.t
	desc = evil.0011.desc
	theme = learning_theology_focus
	left_portrait = {
		character = root
		animation = personality_dishonorable
	}

	override_background = { event_background = throne_room_tribal }

	immediate = {

		set_up_holy_sites_for_selection_effect = yes

	}

	option = { # Sacred Place 4
		trigger = {
			exists = var:numtemp
			var:numtemp >= 4
			faith = {
				scope:holy_site_4 = {
					OR = {
						county.holder = root
						county.holder.top_liege = { this = root }
					}
				}
			}
		}
		name = evil.0011.a
		custom_tooltip = evil.0011.a.tt
		set_variable = {name = temple value = 4}
		trigger_event = evil.0012
	}

	option = { # Sacred Place 5
		trigger = {
			exists = var:numtemp
			var:numtemp >= 5
			faith = {
				scope:holy_site_5 = {
					OR = {
						county.holder = root
						county.holder.top_liege = { this = root }
					}
				}
			}
		}
		name = evil.0011.b
		custom_tooltip = evil.0011.b.tt
		set_variable = {name = temple value = 5}
		trigger_event = evil.0012
	}

	option = { # Switch to the next event
		name = evil.0011.c
		custom_tooltip = evil.0011.c.tt
		trigger = {
			OR = {
				scope:holy_site_1 = {county.holder = root}
				scope:holy_site_2 = {county.holder = root}
				scope:holy_site_3 = {county.holder = root}
			}
		}
		trigger_event = evil.0010
	}

	option = { # Maybe not...
		name = evil.0011.d
		custom_tooltip = evil.0011.d.tt
		remove_character_flag = planning_an_activity
		#scope:activity = {
		#	complete_activity = yes
		#}
	}

}

evil.0012 = {	##################################################################################### SELECT TYPE OF MAGIC (1st Page)
	title = evil.0012.t
	desc = evil.0012.desc
	theme = learning_theology_focus
	left_portrait = {
		character = root
		animation = schadenfreude
	}

	override_background = {
        trigger = { var:ritual_location = 1 }
        event_background = temple
    }
    override_background = {
        trigger = { var:ritual_location = 2 }
        event_background = wilderness_mountains
    }
    override_background = {
        trigger = { var:ritual_location = 3 }
        event_background = sitting_room
    }

    immediate = {}

	option = {	# Call the Horde
		name = evil.0012.a
		custom_tooltip = evil.0012.a.tt

		trigger = {
			OR = {
				has_trait = maiar
				has_trait = istari
				has_trait = nazgul
				has_trait = sorcerer_3
				has_trait = sorcerer_2
				has_trait = sorcerer_1
			}
			OR = {
				piety > 250
				AND = {gold > 250 var:temple = 4}
			}
		}

		trait = maiar
		trait = istari
		trait = nazgul
		trait = sorcerer_3
		trait = sorcerer_2
		trait = sorcerer_1

		set_variable = {name = sorcery value = 1}
		trigger_event = evil.0014
		ai_chance = {
			base = 10
		}
	}

	option = {	# Summoning Ritual
		name = evil.0012.b
		custom_tooltip = evil.0012.b.tt

		trigger = {
			OR = {
				has_trait = maiar
				has_trait = istari
				has_trait = nazgul
				has_trait = sorcerer_3
				has_trait = sorcerer_2
			}
			OR = {
				piety > 300
				AND = {gold > 300 var:temple = 4}
			}
		}

		trait = maiar
		trait = istari
		trait = nazgul
		trait = sorcerer_3
		trait = sorcerer_2

		set_variable = {name = sorcery value = 2}
		trigger_event = evil.0015
		ai_chance = {
			base = 20
		}
	}

	option = {	# Spell of Power
		name = evil.0012.c
		custom_tooltip = evil.0012.c.tt

		trigger = {
			OR = {
				has_trait = maiar
				has_trait = istari
				has_trait = sorcerer_3
				has_trait = sorcerer_2
			}
			OR = {
				piety > 600
				AND = {gold > 600 var:temple = 4}
			}
		}

		trait = maiar
		trait = istari
		trait = sorcerer_3
		trait = sorcerer_2

		set_variable = {name = sorcery value = 3}
		trigger_event = evil.0016	
		ai_chance = {
			base = 30
		}
	}

	option = {	# Malicious Artifacts
		name = evil.0012.d
		custom_tooltip = evil.0012.d.tt

		trigger = {
			OR = {
				has_trait = maiar
				has_trait = istari
				has_trait = sorcerer_3
				has_trait = sorcerer_2
			}
			OR = {
				piety > 1000
				AND = {gold > 1000 var:temple = 4}
			}
		}

		trait = maiar
		trait = istari
		trait = sorcerer_3
		trait = sorcerer_2

		set_variable = {name = sorcery value = 4}
		trigger_event = evil.0017	
		ai_chance = {
			base = 10
		}
	}

	option = { # Switch to the next event
		name = evil.0012.e
		custom_tooltip = evil.0012.e.tt
		trigger_event = evil.0013
		ai_chance = {
			base = 100
		}
	}

	option = { # Maybe not...
		name = evil.0012.f
		custom_tooltip = evil.0012.f.tt
		trigger = {
			has_trait = sorcerer_1
		}
		remove_character_flag = planning_an_activity
		#scope:activity = {
		#	complete_activity = yes
		#}
	}
}

evil.0013 = {	##################################################################################### SELECT TYPE OF MAGIC (2nd Page)
	title = evil.0013.t
	desc = evil.0013.desc
	theme = learning_theology_focus
	left_portrait = {
		character = root
		animation = schadenfreude
	}

	override_background = {
        trigger = { var:ritual_location = 1 }
        event_background = temple
    }
    override_background = {
        trigger = { var:ritual_location = 2 }
        event_background = wilderness_mountains
    }
    override_background = {
        trigger = { var:ritual_location = 3 }
        event_background = sitting_room
    }

    immediate = {}

	option = {	# Houses of Lamentation
		name = evil.0013.a
		custom_tooltip = evil.0013.a.tt

		trigger = {
			has_trait = nazgul
			OR = {
				piety > 300
				AND = {gold > 300 var:temple = 4}
			}
		}

		trait = nazgul

		set_variable = {name = sorcery value = 5}
		trigger_event = evil.0018	
		ai_chance = {
			base = 10
		}
	}

	option = {	# Piercing, Opening and Treachery
		name = evil.0013.b
		custom_tooltip = evil.0013.b.tt

		trigger = {
			OR = {
				has_trait = maiar
				has_trait = istari
				has_trait = nazgul
				has_trait = sorcerer_3
				has_trait = sorcerer_2
				has_trait = sorcerer_1
			}
			OR = {
				piety > 300
				AND = {gold > 300 var:temple = 4}
			}
		}

		trait = maiar
		trait = istari
		trait = nazgul
		trait = sorcerer_3
		trait = sorcerer_2
		trait = sorcerer_1

		set_variable = {name = sorcery value = 6}
		trigger_event = evil.0019	
		ai_chance = {
			base = 20
		}
	}

	option = {	# Second Darkness
		name = evil.0013.c
		custom_tooltip = evil.0013.c.tt

		trigger = {
			OR = {
				has_trait = maiar
				has_trait = istari
				has_trait = sorcerer_3
			}
			OR = {
				piety > 1000
				AND = {gold > 1000 var:temple = 4}
			}
		}

		trait = maiar
		trait = istari
		trait = sorcerer_3

		set_variable = {name = sorcery value = 7}
		trigger_event = evil.0020	
		ai_chance = {
			base = 50
		}
	}

	option = { # Switch to the next event
		name = evil.0013.d
		custom_tooltip = evil.0013.d.tt
		trigger_event = evil.0012
	}

	option = { # Maybe not...
		name = evil.0013.e
		custom_tooltip = evil.0013.e.tt
		remove_character_flag = planning_an_activity
		#scope:activity = {
		#	complete_activity = yes
		#}
	}
}

evil.0014 = {	##################################################################################### RISE THE HORDE
	title = evil.0014.t
	desc = evil.0014.desc
	theme = learning_theology_focus
	left_portrait = {
		character = root
		animation = schadenfreude
	}

	override_background = {
        trigger = { var:ritual_location = 1 }
        event_background = temple
    }
    override_background = {
        trigger = { var:ritual_location = 2 }
        event_background = wilderness_mountains
    }
    override_background = {
        trigger = { var:ritual_location = 3 }
        event_background = sitting_room
    }

	immediate = {
		set_variable = {name = low_mod value = 0}
		set_variable = {name = high_mod value = 0}
		if = {
			limit = {exists = var:temple var:temple = 5}
			set_variable = {name = low_mod value = -10}
		}
		else_if = {
			limit = {exists = var:temple var:temple = 3}
			set_variable = {name = high_mod value = 10}
		}
	}

	option = {	# Call The Horde
		name = evil.0014.a
		custom_tooltip = evil.0014.a.tt

		set_variable = {name = magic value = 1}

		if = {limit = {exists = var:temple var:temple = 4}
			remove_short_term_gold = {
				value = 250
			}
		}
		else = {
			add_piety = {
				value = -250
				if = {limit = {exists = var:temple var:temple = 2} multiply = 0.8 subtract = 1}
			}
		}
		hidden_effect = {
		switch = {
			trigger = var:ritual_location
			1 = {
				random_list = {
					25 = {	# Failure
						modifier = {add = var:low_mod}
						trigger_event = {
							id = evil.0022
							days = { 15 30 }
						}
					}
					50 = {	# Succes
						trigger_event = {
							id = evil.0023
							days = { 15 30 }
						}
					}
					25 = {	# Critical Succes
						modifier = {add = var:high_mod}
						trigger_event = {
							id = evil.0024
							days = { 15 30 }
						}
					}
				}
			}
			2 = {
				random_list = {
					25 = {	# Critical Failure
						trigger_event = {
							id = evil.0021
							days = { 15 30 }
						}
					}
					75 = {	# Failure
						trigger_event = {
							id = evil.0022
							days = { 15 30 }
						}
					}
					75 = {	# Succes
						trigger_event = {
							id = evil.0023
							days = { 15 30 }
						}
					}
					25 = {	# Critical Succes
						trigger_event = {
							id = evil.0024
							days = { 15 30 }
						}
					}
				}
			}
			3 = {
				random_list = {
					50 = {	# Failure
						trigger_event = {
							id = evil.0022
							days = { 15 30 }
						}
					}
					50 = {	# Succes
						trigger_event = {
							id = evil.0023
							days = { 15 30 }
						}
					}
				}
			}
		}}
	}

	option = {	# Invigorate the Horde
		name = evil.0014.b
		custom_tooltip = evil.0014.b.tt

		set_variable = {name = magic value = 2}

		if = {limit = {exists = var:temple var:temple = 4}
			remove_short_term_gold = {
				value = 250
			}
		}
		else = {
			add_piety = {
				value = -250
				if = {limit = {exists = var:temple var:temple = 2} multiply = 0.8 subtract = 1}
			}
		}
		hidden_effect = {
		switch = {
			trigger = var:ritual_location
			1 = {
				random_list = {
					25 = {	# Failure
						modifier = {add = var:low_mod}
						trigger_event = evil.0022	
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Succes
						modifier = {add = var:high_mod}
						trigger_event = evil.0024
					}
				}
			}
			2 = {
				random_list = {
					25 = {	# Critical Failure
						trigger_event = evil.0021
					}
					75 = {	# Failure
						trigger_event = evil.0022
					}
					75 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Success
						trigger_event = evil.0024
					}
				}
			}
			3 = {
				random_list = {
					50 = {	# Failure
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
				}
			}
		}}
	}

	option = {	# Assemble the Warlords
		name = evil.0014.c
		custom_tooltip = evil.0014.c.tt

		set_variable = {name = magic value = 3}

		if = {limit = {exists = var:temple var:temple = 4}
			remove_short_term_gold = {
				value = 250
			}
		}
		else = {
			add_piety = {
				value = -250
				if = {limit = {exists = var:temple var:temple = 2} multiply = 0.8 subtract = 1}
			}
		}
		hidden_effect = {
		switch = {
			trigger = var:ritual_location
			1 = {
				random_list = {
					25 = {	# Failure
						modifier = {add = var:low_mod}
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Succes
						modifier = {add = var:high_mod}
						trigger_event = evil.0024
					}
				}
			}
			2 = {
				random_list = {
					25 = {	# Critical Failure
						trigger_event = evil.0021
					}
					75 = {	# Failure
						trigger_event = evil.0022
					}
					75 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Success
						trigger_event = evil.0024
					}
				}
			}
			3 = {
				random_list = {
					50 = {	# Failure
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
				}
			}
		}}
	}

	option = {	# It's not what i need
		name = evil.0014.d
		custom_tooltip = evil.0014.d.tt
		trigger_event = evil.0012
	}

}

evil.0015 = {	##################################################################################### SUMMONING RITUAL
	title = evil.0015.t
	desc = evil.0015.desc
	theme = learning_theology_focus
	left_portrait = {
		character = root
		animation = schadenfreude
	}

	override_background = {
        trigger = { var:ritual_location = 1 }
        event_background = temple
    }
    override_background = {
        trigger = { var:ritual_location = 2 }
        event_background = wilderness_mountains
    }
    override_background = {
        trigger = { var:ritual_location = 3 }
        event_background = sitting_room
    }

	immediate = {
		set_variable = {name = low_mod value = 0}
		set_variable = {name = high_mod value = 0}
		if = {
			limit = {exists = var:temple var:temple = 5}
			set_variable = {name = low_mod value = -10}
		}
		else_if = {
			limit = {exists = var:temple var:temple = 3}
			set_variable = {name = high_mod value = 10}
		}
	}

	option = {	# Summoning the Wraiths
		name = evil.0015.a
		custom_tooltip = evil.0015.a.tt

		trigger = {
			OR = {
				has_trait = maiar
				has_trait = istari
				has_trait = sorcerer_3
				has_trait = sorcerer_2
			}
			OR = {
				piety > 300
				AND = {gold > 300 var:temple = 4}
			}
		}

		set_variable = {name = magic value = 1}

		if = {limit = {exists = var:temple var:temple = 4}
			remove_short_term_gold = {
				value = 300
			}
		}
		else = {
			add_piety = {
				value = -300
				if = {limit = {exists = var:temple var:temple = 2} multiply = 0.8 subtract = 1}
			}
		}
		hidden_effect = {
		switch = {
			trigger = var:ritual_location
			1 = {
				random_list = {
					25 = {	# Failure
						modifier = {add = var:low_mod}
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Succes
						modifier = {add = var:high_mod}
						trigger_event = evil.0024
					}
				}
			}
			2 = {
				random_list = {
					25 = {	# Critical Failure
						trigger_event = evil.0021
					}
					75 = {	# Failure
						trigger_event = evil.0022
					}
					75 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Success
						trigger_event = evil.0024
					}
				}
			}
			3 = {
				random_list = {
					50 = {	# Failure
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
				}
			}
		}}
	}

	option = {	# Summoning Dark Forces
		name = evil.0015.b
		custom_tooltip = evil.0015.b.tt

		trigger = {
			OR = {
				has_trait = maiar
				has_trait = istari
				has_trait = sorcerer_3
				has_trait = sorcerer_2
			}
			OR = {
				piety > 400
				AND = {gold > 400 var:temple = 4}
			}
		}

		set_variable = {name = magic value = 2}

		if = {limit = {exists = var:temple var:temple = 4}
			remove_short_term_gold = {
				value = 400
			}
		}
		else = {
			add_piety = {
				value = -400
				if = {limit = {exists = var:temple var:temple = 2} multiply = 0.8 subtract = 1}
			}
		}
		hidden_effect = {
		switch = {
			trigger = var:ritual_location
			1 = {
				random_list = {
					25 = {	# Failure
						modifier = {add = var:low_mod}
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Succes
						modifier = {add = var:high_mod}
						trigger_event = evil.0024
					}
				}
			}
			2 = {
				random_list = {
					25 = {	# Critical Failure
						trigger_event = evil.0021
					}
					75 = {	# Failure
						trigger_event = evil.0022
					}
					75 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Success
						trigger_event = evil.0024
					}
				}
			}
			3 = {
				random_list = {
					50 = {	# Failure
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
				}
			}
		}}
	}

	option = {	# Summon a Dark Being
		name = evil.0015.c
		custom_tooltip = evil.0015.c.tt

		trigger = {
			OR = {
				has_trait = maiar
				has_trait = istari
				has_trait = nazgul
				has_trait = sorcerer_3
				has_trait = sorcerer_2
			}
			OR = {
				piety > 500
				AND = {gold > 500 var:temple = 4}
			}
		}

		set_variable = {name = magic value = 3}

		if = {limit = {exists = var:temple var:temple = 4}
			remove_short_term_gold = {
				value = 500
			}
		}
		else = {
			add_piety = {
				value = -500
				if = {limit = {exists = var:temple var:temple = 2} multiply = 0.8 subtract = 1}
			}
		}
		hidden_effect = {
		switch = {
			trigger = var:ritual_location
			1 = {
				random_list = {
					25 = {	# Failure
						modifier = {add = var:low_mod}
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Succes
						modifier = {add = var:high_mod}
						trigger_event = evil.0024
					}
				}
			}
			2 = {
				random_list = {
					25 = {	# Critical Failure
						trigger_event = evil.0021
					}
					75 = {	# Failure
						trigger_event = evil.0022
					}
					75 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Success
						trigger_event = evil.0024
					}
				}
			}
			3 = {
				random_list = {
					50 = {	# Failure
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
				}
			}
		}}
	}

	option = {	# It's not what i need
		name = evil.0015.d
		custom_tooltip = evil.0015.d.tt
		trigger_event = evil.0012
	}

}

evil.0016 = {	##################################################################################### Spell of Power
	title = evil.0016.t
	desc = evil.0016.desc
	theme = learning_theology_focus
	left_portrait = {
		character = root
		animation = schadenfreude
	}

	override_background = {
        trigger = { var:ritual_location = 1 }
        event_background = temple
    }
    override_background = {
        trigger = { var:ritual_location = 2 }
        event_background = wilderness_mountains
    }
    override_background = {
        trigger = { var:ritual_location = 3 }
        event_background = sitting_room
    }

	immediate = {
		set_variable = {name = low_mod value = 0}
		set_variable = {name = high_mod value = 0}
		if = {
			limit = {exists = var:temple var:temple = 5}
			set_variable = {name = low_mod value = -10}
		}
		else_if = {
			limit = {exists = var:temple var:temple = 3}
			set_variable = {name = high_mod value = 10}
		}
	}

	option = {	# Cracks of the Earth
		name = evil.0016.a
		custom_tooltip = evil.0016.a.tt

		trigger = {
			OR = {
				has_trait = maiar
				has_trait = istari
				has_trait = sorcerer_3
			}
			OR = {
				piety > 600
				AND = {gold > 600 var:temple = 4}
			}
		}

		set_variable = {name = magic value = 1}

		if = {limit = {exists = var:temple var:temple = 4}
			remove_short_term_gold = {
				value = 600
			}
		}
		else = {
			add_piety = {
				value = -600
				if = {limit = {exists = var:temple var:temple = 2} multiply = 0.8 subtract = 1}
			}
		}
		hidden_effect = {
		switch = {
			trigger = var:ritual_location
			1 = {
				random_list = {
					25 = {	# Failure
						modifier = {add = var:low_mod}
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Succes
						modifier = {add = var:high_mod}
						trigger_event = evil.0024
					}
				}
			}
			2 = {
				random_list = {
					25 = {	# Critical Failure
						trigger_event = evil.0021
					}
					75 = {	# Failure
						trigger_event = evil.0022
					}
					75 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Success
						trigger_event = evil.0024
					}
				}
			}
			3 = {
				random_list = {
					50 = {	# Failure
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
				}
			}
		}}
	}

	option = {	# Draw forth Dark Vitality
		name = evil.0016.b
		custom_tooltip = evil.0016.b.tt

		trigger = {
			OR = {
				has_trait = maiar
				has_trait = istari
				has_trait = sorcerer_3
				has_trait = sorcerer_2
			}
			OR = {
				piety > 700
				AND = {gold > 700 var:temple = 4}
			}
		}

		set_variable = {name = magic value = 2}

		if = {limit = {exists = var:temple var:temple = 4}
			remove_short_term_gold = {
				value = 700
			}
		}
		else = {
			add_piety = {
				value = -700
				if = {limit = {exists = var:temple var:temple = 2} multiply = 0.8 subtract = 1}
			}
		}
		hidden_effect = {
		switch = {
			trigger = var:ritual_location
			1 = {
				random_list = {
					25 = {	# Failure
						modifier = {add = var:low_mod}
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Succes
						modifier = {add = var:high_mod}
						trigger_event = evil.0024
					}
				}
			}
			2 = {
				random_list = {
					25 = {	# Critical Failure
						trigger_event = evil.0021
					}
					75 = {	# Failure
						trigger_event = evil.0022
					}
					75 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Success
						trigger_event = evil.0024
					}
				}
			}
			3 = {
				random_list = {
					50 = {	# Failure
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
				}
			}
		}}
	}

	option = {	# Words of Power
		name = evil.0016.c
		custom_tooltip = evil.0016.c.tt

		trigger = {
			OR = {
				has_trait = maiar
				has_trait = istari
				has_trait = sorcerer_3
			}
			OR = {
				piety > 800
				AND = {gold > 800 var:temple = 4}
			}
		}

		set_variable = {name = magic value = 3}

		if = {limit = {exists = var:temple var:temple = 4}
			remove_short_term_gold = {
				value = 800
			}
		}
		else = {
			add_piety = {
				value = -800
				if = {limit = {exists = var:temple var:temple = 2} multiply = 0.8 subtract = 1}
			}
		}
		hidden_effect = {
		switch = {
			trigger = var:ritual_location
			1 = {
				random_list = {
					25 = {	# Failure
						modifier = {add = var:low_mod}
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Succes
						modifier = {add = var:high_mod}
						trigger_event = evil.0024
					}
				}
			}
			2 = {
				random_list = {
					25 = {	# Critical Failure
						trigger_event = evil.0021
					}
					75 = {	# Failure
						trigger_event = evil.0022
					}
					75 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Success
						trigger_event = evil.0024
					}
				}
			}
			3 = {
				random_list = {
					50 = {	# Failure
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
				}
			}
		}}
	}

	option = {	# It's not what i need
		name = evil.0016.d
		custom_tooltip = evil.0016.d.tt
		trigger_event = evil.0012
	}

}

evil.0017 = {	##################################################################################### Malicious Artifacts
	title = evil.0017.t
	desc = evil.0017.desc
	theme = learning_theology_focus
	left_portrait = {
		character = root
		animation = schadenfreude
	}

	override_background = {
        trigger = { var:ritual_location = 1 }
        event_background = temple
    }
    override_background = {
        trigger = { var:ritual_location = 2 }
        event_background = wilderness_mountains
    }
    override_background = {
        trigger = { var:ritual_location = 3 }
        event_background = sitting_room
    }

	immediate = {
		set_variable = {name = low_mod value = 0}
		set_variable = {name = high_mod value = 0}
		if = {
			limit = {exists = var:temple var:temple = 5}
			set_variable = {name = low_mod value = -10}
		}
		else_if = {
			limit = {exists = var:temple var:temple = 3}
			set_variable = {name = high_mod value = 10}
		}
	}

	option = {	# Forge Morgul-Weapons
		name = evil.0017.a
		custom_tooltip = evil.0017.a.tt

		set_variable = {name = magic value = 1}

		if = {limit = {exists = var:temple var:temple = 4}
			remove_short_term_gold = {
				value = 1000
			}
		}
		else = {
			add_piety = {
				value = -1000
				if = {limit = {exists = var:temple var:temple = 2} multiply = 0.8 subtract = 1}
			}
		}

		hidden_effect = {
		switch = {
			trigger = var:ritual_location
			1 = {
				random_list = {
					25 = {	# Failure
						modifier = {add = var:low_mod}
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Succes
						modifier = {add = var:high_mod}
						trigger_event = evil.0024
					}
				}
			}
			2 = {
				random_list = {
					25 = {	# Critical Failure
						trigger_event = evil.0021
					}
					75 = {	# Failure
						trigger_event = evil.0022
					}
					75 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Success
						trigger_event = evil.0024
					}
				}
			}
			3 = {
				random_list = {
					50 = {	# Failure
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
				}
			}
		}}
	}

	option = {	# It's not what i need
		name = evil.0017.b
		custom_tooltip = evil.0017.b.tt
		trigger_event = evil.0012
	}

}

evil.0018 = {	##################################################################################### Houses of Lamentation
	title = evil.0018.t
	desc = evil.0018.desc
	theme = learning_theology_focus
	left_portrait = {
		character = root
		animation = schadenfreude
	}

	override_background = {
        trigger = { var:ritual_location = 1 }
        event_background = temple
    }
    override_background = {
        trigger = { var:ritual_location = 2 }
        event_background = wilderness_mountains
    }
    override_background = {
        trigger = { var:ritual_location = 3 }
        event_background = sitting_room
    }

	immediate = {
		set_variable = {name = low_mod value = 0}
		set_variable = {name = high_mod value = 0}
		if = {
			limit = {exists = var:temple var:temple = 5}
			set_variable = {name = low_mod value = -10}
		}
		else_if = {
			limit = {exists = var:temple var:temple = 3}
			set_variable = {name = high_mod value = 10}
		}
	}

	option = {	# Pursue Them Relentlessly
		name = evil.0018.a
		custom_tooltip = evil.0018.a.tt

		set_variable = {name = magic value = 1}

		if = {limit = {exists = var:temple var:temple = 4}
			remove_short_term_gold = {
				value = 300
			}
		}
		else = {
			add_piety = {
				value = -300
				if = {limit = {exists = var:temple var:temple = 2} multiply = 0.8 subtract = 1}
			}
		}

		hidden_effect = {
		switch = {
			trigger = var:ritual_location
			1 = {
				random_list = {
					25 = {	# Failure
						modifier = {add = var:low_mod}
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Succes
						modifier = {add = var:high_mod}
						trigger_event = evil.0024
					}
				}
			}
			2 = {
				random_list = {
					25 = {	# Critical Failure
						trigger_event = evil.0021
					}
					75 = {	# Failure
						trigger_event = evil.0022
					}
					75 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Success
						trigger_event = evil.0024
					}
				}
			}
			3 = {
				random_list = {
					50 = {	# Failure
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
				}
			}
		}}
	}

	option = {	# Black Breath
		name = evil.0018.b
		custom_tooltip = evil.0018.b.tt

		trigger = {
			OR = {
				piety > 500
				AND = {gold > 500 var:temple = 4}
			}
		}

		set_variable = {name = magic value = 2}

		if = {limit = {exists = var:temple var:temple = 4}
			remove_short_term_gold = {
				value = 500
			}
		}
		else = {
			add_piety = {
				value = -500
				if = {limit = {exists = var:temple var:temple = 2} multiply = 0.8 subtract = 1}
			}
		}

		hidden_effect = {
		switch = {
			trigger = var:ritual_location
			1 = {
				random_list = {
					25 = {	# Failure
						modifier = {add = var:low_mod}
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Succes
						modifier = {add = var:high_mod}
						trigger_event = evil.0024
					}
				}
			}
			2 = {
				random_list = {
					25 = {	# Critical Failure
						trigger_event = evil.0021
					}
					75 = {	# Failure
						trigger_event = evil.0022
					}
					75 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Success
						trigger_event = evil.0024
					}
				}
			}
			3 = {
				random_list = {
					50 = {	# Failure
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
				}
			}
		}}
	}

	option = {	# Nazgul Restoration
		name = evil.0018.c
		custom_tooltip = evil.0018.c.tt

		trigger = {
			is_alive = no
			#OR = {
			#	piety > 600
			#	AND = {gold > 600 var:temple = 4}
			#}
		}

		set_variable = {name = magic value = 3}

		if = {limit = {exists = var:temple var:temple = 4}
			remove_short_term_gold = {
				value = 600
			}
		}
		else = {
			add_piety = {
				value = -600
				if = {limit = {exists = var:temple var:temple = 2} multiply = 0.8 subtract = 1}
			}
		}

		hidden_effect = {
		switch = {
			trigger = var:ritual_location
			1 = {
				random_list = {
					25 = {	# Failure
						modifier = {add = var:low_mod}
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Succes
						modifier = {add = var:high_mod}
						trigger_event = evil.0024
					}
				}
			}
			2 = {
				random_list = {
					25 = {	# Critical Failure
						trigger_event = evil.0021
					}
					75 = {	# Failure
						trigger_event = evil.0022
					}
					75 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Success
						trigger_event = evil.0024
					}
				}
			}
			3 = {
				random_list = {
					50 = {	# Failure
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
				}
			}
		}}
	}

	option = {	# It's not what i need
		name = evil.0018.d
		custom_tooltip = evil.0018.d.tt
		trigger_event = evil.0012
	}

}

evil.0019 = {	##################################################################################### Piercing, Opening and Treachery
	title = evil.0019.t
	desc = evil.0019.desc
	theme = learning_theology_focus
	left_portrait = {
		character = root
		animation = schadenfreude
	}

	override_background = {
        trigger = { var:ritual_location = 1 }
        event_background = temple
    }
    override_background = {
        trigger = { var:ritual_location = 2 }
        event_background = wilderness_mountains
    }
    override_background = {
        trigger = { var:ritual_location = 3 }
        event_background = sitting_room
    }

	immediate = {
		set_variable = {name = low_mod value = 0}
		set_variable = {name = high_mod value = 0}
		if = {
			limit = {exists = var:temple var:temple = 5}
			set_variable = {name = low_mod value = -10}
		}
		else_if = {
			limit = {exists = var:temple var:temple = 3}
			set_variable = {name = high_mod value = 10}
		}
	}

	option = {	# Ambassador of Darkness
		name = evil.0019.a
		custom_tooltip = evil.0019.a.tt

		trigger = {
			OR = {
				has_trait = maiar
				has_trait = istari
				has_trait = sorcerer_3
				has_trait = sorcerer_2
			}
			OR = {
				piety > 500
				AND = {gold > 500 var:temple = 4}
			}
		}

		set_variable = {name = magic value = 1}

		if = {limit = {exists = var:temple var:temple = 4}
			remove_short_term_gold = {
				value = 500
			}
		}
		else = {
			add_piety = {
				value = -500
				if = {limit = {exists = var:temple var:temple = 2} multiply = 0.8 subtract = 1}
			}
		}
		hidden_effect = {
		switch = {
			trigger = var:ritual_location
			1 = {
				random_list = {
					25 = {	# Failure
						modifier = {add = var:low_mod}
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Succes
						modifier = {add = var:high_mod}
						trigger_event = evil.0024
					}
				}
			}
			2 = {
				random_list = {
					25 = {	# Critical Failure
						trigger_event = evil.0021
					}
					75 = {	# Failure
						trigger_event = evil.0022
					}
					75 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Success
						trigger_event = evil.0024
					}
				}
			}
			3 = {
				random_list = {
					50 = {	# Failure
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
				}
			}
		}}
	}

	option = {	# Shapeshifting
		name = evil.0019.b
		custom_tooltip = evil.0019.b.tt

		trigger = {
			OR = {
				has_trait = maiar
				has_trait = istari
				has_trait = sorcerer_3
			}
			OR = {
				piety > 300
				AND = {gold > 300 var:temple = 4}
			}
		}

		set_variable = {name = magic value = 2}

		if = {limit = {exists = var:temple var:temple = 4}
			remove_short_term_gold = {
				value = 300
			}
		}
		else = {
			add_piety = {
				value = -300
				if = {limit = {exists = var:temple var:temple = 2} multiply = 0.8 subtract = 1}
			}
		}
		hidden_effect = {
		switch = {
			trigger = var:ritual_location
			1 = {
				random_list = {
					25 = {	# Failure
						modifier = {add = var:low_mod}
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Succes
						modifier = {add = var:high_mod}
						trigger_event = evil.0024
					}
				}
			}
			2 = {
				random_list = {
					25 = {	# Critical Failure
						trigger_event = evil.0021
					}
					75 = {	# Failure
						trigger_event = evil.0022
					}
					75 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Success
						trigger_event = evil.0024
					}
				}
			}
			3 = {
				random_list = {
					50 = {	# Failure
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
				}
			}
		}}
	}

	option = {	# Reveal the Secrets
		name = evil.0019.c
		custom_tooltip = evil.0019.c.tt

		set_variable = {name = magic value = 3}

		if = {limit = {exists = var:temple var:temple = 4}
			remove_short_term_gold = {
				value = 300
			}
		}
		else = {
			add_piety = {
				value = -300
				if = {limit = {exists = var:temple var:temple = 2} multiply = 0.8 subtract = 1}
			}
		}
		hidden_effect = {
		switch = {
			trigger = var:ritual_location
			1 = {
				random_list = {
					25 = {	# Failure
						modifier = {add = var:low_mod}
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Succes
						modifier = {add = var:high_mod}
						trigger_event = evil.0024
					}
				}
			}
			2 = {
				random_list = {
					25 = {	# Critical Failure
						trigger_event = evil.0021
					}
					75 = {	# Failure
						trigger_event = evil.0022
					}
					75 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Success
						trigger_event = evil.0024
					}
				}
			}
			3 = {
				random_list = {
					50 = {	# Failure
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
				}
			}
		}}
	}

	option = {	# It's not what i need
		name = evil.0019.d
		custom_tooltip = evil.0019.d.tt
		trigger_event = evil.0012
	}

}

evil.0020 = {	##################################################################################### Second Darkness
	title = evil.0020.t
	desc = evil.0020.desc
	theme = learning_theology_focus
	left_portrait = {
		character = root
		animation = schadenfreude
	}

	override_background = {
        trigger = { var:ritual_location = 1 }
        event_background = temple
    }
    override_background = {
        trigger = { var:ritual_location = 2 }
        event_background = wilderness_mountains
    }
    override_background = {
        trigger = { var:ritual_location = 3 }
        event_background = sitting_room
    }

	immediate = {
		set_variable = {name = low_mod value = 0}
		set_variable = {name = high_mod value = 0}
		if = {
			exists = var:temple
			limit = {exists = var:temple var:temple = 5}
			set_variable = {name = low_mod value = -10}
		}
		else_if = {
			exists = var:temple
			limit = {exists = var:temple var:temple = 3}
			set_variable = {name = high_mod value = 10}
		}
	}

	option = {	# Darkness covers the realm
		name = evil.0020.a
		custom_tooltip = evil.0020.a.tt

		set_variable = {name = magic value = 1}

		if = {limit = {exists = var:temple var:temple = 4}
			remove_short_term_gold = {
				value = 1000
			}
		}
		else = {
			add_piety = {
				value = -1000
				if = {limit = {exists = var:temple var:temple = 2} multiply = 0.8 subtract = 1}
			}
		}
		hidden_effect = {
		switch = {
			trigger = var:ritual_location
			1 = {
				random_list = {
					25 = {	# Failure
						modifier = {add = var:low_mod}
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Succes
						modifier = {add = var:high_mod}
						trigger_event = evil.0024
					}
				}
			}
			2 = {
				random_list = {
					25 = {	# Critical Failure
						trigger_event = evil.0021
					}
					75 = {	# Failure
						trigger_event = evil.0022
					}
					75 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Success
						trigger_event = evil.0024
					}
				}
			}
			3 = {
				random_list = {
					50 = {	# Failure
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
				}
			}
		}}
	}

	option = {	# Abnormal Winter
		name = evil.0020.b
		custom_tooltip = evil.0020.b.tt

		set_variable = {name = magic value = 2}

		if = {limit = {exists = var:temple var:temple = 4}
			remove_short_term_gold = {
				value = 1250
			}
		}
		else = {
			add_piety = {
				value = -1250
				if = {limit = {exists = var:temple var:temple = 2} multiply = 0.8 subtract = 1}
			}
		}
		hidden_effect = {
		switch = {
			trigger = var:ritual_location
			1 = {
				random_list = {
					25 = {	# Failure
						modifier = {add = var:low_mod}
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Succes
						modifier = {add = var:high_mod}
						trigger_event = evil.0024
					}
				}
			}
			2 = {
				random_list = {
					25 = {	# Critical Failure
						trigger_event = evil.0021
					}
					75 = {	# Failure
						trigger_event = evil.0022
					}
					75 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Success
						trigger_event = evil.0024
					}
				}
			}
			3 = {
				random_list = {
					50 = {	# Failure
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
				}
			}
		}}
	}

	option = {	# The Plague
		name = evil.0020.c
		custom_tooltip = evil.0020.c.tt

		set_variable = {name = magic value = 3}

		if = {limit = {exists = var:temple var:temple = 4}
			remove_short_term_gold = {
				value = 1500
			}
		}
		else = {
			add_piety = {
				value = -1500
				if = {limit = {exists = var:temple var:temple = 2} multiply = 0.8 subtract = 1}
			}
		}
		hidden_effect = {
		switch = {
			trigger = var:ritual_location
			1 = {
				random_list = {
					25 = {	# Failure
						modifier = {add = var:low_mod}
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Succes
						modifier = {add = var:high_mod}
						trigger_event = evil.0024
					}
				}
			}
			2 = {
				random_list = {
					25 = {	# Critical Failure
						trigger_event = evil.0021
					}
					75 = {	# Failure
						trigger_event = evil.0022
					}
					75 = {	# Succes
						trigger_event = evil.0023
					}
					25 = {	# Critical Success
						trigger_event = evil.0024
					}
				}
			}
			3 = {
				random_list = {
					50 = {	# Failure
						trigger_event = evil.0022
					}
					50 = {	# Succes
						trigger_event = evil.0023
					}
				}
			}
		}}
	}

	option = {	# It's not what i need
		name = evil.0020.d
		custom_tooltip = evil.0020.d.tt
		trigger_event = evil.0012
	}

}

evil.0021 = {	##################################################################################### Critical Failure!
	title = evil.0021.t
	desc = evil.0021.desc
	theme = learning_theology_focus
	left_portrait = {
		character = root
		animation = fear
	}
	right_portrait = {
		character = scope:righty
		animation = personality_zealous
	}

	immediate = {
		if = {
			limit = {exists = var:temple var:temple = 1}
			add_character_modifier = {
				modifier = practiced_sorcery_recently
				years = 4
			}
		}
		else = {
			add_character_modifier = {
				modifier = practiced_sorcery_recently
				years = 5
			}
		}
		switch = {
			trigger = var:sorcery
			1 = {
			switch = {
					trigger = var:magic
					1 = {
						# Call the Horde
						capital_county = {
							add_county_modifier = {
								modifier = savage_rampage_modifier
								years = 3
							}
						}
					}
					2 = {
						# Mark of War
						add_character_modifier = {
							modifier = failed_mark_modifier
							years = 3
						}
					}
					3 = {
						# Assemble the Warlords
						capital_county = {
							add_county_modifier = {
								modifier = savage_rampage_modifier
								years = 3
							}
						}
					}
				}	
			}
			2 = {switch = {
					trigger = var:magic
					1 = {
						# Rise the Dead
						capital_county = {
							add_county_modifier = {
								modifier = undead_attack_modifier
								years = 3
							}
						}
					}
					2 = {
						# Invoke the Watchers
						capital_county = {
							add_county_modifier = {
								modifier = undead_attack_modifier
								years = 3
							}
						}
					}
					3 = {
						# Summon a Being of Darkness
						capital_county = {
							add_county_modifier = {
								modifier = fell_beast_attack_modifier
								years = 3
							}
						}
					}
				}
			}
			3 = {switch = {
					trigger = var:magic
					1 = {
						# Cracks of the Earth
						capital_county = {
							add_county_modifier = {
								modifier = foult_modifier
								years = 3
							}
						}
					}
					2 = {
						#  Draw forth Dark Vitality
						add_character_modifier = {
							modifier = failed_vitality_modifier
							years = 3
						}
					}
					3 = {
						# Words of Power
						capital_county = {
							add_county_modifier = {
								modifier = foult_modifier
								years = 3
							}
						}
					}
				}
			}
			4 = {switch = {
					trigger = var:magic
					1 = {
						# Forge Morgul-Weapons
						add_character_modifier = {
							modifier = morgul_wound_modifier
							years = 3
						}
					}
				}
			}
			5 = {switch = {
					trigger = var:magic
					1 = {
						# Pursue Them Relentlessly
						add_character_modifier = {
							modifier = nazgul_fail_modifier
							years = 3
						}
					}
					2 = {
						# Black Breath
						add_character_modifier = {
							modifier = nazgul_fail_modifier
							years = 3
						}
					}
					3 = {
						# Nazgul Restoration

					}
				}
			}
			6 = {switch = {
					trigger = var:magic
					1 = {
						# Ambassador of Darkness
						add_character_modifier = {
							modifier = revealed_intentions_modifier
							years = 3
						}
					}
					2 = {
						# Shapeshifting
						add_character_modifier = {
							modifier = broken_bones_modifier
							years = 1
						}
					}
					3 = {
						# Reveal the Plans	
						add_character_modifier = {
							modifier = revealed_intentions_modifier
							years = 3
						}
					}
				}
			}
			7 = {switch = {
					trigger = var:magic
					1 = {
						# Second Darkness
						add_character_modifier = {
							modifier = magic_sickness_modifier
							years = 3
						}
					}
					2 = {
						# Abnormal Winter
						add_character_modifier = {
							modifier = magic_sickness_modifier
							years = 3
						}
					}
					3 = {
						# The Plague
						add_character_modifier = {
							modifier = magic_sickness_modifier
							years = 3
						}
					}
				}
			}
		}
		remove_character_flag = planning_an_activity
		#scope:activity = {
		#	complete_activity = yes
		#}
	}

	option = {
		name = evil.0021.a
	}
}

evil.0022 = {	##################################################################################### Failure!
	title = evil.0022.t
	desc = evil.0022.desc
	theme = learning_theology_focus
	left_portrait = {
		character = root
		animation = shock
	}

	immediate = {
		# Nothing happens
		if = {
			limit = {exists = var:temple var:temple = 1}
			add_character_modifier = {
				modifier = practiced_sorcery_recently
				years = 4
			}
		}
		else = {
			add_character_modifier = {
				modifier = practiced_sorcery_recently
				years = 5
			}
		}
		remove_character_flag = planning_an_activity
		#scope:activity = {
		#	complete_activity = yes
		#}
	}

	option = {
		name = evil.0022.a
	}
}

evil.0023 = {	##################################################################################### Success!
	title = evil.0023.t
	desc = {
        first_valid = {
            triggered_desc = {
                trigger = {
                    var:sorcery = 1
                    var:magic = 1
                }
                desc = evil.0023.horde.a.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 1
                    var:magic = 2
                }
                desc = evil.0023.horde.b.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 1
                    var:magic = 3
                }
                desc = evil.0023.horde.c.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 2
                    var:magic = 1
                }
                desc = evil.0023.summon.a.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 2
                    var:magic = 2
                }
                desc = evil.0023.summon.b.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 2
                    var:magic = 3
                }
                desc = evil.0023.summon.c.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 3
                    var:magic = 1
                }
                desc = evil.0023.powerspell.a.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 3
                    var:magic = 2
                }
                desc = evil.0023.powerspell.b.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 3
                    var:magic = 3
                }
                desc = evil.0023.powerspell.c.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 4
                    var:magic = 1
                }
                desc = evil.0023.craft.a.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 5
                    var:magic = 1
                }
                desc = evil.0023.lamentation.a.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 5
                    var:magic = 2
                }
                desc = evil.0023.lamentation.b.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 5
                    var:magic = 3
                }
                desc = evil.0023.lamentation.c.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 6
                    var:magic = 1
                }
                desc = evil.0023.treachery.a.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 6
                    var:magic = 2
                }
                desc = evil.0023.treachery.b.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 6
                    var:magic = 3
                }
                desc = evil.0023.treachery.c.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 7
                    var:magic = 1
                }
                desc = evil.0023.darkness.a.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 7
                    var:magic = 2
                }
                desc = evil.0023.darkness.b.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 7
                    var:magic = 3
                }
                desc = evil.0023.darkness.c.desc
            }
        }
    }
	theme = learning_theology_focus
	left_portrait = {
		character = root
		animation = personality_callous
	}
	right_portrait = {
		character = scope:righty
		animation = personality_zealous
	}

	immediate = {
		if = {
			limit = {exists = var:temple var:temple = 1}
			add_character_modifier = {
				modifier = practiced_sorcery_recently
				years = 4
			}
		}
		else = {
			add_character_modifier = {
				modifier = practiced_sorcery_recently
				years = 5
			}
		}
		switch = {
			trigger = var:sorcery
			1 = {
			switch = {
					trigger = var:magic
					1 = {
						# Call the Horde
						if = {
							limit = {root.faith = faith:melkorite}
							spawn_army = {
								men_at_arms = {
									type = black_numenorean_vanguard 
									stacks = 6
								}
								location = capital_province
								inheritable = no
								name = black_numenorean_event_troops
							}
						}
						if = {
							limit = {root.faith = faith:white_hand_cult}
							random_list = {
								1 = {spawn_army = {
									men_at_arms = {
										type = urukhai_fighting 
										stacks = 5
									}
									men_at_arms = {
										type = urukhai_crossbowmen  
										stacks = 3
									}
									men_at_arms = {
										type = urukhai_pikemen
										stacks = 3
									}
									men_at_arms = {
										type = urukhai_berserker
										stacks = 1
									}
									location = capital_province
									inheritable = no
									name = urukhai_event_troops
									}
								}
								1 = {spawn_army = {
									men_at_arms = {
										type = dunlending_huscarl 
										stacks = 4
									}
									men_at_arms = {
										type = dunlending_longbowmen 
										stacks = 2
									}
									men_at_arms = {
										type = dunlending_outriders
										stacks = 2
									}
									location = capital_province
									inheritable = no
									name = wildmen_event_troops
									}
								}
							}
						}
						if = {
							limit = {root.faith = faith:way_of_strength}
							spawn_army = {
								men_at_arms = {
									type = urukhai_fighting 
									stacks = 4
								}
								men_at_arms = {
									type = urukhai_crossbowmen 
									stacks = 2
								}
								men_at_arms = {
									type = mountainorc_warriors 
									stacks = 2
								}
								men_at_arms = {
									type = orc_warriors 
									stacks = 5
								}
								location = capital_province
								inheritable = no
								name = orc_event_troops
							}
						}
						if = {
							limit = {
								OR = {
									root.faith = faith:lidless_eye
									root.faith = faith:sons_of_sauron
									root.faith = faith:red_eye_cult
								}
							}
							random_list = {
								1 = {spawn_army = {
									men_at_arms = {
										type = urukhai_fighting 
										stacks = 4
									}
									men_at_arms = {
										type = urukhai_crossbowmen 
										stacks = 2
									}
									men_at_arms = {
										type = mountainorc_warriors 
										stacks = 2
									}
									men_at_arms = {
										type = orc_warriors 
										stacks = 5
									}
									location = capital_province
									inheritable = no
									name = orc_event_troops
									}
								}
								1 = {spawn_army = {
									men_at_arms = {
										type = serpent_guard 
										stacks = 4
									}
									men_at_arms = {
										type = desert_javelineers
										stacks = 4
									}
									men_at_arms = {
										type = haradrim_radiers
										stacks = 2
									}
									men_at_arms = {
										type = war_mumak
										stacks = 1
									}
									location = capital_province
									inheritable = no
									name = haradrim_event_troops
									}
								}
							}
						}
					}
					2 = {
						# Mark of War
						if = {
							limit = {
								OR = {
									root.faith = faith:lidless_eye
									root.faith = faith:sons_of_sauron
									root.faith = faith:red_eye_cult
								}
							}
							add_character_modifier = {
								modifier = red_eye_mark_modifier
								years = 5
							}
						}
						else_if = {
							limit = {root.faith = faith:white_hand_cult}
							add_character_modifier = {
								modifier = white_hand_mark_modifier
								years = 5
							}
						}
						else = {
							add_character_modifier = {
								modifier = invigoreted_troops_modifier
								years = 5
							}
						}
					}
					3 = {
						# Assemble the Warlords
						if = {
							limit = {root.culture = culture:maiar_fallen}
							create_character = {
								template = orc_champion_character
								culture = culture:morlughai
								dynasty = none
								location = root.capital_province
								gender_female_chance = 20
								save_scope_as = righty
							}
						}
						else_if = {
							limit = {root.culture = culture:istari_evil}
							create_character = {
								template = orc_champion_character
								culture = culture:isengard_urukhai
								dynasty = none
								location = root.capital_province
								gender_female_chance = 20
								save_scope_as = righty
							}
						}
						else = {
							create_character = {
								template = orc_champion_character
								dynasty = none
								location = root.capital_province
								gender_female_chance = 30
								save_scope_as = righty
							}
						}
						hidden_effect = {
							recruit_courtier = scope:righty
							scope:righty = {
								add_opinion = {
									target = root
									modifier = loyal_servant
									years = 15
								}
							}
						}
					}
				}	
			}
			2 = {
				switch = {
					trigger = var:magic
					1 = {
						# Rise the Dead
						spawn_army = {
							men_at_arms = {
								type = unburied_wights
								stacks = 17
							}
							men_at_arms = {
								type = unburied_wights
								stacks = 17
							}
							men_at_arms = {
								type = blighted_trappers 
								stacks = 10
							}
							location = capital_province
							inheritable = no
							uses_supply = no
							name = wight_event_troops
						}
					}
					2 = {
						# Invoke the Watchers
						capital_province = {
							add_province_modifier = {
								modifier = watchers_modifier
								years = 5
							}
						}
					}
					3 = {
						# Summon a Being of Darkness
						add_character_modifier = {
							modifier = fell_beast_mount_modifier
						}
						if = {
							limit = {has_character_modifier = drake_mount_modifier}
							remove_character_modifier = drake_mount_modifier
						}
					}
				}
			}
			3 = {
				switch = {
					trigger = var:magic
					1 = {
						# Cracks of the Earth
						capital_county = {
							if = {
								limit = {
									holder.top_liege = root.liege
									NOT = {has_county_modifier = cracks_of_the_earth_modifier}
								}
								add_county_modifier = {
									modifier = cracks_of_the_earth_modifier
									years = 5
								}
							}
							every_neighboring_county = {
								if = {
									limit = {
										holder.top_liege = root.liege
										NOT = {has_county_modifier = cracks_of_the_earth_modifier}
									}
									add_county_modifier = {
										modifier = cracks_of_the_earth_modifier
										years = 5
									}
								}
							}
						}
					}
					2 = {
						#  Draw forth Dark Vitality
						every_courtier_or_guest = {
							limit = {
								age < 100
								NOT = {is_close_family_of = root}
							}
							save_scope_as = righty
						}
						if = {
							limit = {
								scope:righty = {
									exists = yes
								}
							}
						}
						else = {
							create_character = {
								template = servant_character
								dynasty = none
								location = root.capital_province
								save_scope_as = righty
							}
						}
						scope:righty = {
							death = {
								killer = root
								death_reason = death_murder
							}
						}
						add_character_modifier = {
							modifier = dark_vitality_modifier
							years = 10
						}
					}
					3 = {
						# Words of Power
						random_character_war = {
							if = {
								limit = {root = {is_at_war_as_attacker = yes}}
            					casus_belli = {
									every_target_title = {
										if = {limit = {title_capital_county = {holder.top_liege = root.liege}}
											random_de_jure_county_holder = {
												limit = {
													top_liege = {is_at_war_with = root.liege}
												}
												capital_county = {
  													every_county_province = {
														if = {
															limit = {has_holding_type = castle_holding}
															add_province_modifier = {
																modifier = words_of_power_modifier
																years = 2
															}
														}	
													}
												}
											}
										}
										else = {
											title_capital_county = {
												if = {
													limit = {
														NOT = {holder.top_liege = root.liege}
													}
													every_county_province = {
														if = {
															limit = {has_holding_type = castle_holding}
															add_province_modifier = {
																modifier = words_of_power_modifier
																years = 2
															}
														}	
													}
												}
											}
										}
									}
								}
							}
        				}
					}
				}
			}
			4 = {
				switch = {
					trigger = var:magic
					1 = {
						# Forge Morgul-Weapons
						add_character_modifier = {
							modifier = morgul_weapons
							years = 5
						}
					}
				}
			}
			5 = {
				switch = {
					trigger = var:magic
					1 = {
						# Pursue Them Relentlessly
						add_character_modifier = {
							modifier = nazgul_pursue_modifier
							years = 5
						}
					}
					2 = {
						# Black Breath
						if = {
							limit = {is_at_war = yes}
							random_character_war = {
								casus_belli = {
									every_target_title = {
										if = {limit = {title_capital_county = {holder.top_liege = root.liege}}
											random_de_jure_county_holder = {
												limit = {
													top_liege = {is_at_war_with = root.liege}
												}
												add_character_modifier = {
													modifier = black_breath_modifier
													years = 5
												}
												if = {limit = {NOT = {this = this.top_liege}}
													this.top_liege = {
														add_character_modifier = {
															modifier = black_breath_modifier
															years = 5
														}
													}
												}
											}
										}
										else = {
											title_capital_county = {
												if = {
													limit = {
														NOT = {holder.top_liege = root.liege}
													}
													this.holder = {
														add_character_modifier = {
															modifier = black_breath_modifier
															years = 5
														}
													}
													if = {limit = {NOT = {this.holder = this.holder.top_liege}}
														this.holder.top_liege = {
															add_character_modifier = {
																modifier = black_breath_modifier
																years = 5
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
						else = {
							random_character_to_title_neighboring_and_across_water_county = {
								if = {
									limit = {
										NOT = {this.holder.top_liege = root.liege}
									}
									this.holder = {
										add_character_modifier = {
											modifier = black_breath_modifier
											years = 5
										}
									}
									if = {limit = {NOT = {this.holder = this.holder.top_liege}}
										this.holder.top_liege = {
											add_character_modifier = {
												modifier = black_breath_modifier
												years = 5
											}
										}
									}
								}
							}
						}
					}
					3 = {
						# Nazgul Restoration

					}
				}
			}
			6 = {
				switch = {
					trigger = var:magic
					1 = {
						# Ambassador of Darkness
						add_character_modifier = {
							modifier = ambassador_of_darkness_modifier
							years = 5
						}
					}
					2 = {
						# Shapeshifting
						add_character_modifier = {
							modifier = shapeshifter_modifier
							years = 1
						}
					}
					3 = {
						# Reveal the Plans	
						every_targeting_scheme = {
							random_scheme_agent = {
								save_scope_as = righty
							}
							scheme_owner = {
								save_scope_as = schemer
							}
							root = {
								add_hook = {
            						type = manipulation_hook
           				 			target = scope:schemer
        						}
        					}
							if = {
								limit = {is_scheme_exposed = no}
								expose_scheme = yes
							}
						}
						if = {
							limit = { exists = scope:righty }
							add_hook = {
								type = fabrication_hook
								target = scope:righty
							}
							expose_scheme_agent = scope:righty
						}
					}
				}
			}
			7 = {
				switch = {
					trigger = var:magic
					1 = {
						# Second Darkness
						every_character_to_title_neighboring_and_across_water_county = {
							if = {
								limit = {
									NOR = {holder.top_liege = root.liege
										   has_county_modifier = darkness_modifier}
								}
								add_county_modifier = {
									modifier = darkness_modifier
									years = 5
								}
							}
						}
					}
					2 = {
						# Abnormal Winter
						every_neighboring_and_across_water_top_liege_realm_owner = {
							save_scope_as = enemy
							every_living_character = {
								if = {
									limit = {this.top_liege = scope:enemy}
									add_character_modifier = {
										modifier = abnormal_winter_character_modifier
										years = 5
									}
								}
							}
							every_county = {
								if = {
									limit = {this.holder.top_liege = scope:enemy
											NOT = {has_county_modifier = abnormal_winter_modifier}}
									add_county_modifier = {
										modifier = abnormal_winter_modifier
										years = 5
									}
								}
							}
						}
					}
					3 = {
						# The Plague
						random_neighboring_and_across_water_top_liege_realm_owner = {
							limit = {
								religion = religion:free_peoples_religion
								realm_size > 50
							}
							alternative_limit = {
								religion = religion:free_peoples_religion
							}
							alternative_limit = {
								NOT = { religion = religion:lotr_forces_of_evil_religion }
							}
							add_to_list = plague_targets
							capital_county = {
								if = {
									limit = {
										NOT = {has_county_modifier = the_plague_modifier}
									}
									add_county_modifier = {
										modifier = the_plague_modifier
										years = 5
									}
								}
							}
							random_realm_county = {
								limit = {
									NOT = {has_county_modifier = the_plague_modifier}
								}
								holder = {
									add_to_list = plague_targets
								}
								add_county_modifier = {
									modifier = the_plague_modifier
									years = 5
								}
							}
							random_realm_county = {
								limit = {
									NOT = {has_county_modifier = the_plague_modifier}
								}
								holder = {
									add_to_list = plague_targets
								}
								add_county_modifier = {
									modifier = the_plague_modifier
									years = 5
								}
							}
							every_in_list = {
								list = plague_targets
								every_courtier_or_guest = {
									random_list = {
										20 = {contract_disease_notify_effect = { DISEASE = pneumonic} }
										15 = {contract_disease_notify_effect = { DISEASE = smallpox} }
										14 = {contract_disease_notify_effect = { DISEASE = typhus} }
										1 = {contract_disease_notify_effect = { DISEASE = bubonic_plague} }
										0 = {
											compare_modifier = {
												value = this.health
												multiplier = 5
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
		remove_character_flag = planning_an_activity
		#scope:activity = {
		#	complete_activity = yes
		#}
	}

	option = {
		name = {
			text = {
				first_valid = {
					triggered_desc ={
						trigger = {AND = {var:sorcery = 1 var:magic = 1}}
						desc = evil.0023.horde.a
					}
					triggered_desc ={
						trigger = {AND = {var:sorcery = 1 var:magic = 2}}
						desc = evil.0023.horde.b
					}
					triggered_desc ={
						trigger = {AND = {var:sorcery = 1 var:magic = 3}}
						desc = evil.0023.horde.c
					}
					triggered_desc ={
						trigger = {AND = {var:sorcery = 2 var:magic = 1}}
						desc = evil.0023.summon.a
					}
					triggered_desc ={
						trigger = {AND = {var:sorcery = 2 var:magic = 2}}
						desc = evil.0023.summon.b
					}
					triggered_desc ={
						trigger = {AND = {var:sorcery = 2 var:magic = 3}}
						desc = evil.0023.summon.c
					}
					triggered_desc ={
						trigger = {AND = {var:sorcery = 3 var:magic = 1}}
						desc = evil.0023.powerspell.a
					}
					triggered_desc ={
						trigger = {AND = {var:sorcery = 3 var:magic = 2}}
						desc = evil.0023.powerspell.b
					}
					triggered_desc ={
						trigger = {AND = {var:sorcery = 3 var:magic = 3}}
						desc = evil.0023.powerspell.c
					}
					triggered_desc ={
						trigger = {AND = {var:sorcery = 4 var:magic = 1}}
						desc = evil.0023.craft.a
					}
					triggered_desc ={
						trigger = {AND = {var:sorcery = 5 var:magic = 1}}
						desc = evil.0023.lamentation.a
					}
					triggered_desc ={
						trigger = {AND = {var:sorcery = 5 var:magic = 2}}
						desc = evil.0023.lamentation.b
					}
					triggered_desc ={
						trigger = {AND = {var:sorcery = 5 var:magic = 3}}
						desc = evil.0023.lamentation.c
					}
					triggered_desc ={
						trigger = {AND = {var:sorcery = 6 var:magic = 1}}
						desc = evil.0023.treachery.a
					}
					triggered_desc ={
						trigger = {AND = {var:sorcery = 6 var:magic = 2}}
						desc = evil.0023.treachery.b
					}
					triggered_desc ={
						trigger = {AND = {var:sorcery = 6 var:magic = 3}}
						desc = evil.0023.treachery.c
					}
					triggered_desc ={
						trigger = {AND = {var:sorcery = 7 var:magic = 1}}
						desc = evil.0023.darkness.a
					}
					triggered_desc ={
						trigger = {AND = {var:sorcery = 7 var:magic = 2}}
						desc = evil.0023.darkness.b
					}
					triggered_desc ={
						trigger = {AND = {var:sorcery = 7 var:magic = 3}}
						desc = evil.0023.darkness.c
					}
				}
			}
		}
	}
}

evil.0024 = {	##################################################################################### Critical Success!
	title = evil.0024.t
	desc = {
        first_valid = {
            triggered_desc = {
                trigger = {
                    var:sorcery = 1
                    var:magic = 1
                }
                desc = evil.0024.horde.a.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 1
                    var:magic = 2
                }
                desc = evil.0024.horde.b.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 1
                    var:magic = 3
                }
                desc = evil.0024.horde.c.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 2
                    var:magic = 1
                }
                desc = evil.0024.summon.a.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 2
                    var:magic = 2
                }
                desc = evil.0024.summon.b.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 2
                    var:magic = 3
                }
                desc = evil.0024.summon.c.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 3
                    var:magic = 1
                }
                desc = evil.0024.powerspell.a.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 3
                    var:magic = 2
                }
                desc = evil.0024.powerspell.b.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 3
                    var:magic = 3
                }
                desc = evil.0024.powerspell.c.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 4
                    var:magic = 1
                }
                desc = evil.0024.craft.a.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 5
                    var:magic = 1
                }
                desc = evil.0024.lamentation.a.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 5
                    var:magic = 2
                }
                desc = evil.0024.lamentation.b.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 5
                    var:magic = 3
                }
                desc = evil.0024.lamentation.c.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 6
                    var:magic = 1
                }
                desc = evil.0024.treachery.a.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 6
                    var:magic = 2
                }
                desc = evil.0024.treachery.b.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 6
                    var:magic = 3
                }
                desc = evil.0024.treachery.c.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 7
                    var:magic = 1
                }
                desc = evil.0024.darkness.a.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 7
                    var:magic = 2
                }
                desc = evil.0024.darkness.b.desc
            }
            triggered_desc = {
                trigger = {
                    var:sorcery = 7
                    var:magic = 3
                }
                desc = evil.0024.darkness.c.desc
            }
        }
    }
	theme = learning_theology_focus
	left_portrait = {
		character = root
		animation = personality_callous
	}
	right_portrait = {
		character = scope:righty
		animation = personality_zealous
	}
	lower_center_portrait = {
		character = scope:righty2
		animation = personality_zealous
	}

	immediate = {
		if = {
			limit = {exists = var:temple var:temple = 1}
			add_character_modifier = {
				modifier = practiced_sorcery_recently
				years = 4
			}
		}
		else = {
			add_character_modifier = {
				modifier = practiced_sorcery_recently
				years = 5
			}
		}
		switch = {
			trigger = var:sorcery
			1 = {
			switch = {
					trigger = var:magic
					1 = {
						# Call the Horde
						if = {
							limit = {root.faith = faith:melkorite}
							spawn_army = {
								men_at_arms = {
									type = black_numenorean_vanguard 
									stacks = 12
								}
								location = capital_province
								inheritable = no
								name = black_numenorean_event_troops
							}
						}
						if = {
							limit = {root.faith = faith:white_hand_cult}
							random_list = {
								1 = {spawn_army = {
									men_at_arms = {
										type = urukhai_fighting 
										stacks = 10
									}
									men_at_arms = {
										type = urukhai_crossbowmen  
										stacks = 6
									}
									men_at_arms = {
										type = urukhai_pikemen
										stacks = 6
									}
									men_at_arms = {
										type = urukhai_berserker
										stacks = 1
									}
									men_at_arms = {
										type = urukhai_berserker
										stacks = 1
									}
									location = capital_province
									inheritable = no
									name = urukhai_event_troops
									}
								}
								1 = {spawn_army = {
									men_at_arms = {
										type = dunlending_huscarl 
										stacks = 8
									}
									men_at_arms = {
										type = dunlending_longbowmen 
										stacks = 4
									}
									men_at_arms = {
										type = dunlending_outriders
										stacks = 4
									}
									location = capital_province
									inheritable = no
									name = wildmen_event_troops
									}
								}
							}
						}
						if = {
							limit = {root.faith = faith:way_of_strength}
							spawn_army = {
								men_at_arms = {
									type = urukhai_fighting 
									stacks = 8
								}
								men_at_arms = {
									type = urukhai_crossbowmen 
									stacks = 4
								}
								men_at_arms = {
									type = mountainorc_warriors 
									stacks = 4
								}
								men_at_arms = {
									type = orc_warriors 
									stacks = 10
								}
								location = capital_province
								inheritable = no
								name = orc_event_troops
							}
						}
						if = {
							limit = {
								OR = {
									root.faith = faith:lidless_eye
									root.faith = faith:sons_of_sauron
									root.faith = faith:red_eye_cult
								}
							}
							random_list = {
								1 = {spawn_army = {
									men_at_arms = {
										type = urukhai_fighting 
										stacks = 8
									}
									men_at_arms = {
										type = urukhai_crossbowmen 
										stacks = 4
									}
									men_at_arms = {
										type = mountainorc_warriors 
										stacks = 4
									}
									men_at_arms = {
										type = orc_warriors 
										stacks = 10
									}
									location = capital_province
									inheritable = no
									name = orc_event_troops
									}
								}
								1 = {spawn_army = {
									men_at_arms = {
										type = serpent_guard 
										stacks = 8
									}
									men_at_arms = {
										type = desert_javelineers
										stacks = 8
									}
									men_at_arms = {
										type = haradrim_radiers
										stacks = 4
									}
									men_at_arms = {
										type = war_mumak
										stacks = 2
									}
									location = capital_province
									inheritable = no
									name = haradrim_event_troops
									}
								}
							}
						}
					}
					2 = {
						# Mark of War
						if = {
							limit = {
								OR = {
									root.faith = faith:lidless_eye
									root.faith = faith:sons_of_sauron
									root.faith = faith:red_eye_cult
								}
							}
							add_character_modifier = {
								modifier = great_red_eye_mark_modifier
								years = 5
							}
						}
						else_if = {
							limit = {root.faith = faith:white_hand_cult}
							add_character_modifier = {
								modifier = great_white_hand_mark_modifier
								years = 5
							}
						}
						else = {
							add_character_modifier = {
								modifier = great_invigoreted_troops_modifier
								years = 5
							}
						}
					}
					3 = {
						# Assemble the Warlords
						if = {
							limit = {root.culture = culture:maiar_fallen}
							create_character = {
								template = orc_champion_character
								culture = culture:morlughai
								dynasty = none
								location = root.capital_province
								gender_female_chance = 20
								save_scope_as = righty
							}
							create_character = {
								template = orc_champion_character
								culture = culture:morlughai
								dynasty = none
								location = root.capital_province
								gender_female_chance = 20
								save_scope_as = righty2
							}
						}
						else_if = {
							limit = {root.culture = culture:istari_evil}
							create_character = {
								template = orc_champion_character
								culture = culture:isengard_urukhai
								dynasty = none
								location = root.capital_province
								gender_female_chance = 20
								save_scope_as = righty
							}
							create_character = {
								template = orc_champion_character
								culture = culture:isengard_urukhai
								dynasty = none
								location = root.capital_province
								gender_female_chance = 20
								save_scope_as = righty2
							}
						}
						else = {
							create_character = {
								template = orc_champion_character
								dynasty = none
								location = root.capital_province
								gender_female_chance = 30
								save_scope_as = righty
							}
							create_character = {
								template = orc_champion_character
								dynasty = none
								location = root.capital_province
								gender_female_chance = 30
								save_scope_as = righty2
							}
						}
						hidden_effect = {
							recruit_courtier = scope:righty
							scope:righty = {
								add_opinion = {
									target = root
									modifier = loyal_servant
									years = 15
								}
							}
							recruit_courtier = scope:righty2
							scope:righty2 = {
								add_opinion = {
									target = root
									modifier = loyal_servant
									years = 15
								}
							}
						}
					}
				}	
			}
			2 = {switch = {
					trigger = var:magic
					1 = {
						# Rise the Dead
						spawn_army = {
							men_at_arms = {
								type = unburied_wights
								stacks = 17
							}
							men_at_arms = {
								type = unburied_wights
								stacks = 17
							}
							men_at_arms = {
								type = unburied_wights
								stacks = 17
							}
							men_at_arms = {
								type = unburied_wights
								stacks = 17
							}
							men_at_arms = {
								type = blighted_trappers 
								stacks = 10
							}
							men_at_arms = {
								type = blighted_trappers 
								stacks = 10
							}
							location = capital_province
							inheritable = no
							uses_supply = no
							name = wight_event_troops
						}
					}
					2 = {
						# Invoke the Watchers
						every_realm_province = {
							add_province_modifier = {
								modifier = watchers_modifier
								years = 5
							}
						}
					}
					3 = {
						# Summon a Being of Darkness
						add_character_modifier = {
							modifier = drake_mount_modifier
						}
						if = {
							limit = {has_character_modifier = fell_beast_mount_modifier}
							remove_character_modifier = fell_beast_mount_modifier
						}
					}
				}
			}
			3 = {switch = {
					trigger = var:magic
					1 = {
						# Cracks of the Earth
						capital_county = {
							if = {
								limit = {
									holder.top_liege = root.liege
									NOT = {has_county_modifier = cracks_of_the_earth_modifier}
								}
								add_county_modifier = {
									modifier = cracks_of_the_earth_modifier
									years = 5
								}
							}
							every_neighboring_county = {
								if = {
									limit = {
										holder.top_liege = root.liege
										NOT = {has_county_modifier = cracks_of_the_earth_modifier}
									}
									add_county_modifier = {
										modifier = cracks_of_the_earth_modifier
										years = 5
									}
								}
								every_neighboring_county = {
									if = {
										limit = {
											holder.top_liege = root.liege
											NOT = {has_county_modifier = cracks_of_the_earth_modifier}
										}
										add_county_modifier = {
											modifier = cracks_of_the_earth_modifier
											years = 5
										}
									}
								}
							}
						}
					}
					2 = {
						#  Draw forth Dark Vitality
						every_courtier_or_guest = {
							limit = {
								age < 100
								NOT = {is_close_family_of = root}
							}
							save_scope_as = righty
						}
						if = {
							limit = {
								scope:righty = {
									exists = yes
								}
							}
						}
						else = {
							create_character = {
								template = servant_character
								dynasty = none
								location = root.capital_province
								save_scope_as = righty
							}
						}
						scope:righty = {
							death = {
								killer = root
								death_reason = death_murder
							}
						}
						add_character_modifier = {
							modifier = dark_vitality_modifier
							years = 20
						}
					}
					3 = {
						# Words of Power
						every_character_war = {
							if = {
								limit = {root = {is_at_war_as_attacker = yes}}
            					casus_belli = {
									every_target_title = {
										if = {limit = {title_capital_county = {holder.top_liege = root.liege}}
											random_de_jure_county_holder = {
												limit = {
													top_liege = {is_at_war_with = root.liege}
												}
												capital_county = {
  													every_county_province = {
														if = {
															limit = {has_holding_type = castle_holding}
															add_province_modifier = {
																modifier = words_of_power_modifier
																years = 2
															}
														}	
													}
												}
											}
										}
										else = {
											title_capital_county = {
												if = {
													limit = {
														NOT = {holder.top_liege = root.liege}
													}
													every_county_province = {
														if = {
															limit = {has_holding_type = castle_holding}
															add_province_modifier = {
																modifier = words_of_power_modifier
																years = 2
															}
														}	
													}
												}
											}
										}
									}
								}
							}
        				}
					}
				}
			}
			4 = {switch = {
					trigger = var:magic
					1 = {
						# Forge Morgul-Weapons
						add_character_modifier = {
							modifier = morgul_weapons
							years = 10
						}
					}
				}
			}
			5 = {switch = {
					trigger = var:magic
					1 = {
						# Pursue Them Relentlessly
						add_character_modifier = {
							modifier = nazgul_great_pursue_modifier
							years = 5
						}
					}
					2 = {
						# Black Breath
						if = {
							limit = {is_at_war = yes}
							every_character_war = {
								casus_belli = {
									every_target_title = {
										if = {limit = {title_capital_county = {holder.top_liege = root.liege}}
											random_de_jure_county_holder = {
												limit = {
													top_liege = {is_at_war_with = root.liege}
												}
												add_character_modifier = {
													modifier = black_breath_modifier
													years = 5
												}
												if = {limit = {NOT = {this = this.top_liege}}
													this.top_liege = {
														add_character_modifier = {
															modifier = black_breath_modifier
															years = 5
														}
													}
												}
											}
										}
										else = {
											title_capital_county = {
												if = {
													limit = {
														NOT = {holder.top_liege = root.liege}
													}
													this.holder = {
														add_character_modifier = {
															modifier = black_breath_modifier
															years = 5
														}
													}
													if = {limit = {NOT = {this.holder = this.holder.top_liege}}
														this.holder.top_liege = {
															add_character_modifier = {
																modifier = black_breath_modifier
																years = 5
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
						else = {
							random_character_to_title_neighboring_and_across_water_county = {
								if = {
									limit = {
										NOT = {this.holder.top_liege = root.liege}
									}
									this.holder = {
										add_character_modifier = {
											modifier = black_breath_modifier
											years = 5
										}
									}
									if = {limit = {NOT = {this.holder = this.holder.top_liege}}
										this.holder.top_liege = {
											add_character_modifier = {
												modifier = black_breath_modifier
												years = 5
											}
										}
									}
								}
							}
						}
					}
					3 = {
						# Nazgul Restoration
					}
				}
			}
			6 = {switch = {
					trigger = var:magic
					1 = {
						# Ambassador of Darkness
						add_character_modifier = {
							modifier = ambassador_of_darkness_modifier
							years = 10
						}
					}
					2 = {
						# Shapeshifting
						add_character_modifier = {
							modifier = shapeshifter_modifier
							years = 2
						}
					}
					3 = {
						# Reveal the Plans	
						every_targeting_scheme = {
							random_scheme_agent = {
								save_scope_as = righty
							}
							scheme_owner = {
								save_scope_as = schemer
							}
							root = {
								add_hook = {
            						type = fabrication_hook
           				 			target = scope:schemer
        						}
        					}
							if = {
								limit = {is_scheme_exposed = no}
								expose_scheme = yes
							}
						}
						if = {
							limit = { exists = scope:righty }
							add_hook = {
								type = fabrication_hook
								target = scope:righty
							}
							expose_scheme_agent = scope:righty
						}
					}
				}
			}
			7 = {switch = {
					trigger = var:magic
					1 = {
						# Second Darkness
						every_character_to_title_neighboring_and_across_water_county = {
							if = {
								limit = {
									NOR = {holder.top_liege = root.liege
										   has_county_modifier = darkness_modifier}
								}
								add_county_modifier = {
									modifier = darkness_modifier
									years = 5
								}
							}
							every_title_to_title_neighboring_and_across_water_county = {
								if = {
									limit = {
										NOR = {holder.top_liege = root.liege
										  	   has_county_modifier = darkness_modifier}
									}
									add_county_modifier = {
										modifier = darkness_modifier
										years = 5
									}
								}
							}	
						}
					}
					2 = {
						# Abnormal Winter
						every_neighboring_and_across_water_top_liege_realm_owner = {
							save_scope_as = enemy
							every_living_character = {
								if = {
									limit = {this.top_liege = scope:enemy}
									add_character_modifier = {
										modifier = abnormal_winter_character_modifier
										years = 10
									}
								}
							}
							every_county = {
								if = {
									limit = {this.holder.top_liege = scope:enemy
											NOT = {has_county_modifier = abnormal_winter_modifier}}
									add_county_modifier = {
										modifier = abnormal_winter_modifier
										years = 10
									}
								}
							}
						}
					}
					3 = {
						# The Plague
						random_neighboring_and_across_water_top_liege_realm_owner = {
							limit = {
								religion = religion:free_peoples_religion
								realm_size > 50
							}
							alternative_limit = {
								religion = religion:free_peoples_religion
							}
							alternative_limit = {
								NOT = { religion = religion:lotr_forces_of_evil_religion }
							}
							add_to_list = plague_targets
							capital_county = {
								if = {
									limit = {
										NOT = {has_county_modifier = the_plague_modifier}
									}
									add_county_modifier = {
										modifier = the_plague_modifier
										years = 5
									}
								}
							}
							random_realm_county = {
								limit = {
									NOT = {has_county_modifier = the_plague_modifier}
								}
								holder = {
									add_to_list = plague_targets
								}
								add_county_modifier = {
									modifier = the_plague_modifier
									years = 5
								}
							}
							random_realm_county = {
								limit = {
									NOT = {has_county_modifier = the_plague_modifier}
								}
								holder = {
									add_to_list = plague_targets
								}
								add_county_modifier = {
									modifier = the_plague_modifier
									years = 5
								}
							}
							random_realm_county = {
								limit = {
									NOT = {has_county_modifier = the_plague_modifier}
								}
								holder = {
									add_to_list = plague_targets
								}
								add_county_modifier = {
									modifier = the_plague_modifier
									years = 5
								}
							}
							random_realm_county = {
								limit = {
									NOT = {has_county_modifier = the_plague_modifier}
								}
								holder = {
									add_to_list = plague_targets
								}
								add_county_modifier = {
									modifier = the_plague_modifier
									years = 5
								}
							}
							every_in_list = {
								list = plague_targets
								every_courtier_or_guest = {
									random_list = {
										30 = {contract_disease_notify_effect = { DISEASE = pneumonic} }
										20 = {contract_disease_notify_effect = { DISEASE = smallpox} }
										20 = {contract_disease_notify_effect = { DISEASE = typhus} }
										5 = {contract_disease_notify_effect = { DISEASE = bubonic_plague} }
										0 = {
											compare_modifier = {
												value = this.health
												multiplier = 5
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
		remove_character_flag = planning_an_activity
		#scope:activity = {
		#	complete_activity = yes
		#}

		option = {
			name = {
				text = {
					first_valid = {
						triggered_desc ={
							trigger = {AND = {var:sorcery = 1 var:magic = 1}}
							desc = evil.0024.horde.a
						}
						triggered_desc ={
							trigger = {AND = {var:sorcery = 1 var:magic = 2}}
							desc = evil.0024.horde.b
						}
						triggered_desc ={
							trigger = {AND = {var:sorcery = 1 var:magic = 3}}
							desc = evil.0024.horde.c
						}
						triggered_desc ={
							trigger = {AND = {var:sorcery = 2 var:magic = 1}}
							desc = evil.0024.summon.a
						}
						triggered_desc ={
							trigger = {AND = {var:sorcery = 2 var:magic = 2}}
							desc = evil.0024.summon.b
						}
						triggered_desc ={
							trigger = {AND = {var:sorcery = 2 var:magic = 3}}
							desc = evil.0024.summon.c
						}
						triggered_desc ={
							trigger = {AND = {var:sorcery = 3 var:magic = 1}}
							desc = evil.0024.powerspell.a
						}
						triggered_desc ={
							trigger = {AND = {var:sorcery = 3 var:magic = 2}}
							desc = evil.0024.powerspell.b
						}
						triggered_desc ={
							trigger = {AND = {var:sorcery = 3 var:magic = 3}}
							desc = evil.0024.powerspell.c
						}
						triggered_desc ={
							trigger = {AND = {var:sorcery = 4 var:magic = 1}}
							desc = evil.0024.craft.a
						}
						triggered_desc ={
							trigger = {AND = {var:sorcery = 5 var:magic = 1}}
							desc = evil.0024.lamentation.a
						}
						triggered_desc ={
							trigger = {AND = {var:sorcery = 5 var:magic = 2}}
							desc = evil.0024.lamentation.b
						}
						triggered_desc ={
							trigger = {AND = {var:sorcery = 5 var:magic = 3}}
							desc = evil.0024.lamentation.c
						}
						triggered_desc ={
							trigger = {AND = {var:sorcery = 6 var:magic = 1}}
							desc = evil.0024.treachery.a
						}
						triggered_desc ={
							trigger = {AND = {var:sorcery = 6 var:magic = 2}}
							desc = evil.0024.treachery.b
						}
						triggered_desc ={
							trigger = {AND = {var:sorcery = 6 var:magic = 3}}
							desc = evil.0024.treachery.c
						}
						triggered_desc ={
							trigger = {AND = {var:sorcery = 7 var:magic = 1}}
							desc = evil.0024.darkness.a
						}
						triggered_desc ={
							trigger = {AND = {var:sorcery = 7 var:magic = 2}}
							desc = evil.0024.darkness.b
						}
						triggered_desc ={
							trigger = {AND = {var:sorcery = 7 var:magic = 3}}
							desc = evil.0024.darkness.c
						}
					}
				}
			}
		}
	}
}

evil.0100 = {	##################################################################################### Offer to become a sorcerer   W I P
	type = character_event
	title = evil.0100.t
	desc = {
        first_valid = {
            triggered_desc = {
                trigger = {
                    exists = scope:master
                }
                desc = evil.0100.a.desc
            }
            desc = evil.0100.b.desc
        }
    }

	theme = education
	override_background = {     
      event_background = corridor_night
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}
	right_portrait = {
		character = scope:master
		animation = schadenfreude
	}

	immediate = {
		hidden_effect = {
			every_close_or_extended_family_member = {
   				limit = {
   					OR = {has_trait = sorcerer_2 has_trait = sorcerer_3}
   				}
   				save_scope_as = master
   			}
   			every_consort = {
   				limit = {
   					OR = {has_trait = sorcerer_2 has_trait = sorcerer_3}
   				}
   				if = {
   					limit = {NOT = exists = scope:master}}
   					save_scope_as = master
   				}
   			}
   			every_house_member = {
   				limit = {
   					OR = {has_trait = sorcerer_2 has_trait = sorcerer_3}
   				}
   				if = {
   					limit = {NOT = exists = scope:master}}
   					save_scope_as = master
   				}
   			}
   			every_vassal_or_below = {
   				limit = {
   					OR = {has_trait = sorcerer_2 has_trait = sorcerer_3}
   				}
   				if = {
   					limit = {NOT = exists = scope:master}}
   					save_scope_as = master
   				}
   			}
   			every_courtier = {
   				limit = {
   					OR = {has_trait = sorcerer_2 has_trait = sorcerer_3}
   				}
   				if = {
   					limit = {NOT = exists = scope:master}}
   					save_scope_as = master
   				}
   			}
   			every_liege_or_above = {
   				limit = {
   					OR = {has_trait = sorcerer_2 has_trait = sorcerer_3}
   				}
   				if = {
   					limit = {NOT = exists = scope:master}}
   					save_scope_as = master
   				}
   			}
    	}
	}

	trigger = {
		religion = religion:forces_of_evil_religion
		NOT = {has_character_flag = planning_an_activity}
		NOR = {
			has_trait = sorcerer
			has_trait = nazgul
			has_trait = istari
			has_trait = maiar
		}
		calc_true_if = {
    		amount >= 2
			has_trait = ambitious
			has_trait = zealous
			has_trait = education_learning_4
			learning >= 24
		}
	}
	
	option = { 
		name =  evil.0100.a  # Start the training
		custom_tooltip =  evil.0100.a.tt
		add_character_modifier = {
			modifier = sorcerer_training_modifier
			years = 5
		}
		stress_impact = {
			cynic = medium_stress_impact_gain
			content = minor_stress_impact_gain
		}
		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_compassion = -1
				ai_zeal = 1
			}
			modifier = {	
				add = 50
				has_trait = zealous
			}
			modifier = {	
				add = 30
				has_trait = brave
			}
			modifier = {	
				add = 30
				has_trait = deceitful
			}
			modifier = {	
				add = 30
				has_trait = callous
			}
		}
		trigger_event = {
			id = evil.0101
			#days = 7
		}
	}

	option = { 
		name =  evil.0100.b  # That's not for me
		custom_tooltip =  evil.0100.b.tt
		add_piety = -100
		stress_impact = {
			zealous = medium_stress_impact_gain
			ambitious = minor_stress_impact_gain
		}
		ai_chance = {
			base = 0
			ai_value_modifier = {
				ai_compassion = 1
				ai_zeal = -1
			}
			modifier = {	
				add = 50
				has_trait = cynic
			}
			modifier = {	
				add = 30
				has_trait = craven
			}
			modifier = {	
				add = 30
				has_trait = honest
			}
			modifier = {	
				add = 30
				has_trait = compassionate
			}
		}
		if = {
			limit = {has_trait = zealous}
			random_list = {
				50 = {remove_trait = zealous}
				50 = {}
			}
		}
		else = {
			random_list = {
				50 = {add_trait = cynic}
				50 = {}
			}
		}
	}
}

evil.0101 = {	# Phase 1: Searching the Ancient Tomes (search in the great libraries, pay for the books. )
	type = character_event
	title = evil.0100.t
	desc = evil.0100.desc
	theme = education
	override_background = {     
      event_background = study
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}
	right_portrait = {
		character = scope:master
		animation = schadenfreude
	}

	immediate = {}

	option = { 
		name =  evil.0100.b # That's not for me
		custom_tooltip =  evil.0100.b.tt
	}

}

evil.0102 = {	# Phase 2: Travel to the Ruins (pilgrimage, with more people. The map was erroneous!)
	type = character_event
	title = evil.0100.t
	desc = evil.0100.desc
	theme = education
	override_background = {     
      event_background = study
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}
	right_portrait = {
		character = scope:master
		animation = schadenfreude
	}

	immediate = {}

	option = { 
		name =  evil.0100.b # That's not for me
		custom_tooltip =  evil.0100.b.tt
	}

}

evil.0103 = {	# Phase 3: Elven Blood (kill an elf, pay an orc for their blood. The blood was from a deer!)
	type = character_event
	title = evil.0100.t
	desc = evil.0100.desc
	theme = education
	override_background = {     
      event_background = study
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}
	right_portrait = {
		character = scope:master
		animation = schadenfreude
	}

	immediate = {}

	option = { 
		name =  evil.0100.b # That's not for me
		custom_tooltip =  evil.0100.b.tt
	}

}

evil.0104 = {	# Phase 4: Sacrifice your loved ones ()
	type = character_event
	title = evil.0100.t
	desc = evil.0100.desc
	theme = education
	override_background = {     
      event_background = study
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}
	right_portrait = {
		character = scope:master
		animation = schadenfreude
	}

	immediate = {}

	option = { 
		name =  evil.0100.b # That's not for me
		custom_tooltip =  evil.0100.b.tt
	}

}

evil.0105 = {	# Phase 5: Seclude Yourself and Practice (become crazy?)
	type = character_event
	title = evil.0100.t
	desc = evil.0100.desc
	theme = education
	override_background = {     
      event_background = study
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}
	right_portrait = {
		character = scope:master
		animation = schadenfreude
	}

	immediate = {}

	option = { 
		name =  evil.0100.b # That's not for me
		custom_tooltip =  evil.0100.b.tt
	}

}

evil.0106 = {	# Phase 6: NOVICE SORCERER! (become crazy?)
	type = character_event
	title = evil.0100.t
	desc = evil.0100.desc
	theme = education
	override_background = {     
      event_background = study
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}
	right_portrait = {
		character = scope:master
		animation = schadenfreude
	}

	immediate = {}

	option = { 
		name =  evil.0100.b # That's not for me
		custom_tooltip =  evil.0100.b.tt
	}

}

### Phase 1: The Master is Tortured ###
evil.0115 = {
	type = character_event
	title = evil.0115.t
	desc = { # Give Dark Knowledge Fragment
		desc = evil.0115.desc
		first_valid = {
			triggered_desc = {
				trigger = {
					var:sorcery_quest = 0
				}
				desc = evil.dark_knowledge_fragment
			}
			triggered_desc = {
				trigger = {
					var:sorcery_quest = 1
				}
				desc = evil.dark_knowledge_fragment.a
			}
			triggered_desc = {
				trigger = {
					var:sorcery_quest = 2
				}
				desc = evil.dark_knowledge_fragment.b
			}
			triggered_desc = {
				trigger = {
					var:sorcery_quest = 3
				}
				desc = evil.dark_knowledge_fragment.c
			}
			triggered_desc = {
				trigger = {
					var:sorcery_quest = 4
				}
				desc = evil.dark_knowledge_fragment.d
			}
			triggered_desc = {
				trigger = {
					var:sorcery_quest = 5
				}
				desc = evil.dark_knowledge_fragment.e
			}
			triggered_desc = {
				trigger = {
					var:sorcery_quest = 6
				}
				desc = evil.dark_knowledge_fragment.f
			}
			triggered_desc = {
				trigger = {
					var:sorcery_quest = 7
				}
				desc = evil.dark_knowledge_fragment.g
			}
			triggered_desc = {
				trigger = {
					var:sorcery_quest = 8
				}
				desc = evil.dark_knowledge_fragment.h
			}
			triggered_desc = {
				trigger = {
					var:sorcery_quest = 9
				}
				desc = evil.dark_knowledge_fragment.i
			}
			triggered_desc = {
				trigger = {
					var:sorcery_quest = 10
				}
				desc = evil.dark_knowledge_fragment.j
			}
			triggered_desc = {
				trigger = {
					var:sorcery_quest >= 11
				}
				desc = evil.dark_knowledge_fragment.k
			}
		}
	}
	theme = learning_scholarship_focus
	override_background = {     
      event_background = dungeon
	}
	left_portrait = {
		character = root
		animation = flirtation
	}
	right_portrait = {
		character = scope:master
		animation = personality_vengeful
	}

	immediate = {
		every_prisoner = {
			if = {
				limit = {
					has_character_flag = is_being_tortured
					OR = {
						has_trait = sorcerer_2
						has_trait = sorcerer_3
					}
				}
				save_scope_as = master
			}
		}
#			scope:recipient = { save_scope_as = master }
	}

	option = {
		name = evil.0115.a
		custom_tooltip = evil.0115.a.tt
		tortured_sorcerer_effect = yes
	}
}

### Phase 1: Black Market Success ###
evil.0120 = {
	type = character_event
	title = evil.0120.t
	desc = {
        first_valid = {
            triggered_desc = {
                trigger = { exists = var:method var:method = 1 }
                desc = evil.0120.1.desc
            }
            triggered_desc = {
                trigger = { exists = var:method var:method = 2 }
                desc = evil.0120.2.desc
            }
        }
    }
	theme = learning_scholarship_focus
	override_background = {
      event_background = market_east
	}
	left_portrait = {
		character = root
		animation = happiness
	}

	immediate = {
		if = {
			limit = {has_character_modifier = searching_dark_knowledge_modifier}
			remove_character_modifier = searching_dark_knowledge_modifier
		}
	}


	option = {
		name = evil.0120.a
		custom_tooltip = evil.0120.a.tt
		add_character_modifier = {
			modifier = studying_dark_arts_modifier
			years = 5
		}
	}

}

### Phase 1: Black Market Fail ###
evil.0121 = {
	type = character_event
	title = evil.0121.t
	desc = {
        first_valid = {
            triggered_desc = {
                trigger = {exists = var:method var:method = 1}
                desc = evil.0121.1.desc
            }
            triggered_desc = {
                trigger = {exists = var:method var:method = 2}
                desc = evil.0121.2.desc
            }
        }
    }
	theme = learning_scholarship_focus
	override_background = {     
      event_background = market_east
	}
	left_portrait = {
		character = root
		animation = anger
	}

	immediate = {
		if = {
			limit = {has_character_modifier = searching_dark_knowledge_modifier}
			remove_character_modifier = searching_dark_knowledge_modifier
		}
	}

	option = { 
		name = evil.0121.a # Try again!
		custom_tooltip = evil.0121.a.tt
		trigger_event = {
			id = evil.0101
		}
	}

	option = { 
		name = evil.0121.b # Give up!
		custom_tooltip = evil.0121.b.tt
		learn_sorcery_cancel_effect = yes
		remove_character_flag = learning_sorcery
		scope:activity = { complete_activity = yes }
	}

}

### Phase 1: Travel to the Hidden Vale (Unlock Decision). Not in Use. ###
evil.0130 = {
	type = character_event
	title = evil.0130.t
	desc = evil.0130.desc
	theme = learning_scholarship_focus
	override_background = {     
      event_background = study
	}
	left_portrait = {
		character = root
		animation = schadenfreude
	}

	immediate = {}

	option = { 
		name = evil.0130.a # Connoisseur of the Dark Arts
		custom_tooltip = evil.0130.a.tt
		add_character_modifier = {
			modifier = sorcery_connoisseur_modifier
		}
		remove_character_modifier = studying_dark_arts_modifier
		remove_character_flag = learning_sorcery
		scope:activity = { complete_activity = yes }
	}

}


### Phase 1: Yearly events


### Phase 1: Completion ###
evil.0190 = {
	type = character_event
	title = evil.0190.t
	desc = { # Give Dark Knowledge Fragment
		desc = evil.0190.desc
		first_valid = {
			triggered_desc = {
				trigger = {
					var:sorcery_quest = 0
				}
				desc = evil.dark_knowledge_fragment
			}
			triggered_desc = {
				trigger = {
					var:sorcery_quest = 1
				}
				desc = evil.dark_knowledge_fragment.a
			}
			triggered_desc = {
				trigger = {
					var:sorcery_quest = 2
				}
				desc = evil.dark_knowledge_fragment.b
			}
			triggered_desc = {
				trigger = {
					var:sorcery_quest = 3
				}
				desc = evil.dark_knowledge_fragment.c
			}
			triggered_desc = {
				trigger = {
					var:sorcery_quest = 4
				}
				desc = evil.dark_knowledge_fragment.d
			}
			triggered_desc = {
				trigger = {
					var:sorcery_quest = 5
				}
				desc = evil.dark_knowledge_fragment.e
			}
			triggered_desc = {
				trigger = {
					var:sorcery_quest = 6
				}
				desc = evil.dark_knowledge_fragment.f
			}
			triggered_desc = {
				trigger = {
					var:sorcery_quest = 7
				}
				desc = evil.dark_knowledge_fragment.g
			}
			triggered_desc = {
				trigger = {
					var:sorcery_quest = 8
				}
				desc = evil.dark_knowledge_fragment.h
			}
			triggered_desc = {
				trigger = {
					var:sorcery_quest = 9
				}
				desc = evil.dark_knowledge_fragment.i
			}
			triggered_desc = {
				trigger = {
					var:sorcery_quest = 10
				}
				desc = evil.dark_knowledge_fragment.j
			}
			triggered_desc = {##
				trigger = {
					var:sorcery_quest >= 11
				}
				desc = evil.dark_knowledge_fragment.k
			}
		}
	}

	theme = learning_scholarship_focus
	override_background = {
		event_background = corridor_night
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = { has_character_flag = sorcery_quest_riddle_attempt }

	immediate = {
		play_music_cue = "mx_cue_combat_stinger"
	}

	option = { # Correct Answer
		name = evil.0190.a
		custom_tooltip = evil.0190.a.tt
		riddle_ritual_morgoths_ring_effect = yes
	}
	option = { # Misdirection
		name = evil.0190.b
		custom_tooltip = evil.0190.b.tt
		riddle_ritual_blood_offering_effect = yes
	}
	option = { # Misdirection
		name = evil.0190.c
		custom_tooltip = evil.0190.c.tt
		riddle_ritual_ritual_mutilation_effect = yes
	}
	option = { # Misdirection
		name = evil.0190.d
		custom_tooltip = evil.0190.d.tt
		riddle_ritual_into_darkness_effect = yes
	}
	option = { # Misdirection####
		name = evil.0190.e
		custom_tooltip = evil.0190.e.tt
		riddle_ritual_wild_dance_effect = yes
	}
	option = { # Nope
		name = evil.0190.f
	}
	after = { remove_character_flag = sorcery_quest_riddle_attempt }
}



evil.0200 = {	##################################################################################### Phase 2: Travel to the Hidden Vale -> From Decision (Important).
	type = character_event
	title = evil.0200.t
	desc = evil.0200.desc
	theme = learning_scholarship_focus
	override_background = {     
      event_background = study
	}
	left_portrait = {
		character = root
		animation = war_attacker
	}

	option = { 
		name = evil.0200.a # Start the Travel
		custom_tooltip = evil.0200.a.tt
		add_character_modifier = {
			modifier = searching_shadow_library_modifier
		}
		hidden_effect = {
		random_list = {
			5 = {	# An Accident
				trigger_event = {
					id = evil.0201
					#days = 100
				}
			}
			35 = {	# An Assault
				trigger_event = {
					id = evil.0202
					#days = 100
				}
			}
			25 = {	# A Wild graug
				trigger_event = {
					id = evil.0208
					#days = 100
				}
			}
			5 = {	# Arrive without problems
				trigger_event = {
					id = evil.0210
					#days = 183
				}
			}
		}
		}
	}

	option = {
		name = evil.0200.b # Give up!
		custom_tooltip = evil.0200.b.tt
	}

}

evil.0201 = {	##################################################################################### Phase 2: An Accident!
	type = character_event
	title = evil.0201.t
	desc = evil.0201.desc
	theme = learning_scholarship_focus
	override_background = {     
      event_background = wilderness_mountains
	}
	left_portrait = {
		character = root
		animation = pain
	}

	immediate = {
		if = {
			limit = {has_trait = wounded_2}
			hidden_effect = {remove_trait = wounded_2}
			add_trait = wounded_3
		}
		else_if = {
			limit = {has_trait = wounded_1}
			hidden_effect = {remove_trait = wounded_1}
			add_trait = wounded_2
		}
		else = {
			add_trait = wounded_1
		}
	}

	option = { 
		name = evil.0201.a # Ouch!
		custom_tooltip = evil.0201.a.tt
		trigger_event = {
			id = evil.0210
			#days = 100
		}
	}

}

evil.0202 = {	##################################################################################### Phase 2: An Assault!
	type = character_event
	title = evil.0202.t
	desc = evil.0202.desc
	theme = learning_scholarship_focus
	override_background = {     
      event_background = wilderness_forest_pine
	}
	left_portrait = {
		character = root
		animation = shock
	}
	right_portrait = {
		character = scope:bandit
		animation = war_defender
	}

	immediate = {
		create_character = {
			template = orc_escaped_slave_character
			dynasty = none
			culture = culture:burgulhai
			faith = faith:sons_of_sauron
			prowess = {0 5}
			gender_female_chance = 0
			save_scope_as = bandit
		}
	}

	option = { 
		name = evil.0202.a # Fight
		custom_tooltip = evil.0202.a.tt
		add_internal_flag = dangerous
		random_list = {
			65 = {	# Duel with the leader
				configure_start_single_combat_effect = {
					SC_INITIATOR = scope:bandit
					SC_ATTACKER = scope:bandit
					SC_DEFENDER = root
					FATALITY = always
					FIXED = no
					LOCALE = wilderness_mountains
					OUTPUT_EVENT = evil.0203
					INVALIDATION_EVENT = evil.0203
				}
			}
			35 = {	# Fight against everyone
				random_list = {
					1 = {
						compare_modifier = {
            				value = root.prowess
       					}
						set_variable = {name = win value = 1}
					}
					25 = {
						set_variable = {name = win value = 0}
					}
				}
				trigger_event = {
					id = evil.0205
					#days = 30
				}
			}
			0 = {
				death = {	# Just for the skull icon
					killer = scope:bandit
					death_reason = death_murder
				}
			}
		}
	}

	option = { 
		name = evil.0202.b # Pay
		custom_tooltip = evil.0202.b.tt
		remove_short_term_gold = {
			value = massive_gold_value
		}
		random_list = {
			60 = {	# They Accept and go away
				set_variable = {name = payment value = 1}
			}
			40 = {	# They ask for more...
				set_variable = {name = payment value = 0}
			}
		}
		trigger_event = {
			id = evil.0206
			#days = 30
		}
	}

	option = { 
		name = evil.0202.c # Run!
		custom_tooltip = evil.0202.c.tt
		random_list = {
			1 = {	# Escape!
				set_variable = {name = escaped value = 1}
				compare_modifier = {
            		value = root.health
       			}
			}
			10 = {	# They catch you...
				set_variable = {name = escaped value = 0}
			}
		}
		trigger_event = {
			id = evil.0207
			#days = 30
		}
	}

}

evil.0203 = {	##################################################################################### Phase 2: An Assault! (hidden duel effect)
	hidden = yes

	immediate = {
		if = {
			limit = { scope:sc_victor = scope:bandit }
			set_variable = {name = win value = 0}
		}
		else_if = {
			limit = { scope:sc_victor = root}
			set_variable = {name = win value = 1}
		}
		trigger_event = {
			id = evil.0204
			days = 1
		}
	}

}

evil.0204 = {	##################################################################################### Phase 2: An Assault! (Duel Result)
	type = character_event
	title = evil.0204.t
	desc = {
        first_valid = {
            triggered_desc = {
                trigger = {exists = var:win var:win = 0}
                desc = evil.0204.1.desc
            }
            triggered_desc = {
                trigger = {exists = var:win var:win = 1}
                desc = evil.0204.2.desc
            }
        }
    }
	theme = learning_scholarship_focus
	override_background = {     
      event_background = wilderness_forest_pine
	}
	left_portrait = {
		character = scope:winner
		animation = personality_bold
	}
	right_portrait = {
		character = scope:loser
		animation = shock
	}

	immediate = {
		if = {
			limit = {exists = var:win var:win = 0}
			root = {save_scope_as = loser}
			scope:bandit = {save_scope_as = winner}
		}
		else_if = {
			limit = {exists = var:win var:win = 1}
			root = {save_scope_as = winner}
			scope:bandit = {save_scope_as = loser}
		}
	}

	option = {
		name = {
			text = {
				first_valid = {
					triggered_desc ={
						trigger = {exists = var:win var:win = 0}
						desc = evil.0204.1.a
					}
					triggered_desc ={
						trigger = {exists = var:win var:win = 1}
						desc = evil.0204.2.a
					}
				}
			}
		}
		custom_tooltip = evil.0204.a.tt
		trigger_event = {
			id = evil.0210
		}
	}		
}

evil.0205 = {	##################################################################################### Phase 2: An Assault! (Fight against all the bandits!)
	type = character_event
	title = evil.0205.t
	desc = {
        first_valid = {
            triggered_desc = {
                trigger = {exists = var:win var:win = 0}
                desc = evil.0205.1.desc
            }
            triggered_desc = {
                trigger = {exists = var:win var:win = 1}
                desc = evil.0205.2.desc
            }
        }
    }
	theme = learning_scholarship_focus
	override_background = {     
      event_background = wilderness_forest_pine
	}
	left_portrait = {
		character = scope:winner
		animation = anger
	}
	right_portrait = {
		character = scope:loser
		animation = shock
	}

	immediate = {
		if = {
			limit = {exists = var:win var:win = 0}
			root = {save_scope_as = loser}
			if = {
				limit = {has_trait = wounded_2}
				hidden_effect = {remove_trait = wounded_2}
				add_trait = wounded_3
			}
			else_if = {
				limit = {has_trait = wounded_1}
				hidden_effect = {remove_trait = wounded_1}
				add_trait = wounded_2
			}
			else = {
				add_trait = wounded_1
			}
			remove_short_term_gold = {
				value = massive_gold_value
			}
		}
		else_if = {
			limit = {exists = var:win var:win = 1}
			root = {save_scope_as = winner}
		}
	}

	option = {
		name = {
			text = {
				first_valid = {
					triggered_desc ={
						trigger = {exists = var:win var:win = 0}
						desc = evil.0205.1.a
					}
					triggered_desc ={
						trigger = {exists = var:win var:win = 1}
						desc = evil.0205.2.a
					}
				}
			}
		}
		custom_tooltip = evil.0205.a.tt
		trigger_event = {
			id = evil.0210
		}
	}	
}

evil.0206 = {	##################################################################################### Phase 2: An Assault! (Payment Result)
	type = character_event
	title = evil.0206.t
	desc = {
        first_valid = {
            triggered_desc = {
                trigger = {exists = var:payment var:payment = 0}
                desc = evil.0206.1.desc
            }
            triggered_desc = {
                trigger = {exists = var:payment var:payment = 1}
                desc = evil.0206.2.desc
            }
        }
    }
	theme = learning_scholarship_focus
	override_background = {     
      event_background = wilderness_forest_pine
	}
	left_portrait = {
		character = scope:pass
		animation = flirtation
	}
	right_portrait = {
		character = scope:mauled
		animation = pain
	}

	immediate = {
		if = {
			limit = {exists = var:payment var:payment = 0}
			root = {save_scope_as = mauled}
			if = {
				limit = {has_trait = wounded_2}
				hidden_effect = {remove_trait = wounded_2}
				add_trait = wounded_3
			}
			else_if = {
				limit = {has_trait = wounded_1}
				hidden_effect = {remove_trait = wounded_1}
				add_trait = wounded_2
			}
			else = {
				add_trait = wounded_1
			}
			remove_short_term_gold = {
				value = major_gold_value
			}
		}
		else_if = {
			limit = {exists = var:payment var:payment = 1}
			root = {save_scope_as = pass}
		}
	}

	option = {
		name = {
			text = {
				first_valid = {
					triggered_desc ={
						trigger = {exists = var:payment var:payment = 0}
						desc = evil.0206.1.a
					}
					triggered_desc ={
						trigger = {exists = var:payment var:payment = 1}
						desc = evil.0206.2.a
					}
				}
			}
		}
		custom_tooltip = evil.0206.a.tt
		trigger_event = {
			id = evil.0210
		}
	}		
}

evil.0207 = {	##################################################################################### Phase 2: An Assault! (RUN Result)
	type = character_event
	title = evil.0207.t
	desc = {
        first_valid = {
            triggered_desc = {
                trigger = {exists = var:escaped var:escaped = 0}
                desc = evil.0207.1.desc
            }
            triggered_desc = {
                trigger = {exists = var:escaped var:escaped = 1}
                desc = evil.0207.2.desc
            }
        }
    }
	theme = learning_scholarship_focus
	override_background = {     
      event_background = wilderness_forest_pine
	}
	left_portrait = {
		character = scope:pass
		animation = paranoia
	}
	right_portrait = {
		character = scope:mauled
		animation = pain
	}

	immediate = {
		if = {
			limit = {exists = var:escaped var:escaped = 0}
			root = {save_scope_as = mauled}
			if = {
				limit = {has_trait = wounded_2}
				hidden_effect = {remove_trait = wounded_2}
				add_trait = wounded_3
			}
			else_if = {
				limit = {has_trait = wounded_1}
				hidden_effect = {remove_trait = wounded_1}
				add_trait = wounded_2
			}
			else = {
				add_trait = wounded_1
			}
			remove_short_term_gold = {
				value = massive_gold_value
				add = major_gold_value
			}
		}
		else_if = {
			limit = {exists = var:escaped var:escaped = 1}
			root = {save_scope_as = pass}
		}
	}

	option = {
		name = {
			text = {
				first_valid = {
					triggered_desc ={
						trigger = {exists = var:escaped var:escaped = 0}
						desc = evil.0207.1.a
					}
					triggered_desc ={
						trigger = {exists = var:escaped var:escaped = 1}
						desc = evil.0207.2.a
					}
				}
			}
		}
		custom_tooltip = evil.0207.a.tt
		trigger_event = {
			id = evil.0210
		}
	}		
}

evil.0208 = {	##################################################################################### Phase 2: A graug!
	type = character_event
	title = evil.0208.t
	desc = evil.0208.desc
	theme = learning_scholarship_focus
	override_background = {     
      event_background = wilderness_mountains
	}
	left_portrait = {
		character = root
		animation = shock
	}

	option = { 
		name = evil.0208.a # Confront him
		custom_tooltip = evil.0208.a.tt
		skill = prowess
		add_internal_flag = dangerous
		hidden_effect = {
		random_list = {
			1 = {
				set_variable = {name = graug value = 2}
			}
			0 = {
				death = {	# Just for the skull icon
					killer = root
					death_reason = death_murder
				}
			}
		}
		trigger_event = {
			id = evil.0209
		}
		}
	}

	option = { 
		name = evil.0208.b # Wait
		custom_tooltip = evil.0208.b.tt
		hidden_effect = {
		random_list = {
			50 = {	# It goes away
				set_variable = {name = graug value = 1}
			}
			50 = {	# It saw you!
				set_variable = {name = graug value = 0}
			}
		}
		}
		trigger_event = {
			id = evil.0209
		}
	}

	option = { 
		name = evil.0208.c # Sneak
		custom_tooltip = evil.0208.c.tt
		trigger = {
			root.intrigue >= 10
		}
		skill = intrigue
		random_list = {
			40 = {	# It goes away
				set_variable = {name = graug value = 1}
				compare_modifier = {
            		value = root.intrigue
            		multiplier = 2
       			}
			}
			20 = {	# It saw you!
				set_variable = {name = graug value = 0}
			}
		}
		trigger_event = {
			id = evil.0209
		}
	}

}

evil.0209 = {	##################################################################################### Phase 2: A graug! (Results)
	type = character_event
	title = evil.0209.t
	desc = {
        first_valid = {
            triggered_desc = {
                trigger = {exists = var:graug var:graug = 0}
                desc = evil.0209.1.desc
            }
            triggered_desc = {
                trigger = {exists = var:graug var:graug = 1}
                desc = evil.0209.2.desc
            }
            triggered_desc = {
                trigger = {exists = var:graug var:graug = 2}
                desc = evil.0209.3.desc
            }
        }
    }
	theme = learning_scholarship_focus
	override_background = {     
      event_background = wilderness_mountains
	}
	left_portrait = {
		character = scope:confront
		animation = anger
	}
	right_portrait = {
		character = scope:goaway
		animation = paranoia
	}

	immediate = {
		if = {
			limit = {exists = var:graug var:graug = 0}
			root = {save_scope_as = goaway}
			random_list = {
				50 = {
					if = {
						limit = {has_trait = wounded_2}
						hidden_effect = {remove_trait = wounded_2}
						add_trait = wounded_3
					}
					else_if = {
						limit = {has_trait = wounded_1}
						hidden_effect = {remove_trait = wounded_1}
						add_trait = wounded_3
					}
					else = {
						add_trait = wounded_2
					}
				}
				50 = {
					random_list = {
						1 = {add_trait = scarred}
						1 = {add_trait = one_eyed}
						1 = {add_trait = one_legged}
						1 = {add_trait = disfigured}
					}
				}
			}
		}
		else_if = {
			limit = {exists = var:graug var:graug = 1}
			root = {save_scope_as = goaway}
		}
		else_if = {
			limit = {exists = var:graug var:graug = 2}
			root = {save_scope_as = confront}
			random_list = {
				1 = {
					compare_modifier = {
						value = this.prowess
						multiplier = 2
					}
					add_character_modifier = {
						modifier = killed_a_graug_modifier
					}
				}
				20 = {
					add_trait = wounded_2
					random_list = {
						1 = {add_trait = scarred}
						1 = {add_trait = one_eyed}
						1 = {add_trait = one_legged}
						1 = {add_trait = disfigured}
					}
					add_character_modifier = {
						modifier = killed_a_graug_modifier
					}
				}
				10 = {
					root = {
						death = {
							death_reason = death_eaten
						}
					}
				}
			}
		}
	}

	option = {
		name = {
			text = {
				first_valid = {
					triggered_desc ={
						trigger = {exists = var:graug var:graug = 0}
						desc = evil.0209.1.a
					}
					triggered_desc ={
						trigger = {exists = var:graug var:graug = 1}
						desc = evil.0209.2.a
					}
					triggered_desc ={
						trigger = {exists = var:graug var:graug = 2}
						desc = evil.0209.3.a
					}
				}
			}
		}
		custom_tooltip = evil.0209.a.tt
		trigger_event = {
			id = evil.0210
		}
	}		
}

evil.0210 = {	##################################################################################### Phase 2: Arriving!
	type = character_event
	title = evil.0210.t
	desc = evil.0210.desc
	theme = learning_scholarship_focus
	override_background = {     
      event_background = corridor_night
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	immediate = {
		if = {
			limit = {
				OR = {
					NOT = {exists = scope:guard}
					scope:guard = {is_alive = no}
				}
			}
			create_character = {
				template = orc_champion_character
				dynasty = none
				culture = culture:luftutaumhai
				faith = faith:red_eye_cult
				gender_female_chance = 0
				save_scope_as = guard
			}
		}
	}

	option = { 
		name = evil.0210.a # Ask for permission
		custom_tooltip = evil.0210.a.tt
		trigger_event = {
			id = evil.0220
			#days = 30
		}
	}

	option = { 
		name = evil.0210.b # Approach the guard
		custom_tooltip = evil.0210.b.tt
		trigger_event = {
			id = evil.0230
			#days = 30
		}
	}

	option = { 
		name = evil.0210.c # Try to infiltrate
		custom_tooltip = evil.0210.c.tt
		trigger_event = {
			id = evil.0240
			#days = 30
		}
	}

}

evil.0220 = {	##################################################################################### Phase 2: The Shadow Library (Permission)
	type = character_event
	title = evil.0220.t
	desc = evil.0220.desc
	theme = learning_scholarship_focus
	override_background = {     
      event_background = corridor_night
	}
	left_portrait = {
		character = root
		animation = beg
	}
	right_portrait = {
		character = scope:lord
		animation = personality_dishonorable
	}

	immediate = {
		title:c_barad_dur.holder = {save_scope_as = lord}
	}

	option = { 
		name = evil.0220.a # Eternal Loyalty
		custom_tooltip = evil.0220.a.tt
		random_list = {
			1 = {
				set_variable = {name = lordaccept value = 1}
				scope:lord = {
					add_hook = {
		        	    type = loyalty_hook
		        	   	target = root
		        	}
		        }
		        if = {
		        	limit = {root.gold > 0}
		        	pay_short_term_gold = {
		        		target = scope:lord
		        		gold = root.gold
		        	}
		        }
		        add_prestige = -500
		        add_dread = -50
			}
			1 = {
				set_variable = {name = lordaccept value = 0}
			}
		}
		trigger_event = {
			id = evil.0221
			#days = 30
		}
	}

	option = { 
		name = evil.0220.b # Become his vassal
		custom_tooltip = evil.0220.b.tt
		trigger = {
			NOT = {root.top_liege = scope:lord}
		}
		set_variable = {name = lordaccept value = 1}
		if = {
			limit = {
				OR = {
					AND = {
						scope:lord.primary_title = {tier = 5}
						root.primary_title = {tier < 5}
					}
					AND = {
						scope:lord.primary_title = {tier = 4}
						root.primary_title = {tier < 4}
					}
				}
			}
			create_title_and_vassal_change = {
				type = swear_fealty
				save_scope_as = title_change
				add_claim_on_loss = no
			}
			root = {
				change_liege = {
					liege = scope:lord
					change = scope:title_change
				}
			}
			resolve_title_and_vassal_change = scope:title_change
		}
		else = {
			create_title_and_vassal_change = {
				type = swear_fealty
				save_scope_as = title_change
				add_claim_on_loss = no
			}
			change_liege = {
				liege = scope:lord
				change = scope:title_change
			}
			root.primary_title = {
				change_title_holder = {
                	holder = scope:lord
                	change = scope:title_change
            	}
            }
            resolve_title_and_vassal_change = scope:title_change
		}
		trigger_event = {
			id = evil.0221
			#days = 30
		}
	}

	option = { 
		name = evil.0220.c # He is asking for too much
		custom_tooltip = evil.0220.c.tt
		random_list = {
			1 = {
				trigger_event = {
					id = evil.0210
					#days = 30
				}
			}
			1 = {
				set_variable = {name = lordaccept value = 0}
				trigger_event = {
					id = evil.0221
					#days = 30
				}
			}
		}
	}
}

evil.0221 = {	##################################################################################### Phase 2: The Shadow Library (Permission) Results
	type = character_event
	title = evil.0221.t
	desc = {
        first_valid = {
            triggered_desc = {
                trigger = {exists = var:lordaccept var:lordaccept = 0}
                desc = evil.0221.1.desc
            }
            triggered_desc = {
                trigger = {exists = var:lordaccept var:lordaccept = 1}
                desc = evil.0221.2.desc
            }
        }
    }
	theme = learning_scholarship_focus
	override_background = {     
      event_background = corridor_night
	}
	left_portrait = {
		character = scope:free
		animation = happiness
	}
	right_portrait = {
		character = scope:prisoner
		animation = prisonhouse
	}

	immediate = {
		title:c_barad_dur.holder = {save_scope_as = lord}
		if = {
			limit = {exists = var:lordaccept var:lordaccept = 0}
			root = {save_scope_as = prisoner}
			if = {
		        limit = {root.gold > 0}
		        pay_short_term_gold = {
		        	target = scope:lord
		        	gold = root.gold
		        }
		    }
			scope:lord = {
				imprison = {
					target = root
					type = dungeon
				}
			}
		}
		else_if = {
			limit = {exists = var:lordaccept var:lordaccept = 1}
			root = {save_scope_as = free}
		}
	}

	option = {
		name = {
			text = {
				first_valid = {
					triggered_desc ={
						trigger = {exists = var:lordaccept var:lordaccept = 0}
						desc = evil.0221.1.a
					}
					triggered_desc ={
						trigger = {exists = var:lordaccept var:lordaccept = 1}
						desc = evil.0221.2.a
					}
				}
			}
		}
		custom_tooltip = evil.0221.a.tt
		if = {
			limit = {exists = var:lordaccept var:lordaccept = 1}
			trigger_event = {
				id = evil.0250
			}
		}
		if = {
			limit = {exists = var:lordaccept var:lordaccept = 0}
			remove_character_modifier = searching_shadow_library_modifier
		}
	}		
}

evil.0230 = {	##################################################################################### Phase 2: The Shadow Library (Approach the guard)
	type = character_event
	title = evil.0230.t
	desc = evil.0230.desc
	theme = learning_scholarship_focus
	override_background = {     
      event_background = corridor_night
	}
	left_portrait = {
		character = root
		animation = anger
	}
	right_portrait = {
		character = scope:guard
		animation = personality_callous
	}

	option = { 
		name = evil.0230.a # Fight
		custom_tooltip = evil.0230.a.tt
		add_internal_flag = dangerous
		configure_start_single_combat_effect = {
			SC_INITIATOR = root
			SC_ATTACKER = root
			SC_DEFENDER = scope:guard
			FATALITY = always
			FIXED = no
			LOCALE = corridor_night
			OUTPUT_EVENT = evil.0231
			INVALIDATION_EVENT = evil.0231
		}
	}

	option = { 
		name = evil.0230.b # 
		custom_tooltip = evil.0230.b.tt
		trigger = {
			root.gold >= 250
		}
		remove_short_term_gold = {
			value = 300
		}
		trigger_event = {
			id = evil.0250
		}
	}

	option = { 
		name = evil.0230.c # 
		custom_tooltip = evil.0230.c.tt
		trigger_event = {
			id = evil.0210
		}
	}

}

evil.0231 = {	##################################################################################### Phase 2: The Shadow Library (Approach the guard) hidden effect
	hidden = yes

	immediate = {
		if = {
			limit = { scope:sc_victor = scope:guard }
			set_variable = {name = win value = 0}
		}
		else_if = {
			limit = { scope:sc_victor = root}
			set_variable = {name = win value = 1}
		}
		trigger_event = {
			id = evil.0232
			days = 1
		}
	}

}

evil.0232 = {	##################################################################################### Phase 2: The Shadow Library (Approach the guard) (Duel Result)
	type = character_event
	title = evil.0232.t
	desc = {
        first_valid = {
            triggered_desc = {
                trigger = {exists = var:win var:win = 0}
                desc = evil.0232.1.desc
            }
            triggered_desc = {
                trigger = {exists = var:win var:win = 1}
                desc = evil.0232.2.desc
            }
        }
    }
	theme = learning_scholarship_focus
	override_background = {     
      event_background = corridor_night
	}
	left_portrait = {
		character = scope:winner
		animation = personality_bold
	}
	right_portrait = {
		character = scope:loser
		animation = shock
	}

	immediate = {
		if = {
			limit = {exists = var:win var:win = 0}
			root = {save_scope_as = loser}
			scope:guard = {save_scope_as = winner}
		}
		else_if = {
			limit = {exists = var:win var:win = 1}
			root = {save_scope_as = winner}
			scope:guard = {save_scope_as = loser}
		}
	}

	option = {
		name = {
			text = {
				first_valid = {
					triggered_desc ={
						trigger = {exists = var:win var:win = 0}
						desc = evil.0232.1.a
					}
					triggered_desc ={
						trigger = {exists = var:win var:win = 1}
						desc = evil.0232.2.a
					}
				}
			}
		}
		custom_tooltip = evil.0232.a.tt
		if = {
			limit = {exists = var:win var:win = 1}
			trigger_event = {
				id = evil.0250
			}
		}
		else_if = {
			limit = {exists = var:win var:win = 0}
			clear_saved_scope = guard
			trigger_event = {
				id = evil.0210
			}
		}
	}		
}

evil.0240 = {	##################################################################################### Phase 2: The Shadow Library (Infiltrate)
	type = character_event
	title = evil.0240.t
	desc = evil.0240.desc
	theme = learning_scholarship_focus
	override_background = {     
      event_background = corridor_night
	}
	left_portrait = {
		character = root
		animation = personality_cynical
	}

	option = { 
		name = evil.0240.a # Wait
		custom_tooltip = evil.0240.a.tt
		trigger_event = {
			id = evil.0241
			#days = 7
		}
	}

	option = { 
		name = evil.0240.b # Disguise
		custom_tooltip = evil.0240.a.tt
		skill = intrigue
		#trigger = {root.intrigue >= 10}
		random_list = {
			10= {
				compare_modifier = {
					value = root.intrigue
					multiplier = 2
				}
				set_variable = {name = sneaky value = 1}
			}
			15 = {
				set_variable = {name = sneaky value = 0}
			}
		}
		trigger_event = {
			id = evil.0242
			#days = 1
		}
	}

	option = { 
		name = evil.0240.c # Impersonate a scribe
		custom_tooltip = evil.0240.a.tt
		skill = learning
		#trigger = {root.learning >= 20}
		random_list = {
			10= {
				compare_modifier = {
					value = root.learning
					multiplier = 2
				}
				set_variable = {name = impersonate value = 1}
			}
			20 = {
				set_variable = {name = impersonate value = 0}
			}
		}
		trigger_event = {
			id = evil.0243
		}
	}

}

evil.0241 = {	##################################################################################### Phase 2: The Shadow Library (Infiltrate) Wait
	type = character_event
	title = evil.0241.t
	desc = {
        first_valid = {
            triggered_desc = {
                trigger = {exists = var:enter var:enter = 0}
                desc = evil.0241.1.desc
            }
            triggered_desc = {
                trigger = {exists = var:enter var:enter = 1}
                desc = evil.0241.2.desc
            }
            triggered_desc = {
                trigger = {exists = var:enter var:enter = 2}
                desc = evil.0241.3.desc
            }
        }
    }
	theme = learning_scholarship_focus
	override_background = {     
      event_background = corridor_night
	}
	left_portrait = {
		character = scope:bored
		animation = boredom
	}
	right_portrait = {
		character = scope:captured
		animation = prisonhouse
	}

	immediate = {
		title:c_barad_dur.holder = {save_scope_as = lord}
		random_list = {
			75 = {
				random_list = {
					65 = {set_variable = {name = enter value = 1}}
					35 = {set_variable = {name = enter value = 2}}
				}
			}
			25 = {
				set_variable = {name = enter value = 0}
			}
		}
		if = {
			limit = {exists = var:enter var:enter = 0}
			root = {save_scope_as = captured}
		}
		else_if = {
			limit = {exists = var:enter var:enter = 1}
			root = {save_scope_as = bored}
		}
	}

	option = {
		name = {
			text = {
				first_valid = {
					triggered_desc ={
						trigger = {exists = var:enter var:enter = 0}
						desc = evil.0241.1.a
					}
					triggered_desc ={
						trigger = {exists = var:enter var:enter = 1}
						desc = evil.0241.2.a
					}
					triggered_desc ={
						trigger = {exists = var:enter var:enter = 2}
						desc = evil.0241.3.a
					}
				}
			}
		}
		custom_tooltip = evil.0241.a.tt
		if = {
			limit = {exists = var:enter var:enter = 0}
			if = {
		        limit = {root.gold > 0}
		        pay_short_term_gold = {
		        	target = scope:lord
		        	gold = root.gold
		        }
		    }
			scope:lord = {
				imprison = {
					target = root
					type = dungeon
				}
			}
			remove_character_modifier = searching_shadow_library_modifier
		}
		else_if = {
			limit = {exists = var:enter var:enter = 1}
			set_variable = {name = waiting value = 1}
			trigger_event = {
				id = evil.0241
				#days = 7
			}
		}
		else_if = {
			limit = {exists = var:enter var:enter = 2}
			trigger_event = {
				id = evil.0250
			}
		}
	}		

	option = {
		name = evil.0241.b # 
		custom_tooltip = evil.0241.b.tt
		trigger = {exists = var:enter var:enter = 1}
		trigger_event = {
			id = evil.0210
		}
	}

}

evil.0242 = {	##################################################################################### Phase 2: The Shadow Library (Infiltrate) Sneak as a Guard
	type = character_event
	title = evil.0242.t
	desc = {
        first_valid = {
            triggered_desc = {
                trigger = {exists = var:sneaky var:sneaky = 0}
                desc = evil.0242.1.desc
            }
            triggered_desc = {
                trigger = {exists = var:sneaky var:sneaky = 1}
                desc = evil.0242.2.desc
            }
        }
    }
	theme = learning_scholarship_focus
	override_background = {     
      event_background = corridor_night
	}
	left_portrait = {
		character = scope:succeded
		animation = scheme
	}
	right_portrait = {
		character = scope:captured
		animation = prisonhouse
	}

	immediate = {
		title:c_barad_dur.holder = {save_scope_as = lord}
		if = {
			limit = {exists = var:sneaky var:sneaky = 0}
			root = {save_scope_as = captured}
		}
		else_if = {
			limit = {exists = var:sneaky var:sneaky = 1}
			root = {save_scope_as = succeded}
		}
	}

	option = {
		name = {
			text = {
				first_valid = {
					triggered_desc ={
						trigger = {exists = var:sneaky var:sneaky = 0}
						desc = evil.0242.1.a
					}
					triggered_desc ={
						trigger = {exists = var:sneaky var:sneaky = 1}
						desc = evil.0242.2.a
					}
				}
			}
		}
		custom_tooltip = evil.0242.a.tt
		if = {
			limit = {exists = var:sneaky var:sneaky = 0}
			if = {
		        limit = {root.gold > 0}
		        pay_short_term_gold = {
		        	target = scope:lord
		        	gold = root.gold
		        }
		    }
			scope:lord = {
				imprison = {
					target = root
					type = dungeon
				}
			}
			remove_character_modifier = searching_shadow_library_modifier
		}
		else_if = {
			limit = {exists = var:sneaky var:sneaky = 1}
			trigger_event = {
				id = evil.0250
			}
		}
	}		

}

evil.0243 = {	##################################################################################### Phase 2: The Shadow Library (Infiltrate) Impersonate
	type = character_event
	title = evil.0243.t
	desc = {
        first_valid = {
            triggered_desc = {
                trigger = {exists = var:impersonate var:impersonate = 0}
                desc = evil.0243.1.desc
            }
            triggered_desc = {
                trigger = {exists = var:impersonate var:impersonate = 1}
                desc = evil.0243.2.desc
            }
        }
    }
	theme = learning_scholarship_focus
	override_background = {     
      event_background = corridor_night
	}
	left_portrait = {
		character = scope:succeded
		animation = scheme
	}
	right_portrait = {
		character = scope:captured
		animation = prisonhouse
	}

	immediate = {
		title:c_barad_dur.holder = {save_scope_as = lord}
		if = {
			limit = {exists = var:impersonate var:impersonate = 0}
			root = {save_scope_as = captured}
		}
		else_if = {
			limit = {exists = var:impersonate var:impersonate = 1}
			root = {save_scope_as = succeded}
		}
	}

	option = {
		name = {
			text = {
				first_valid = {
					triggered_desc ={
						trigger = {exists = var:impersonate var:impersonate = 0}
						desc = evil.0243.1.a
					}
					triggered_desc ={
						trigger = {exists = var:impersonate var:impersonate = 1}
						desc = evil.0243.2.a
					}
				}
			}
		}
		custom_tooltip = evil.0243.a.tt
		if = {
			limit = {exists = var:impersonate var:impersonate = 0}
			if = {
		        limit = {root.gold > 0}
		        pay_short_term_gold = {
		        	target = scope:lord
		        	gold = root.gold
		        }
		    }
			scope:lord = {
				imprison = {
					target = root
					type = dungeon
				}
			}
			remove_character_modifier = searching_shadow_library_modifier
		}
		else_if = {
			limit = {exists = var:impersonate var:impersonate = 1}
			trigger_event = {
				id = evil.0250
			}
		}
	}		

}

evil.0250 = {	##################################################################################### Phase 2: The Shadow Library (Interior)
	type = character_event
	title = evil.0250.t
	desc = evil.0250.desc
	theme = learning_scholarship_focus
	override_background = {     
      event_background = temple
	}
	left_portrait = {
		character = root
		animation = happiness
	}

	immediate = {}

	option = { 
		name = evil.0250.a # 
		custom_tooltip = evil.0250.a.tt
		remove_character_modifier = searching_shadow_library_modifier
		add_character_modifier = {
			modifier = lost_shadow_library_modifier
		}
		trigger_event = {
			id = evil.0251
#			years = 5
		}
	}

}

evil.0251 = {	##################################################################################### Phase 2: The Shadow Library (More knowledge?)
	type = character_event
	title = evil.0251.t
	desc = evil.0251.desc
	theme = learning_scholarship_focus
	override_background = {     
      event_background = temple
	}
	left_portrait = {
		character = root
		animation = happiness
	}

	immediate = {
		if = {
			limit = {NOT = {exists = var:librarycounter}}
			set_variable = {name = librarycounter value = 0}
		}
		else = {
			change_variable = {name = librarycounter add = 2}
		}
	}

	option = { 
		name = evil.0251.a # 
		custom_tooltip = evil.0251.a.tt
		add_learning_skill = 1
		add_stress = 25
		random_list = {
			10 = {}
			1 = {
				compare_modifier = {
					value = var:librarycounter
				}
				if = {
					limit = {AND = {has_trait = ill has_trait = lunatic}}
					death = {
						death_reason = death_vanished
					}
				}
				if = {
					limit = {has_trait = lunatic_1}
					add_trait = ill
					set_variable = {name = librarycounter value = 0}
				}
				if = {
					limit = {NOT = {has_trait = lunatic_1 }}
					add_trait = lunatic_1
				}
				set_variable = {name = librarycounter value = 0}
			}
		}
		trigger_event = {
			id = evil.0251
			days = 1
#			years = 1
		}
	}

	option = { 
		name = evil.0251.b # 
		custom_tooltip = evil.0251.b.tt
		trigger_event = {
			id = evil.0252
			days = 1
#			years = 1
		}
	}

}

evil.0252 = {	##################################################################################### Phase 2: The Shadow Library (LOST)
	type = character_event
	title = evil.0252.t
	desc = {
        first_valid = {
            triggered_desc = {
                trigger = {exists = var:exit var:exit = 0}
                desc = evil.0252.1.desc
            }
            triggered_desc = {
                trigger = {exists = var:exit var:exit = 1}
                desc = evil.0252.2.desc
            }
        }
    }
	theme = learning_scholarship_focus
	override_background = {     
      event_background = corridor_night
	}
	left_portrait = {
		character = root
		animation = paranoia
	}

	immediate = {
		random_list = {
			75 = {
				set_variable = {name = exit value = 0}
				add_stress = 20
				random_list = {
					33 = {
						if = {
							limit = {NOT = {has_trait = lunatic}}
							add_trait = lunatic_1
						}
					}
					66 = {}
				}
			}
			25 = {set_variable = {name = exit value = 1}}
		}
	}

	option = {
		name = {
			text = {
				first_valid = {
					triggered_desc ={
						trigger = {exists = var:exit var:exit = 0}
						desc = evil.0252.1.a
					}
					triggered_desc ={
						trigger = {exists = var:exit var:exit = 1}
						desc = evil.0252.2.a
					}
				}
			}
		}
		custom_tooltip = evil.0252.a.tt
		if = {
			limit = {exists = var:exit var:exit = 0}
			trigger_event = {
				id = evil.0252
				#days = 100
			}
		}
		else_if = {
			limit = {exists = var:exit var:exit = 1}
			trigger_event = {
				id = evil.0253
			}
		}
	}		

}

evil.0253 = {	##################################################################################### Phase 2: The Shadow Library (OUT!)
	type = character_event
	title = evil.0253.t
	desc = evil.0253.desc
	theme = learning_scholarship_focus
	override_background = {     
      event_background = wilderness_mountains
	}
	left_portrait = {
		character = root
		animation = happiness
	}

	immediate = {
		remove_character_modifier = lost_shadow_library_modifier
		remove_character_modifier = sorcery_connoisseur_modifier
		add_trait = sorcerer_1
	}

	option = { 
		name = evil.0253.a # 
		custom_tooltip = evil.0253.a.tt
	}

}
