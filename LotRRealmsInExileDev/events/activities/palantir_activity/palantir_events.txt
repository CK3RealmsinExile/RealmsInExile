namespace = palantir

### Starting event

palantir.0001 = { # The Palantir
	title = palantir.0001.t
	desc = palantir.0001.desc
	theme = mental_break
	override_background = {
		event_background = relaxing_room
	}
	left_portrait = {
		character = root
		animation = worry
	}
	
	option = { # Gaze into the Palantir.
		name = palantir.0001.a	
		custom_tooltip = palantir.0001.a.tt
		random = {
				chance = 33
				random_list = {
					1 = {add_intrigue_lifestyle_perk_points = 1}
					1 = {add_martial_lifestyle_perk_points = 1}
					1 = {add_diplomacy_lifestyle_perk_points = 1}
					1 = {add_learning_lifestyle_perk_points = 1}
					1 = {add_stewardship_lifestyle_perk_points = 1}
				}
			}
		random = {
			chance = 33
			add_stress = 20
		}
		trigger_event = {
			on_action = palantir_good_events
		}
		if = {
			limit = { exists = title:k_haruzan.holder }
			title:k_haruzan.holder = {
				save_scope_as = haruzanking
			}
		}
		if = {
			limit = { exists = title:k_rohan.holder }
			title:k_rohan.holder = {
				save_scope_as = rohanking
			}
		}
		if = {
			limit = { exists = title:e_golden_realm_rhun.holder }
			title:e_golden_realm_rhun.holder = {
				save_scope_as = lokekan
			}
		}
	}
	option = { # It is too dangerous.
		name = palantir.0001.b	
		custom_tooltip = palantir.0001.b.tt
		scope:activity = {
			complete_activity = yes
		}
		remove_character_flag = planning_an_activity
		remove_decision_cooldown = palantir_decision
		ai_chance = {
			base = 0
		}
	}
}

### Palantir.0101 to 0199 - Free Peoples events

palantir.0101 = { # The Palantir - Ithilien
	title = palantir.0101.t
	desc = palantir.0101.desc
	theme = mental_break
	override_background = {
		event_background = wilderness_forest_pine
	}
	left_portrait = {
		character = root
		animation = disbelief
	}
	
	option = { 
		name = palantir.0101.a	
		custom_tooltip = palantir.0100.a.tt
		random = {
				chance = 33
				random_list = {
					1 = {add_intrigue_lifestyle_perk_points = 1}
					1 = {add_martial_lifestyle_perk_points = 1}
					1 = {add_diplomacy_lifestyle_perk_points = 1}
					1 = {add_learning_lifestyle_perk_points = 1}
					1 = {add_stewardship_lifestyle_perk_points = 1}
				}
			}
		random = {
			chance = 33
			add_stress = 20
		}
		trigger_event = {
			on_action = palantir_evil_events
		}
	}

	option = { 
		name = palantir.0100.b # I must stop, this is too dangerous...
		custom_tooltip = palantir.0100.b.tt	
		trigger_event = {
			id = palantir.0400
			days = 3
		}
	}
}

palantir.0102 = { # The Palantir - Pelargir
	title = palantir.0102.t
	desc = palantir.0102.desc
	theme = mental_break
	override_background = {
		event_background = docks_dunedain
	}
	left_portrait = {
		character = root
		animation = worry
	}
	right_portrait = {
		character = scope:sealord
		animation = personality_rational
	}
	
	immediate = {
		if = {
			limit = { exists = title:k_lebennin.holder }
			title:k_lebennin.holder = {
				save_scope_as = sealord
			}
		}
	}
	
	option = { 
		name = palantir.0102.a
		custom_tooltip = palantir.0100.a.tt
				random = {
				chance = 33
				random_list = {
					1 = {add_intrigue_lifestyle_perk_points = 1}
					1 = {add_martial_lifestyle_perk_points = 1}
					1 = {add_diplomacy_lifestyle_perk_points = 1}
					1 = {add_learning_lifestyle_perk_points = 1}
					1 = {add_stewardship_lifestyle_perk_points = 1}
				}
			}
		random = {
			chance = 33
			add_stress = 20
		}
		trigger_event = {
			on_action = palantir_evil_events
		}
	}

	option = { 
		name = palantir.0100.b # I must stop, this is too dangerous...
		custom_tooltip = palantir.0100.b.tt	
		trigger_event = {
			id = palantir.0400
			days = 3
		}
	}
}

palantir.0103 = { # The Palantir - Withered Tree
	title = palantir.0103.t
	desc = palantir.0103.desc
	theme = mental_break
	override_background = {
		event_background = minas_tirith
	}
	left_portrait = {
		character = root
		animation = worry
	}
	right_portrait = {
		character = scope:gondor
		animation = shame
	}
	
	immediate = {
		if = {
			limit = { exists = title:e_gondor_steward.holder }
			title:e_gondor_steward.holder = {
				save_scope_as = gondor
			}
		}
		if = {
			limit = { exists = title:e_gondor.holder }
			title:e_gondor.holder = {
				save_scope_as = gondor
			}
		}
		if = {
			limit = { exists = title:e_castamir.holder }
			title:e_castamir.holder = {
				save_scope_as = gondor
			}
		}
	}
	
	option = { 
		name = palantir.0103.a.good
		custom_tooltip = palantir.0100.a.tt
		trigger = { faith_is_evil = no }
		random = {
			chance = 33
			random_list = {
				1 = {add_intrigue_lifestyle_perk_points = 1}
				1 = {add_martial_lifestyle_perk_points = 1}
					1 = {add_diplomacy_lifestyle_perk_points = 1}
				1 = {add_learning_lifestyle_perk_points = 1}
				1 = {add_stewardship_lifestyle_perk_points = 1}
			}
		}
		random = {
			chance = 33
			add_stress = 20
		}
		trigger_event = {
			on_action = palantir_evil_events
		}
	}
	
	option = { 
		name = palantir.0103.a.evil
		custom_tooltip = palantir.0100.a.tt
		trigger = { faith_is_evil = yes }
		random = {
			chance = 33
			random_list = {
				1 = {add_intrigue_lifestyle_perk_points = 1}
				1 = {add_martial_lifestyle_perk_points = 1}
					1 = {add_diplomacy_lifestyle_perk_points = 1}
				1 = {add_learning_lifestyle_perk_points = 1}
				1 = {add_stewardship_lifestyle_perk_points = 1}
			}
		}
		random = {
			chance = 33
			add_stress = 20
		}
		trigger_event = {
			on_action = palantir_evil_events
		}
	}

	option = { 
		name = palantir.0100.b # I must stop, this is too dangerous...
		custom_tooltip = palantir.0100.b.tt	
		trigger_event = {
			id = palantir.0400
			days = 3
		}
	}
}

palantir.0201 = { # The Palantir - Harondor
	title = palantir.0201.t
	desc = palantir.0201.desc
	theme = generic_intrigue_scheme
	override_background = {
		event_background = wilderness_steppe
	}
	left_portrait = {
		character = root
		animation = disgust
	}
	right_portrait = {
		character = scope:haruzanking
		animation = aggressive_sword
	}
	
	option = { 
		name = palantir.0201.a	
		custom_tooltip = palantir.0201.a.tt
		trigger_event = {
			id = palantir.0104
			days = 3
		}
		random = {
			chance = 33
			add_stewardship_skill = 1
		}
		random = {
			chance = 33
			add_stress = 30
		}
	}
	option = { 
		name = palantir.0103.b # I must stop, this is too dangerous...
		custom_tooltip = palantir.0103.b.tt
	}
}



palantir.0105 = { # The Palantir - Harad
	title = palantir.0105.t
	desc = palantir.0105.desc
	theme = generic_intrigue_scheme
	override_background = {
		event_background = wilderness_desert
	}
	left_portrait = {
		character = root
		animation = paranoia
	}
	right_portrait = {
		character = character:goldenking1
		animation = personality_cynical
	}
	
	
	option = { 
		name = palantir.0105.a	
		custom_tooltip = palantir.0105.a.tt
		if = {
			limit = { sauron_has_palantir = yes }
			trigger_event = {
				id = palantir.0106
				days = 3
			}
		}
		random = {
			chance = 33
			add_learning_skill = 1
		}
		random = {
			chance = 33
			add_stress = 20
		}
		random = {
			chance = 33
			add_piety = 100
		}
		if = {
			limit = {
				has_trait = trusting
			}		
			random = {
				chance = 33
				remove_trait = trusting
				add_trait_force_tooltip = paranoid
			}			
		}
	}
	option = { 
		name = palantir.0105.b # I must stop, this is too dangerous...
		custom_tooltip = palantir.0105.b.tt	
	}
}

palantir.0106 = { # The Palantir - Dark Tower
	title = palantir.0106.t
	desc = palantir.0106.desc
	theme = generic_intrigue_scheme
	override_background = {
		event_background = dungeon
	}
	left_portrait = {
		character = root
		animation = fear
	}
	right_portrait = {
		character = character:lineofsauron
		animation = war_over_win
	}
	
	option = { 
		name = palantir.0106.a
		custom_tooltip = palantir.0106.a.tt			
		trigger_event = {
			id = palantir.0107
			days = 3
		}
		random = {
			chance = 33
			add_learning_skill = 2
			add_learning_lifestyle_perk_points = 1
		}
		random = {
			chance = 33
			add_stress = 40
		}
		if = {
			limit = {
				has_trait = brave
			}		
			random = {
				chance = 33
				remove_trait = brave
				add_trait_force_tooltip = craven
			}			
		}
	}
	option = { 
		name = palantir.0106.b # I must stop, this is too dangerous...
		custom_tooltip = palantir.0106.b.tt	
	}
}



palantir.0108 = { # The Palantir - Horselords
	title = palantir.0108.t
	desc = palantir.0108.desc
	theme = generic_intrigue_scheme
	override_background = {
		event_background = edoras
	}
	left_portrait = {
		character = root
		animation = personality_vengeful
	}
	right_portrait = {
		character = scope:rohanking
		animation = personality_honorable
	}
	
	option = { 
		name = palantir.0108.a
		custom_tooltip = palantir.0108.a.tt
		trigger_event = {
			id = palantir.0109
			days = 3
		}
		random = {
			chance = 33
			add_intrigue_skill = 1
		}
		random = {
			chance = 33
			add_stress = 25
		}
		if = {
			limit = {
				has_trait = calm
			}		
			random = {
				chance = 33
				remove_trait = calm
				add_trait_force_tooltip = wrathful
			}			
		}
	}
	option = { 
		name = palantir.0108.b # I must stop, this is too dangerous...
		custom_tooltip = palantir.0108.b.tt
	}
}

palantir.0109 = { # The Palantir - Rhûn
	title = palantir.0109.t
	desc = palantir.0109.desc
	theme = generic_intrigue_scheme
	left_portrait = {
		character = root
		animation = disapproval
	}
	right_portrait = {
		character = scope:lokekan
		animation = personality_greedy
	}
	override_background = {
		event_background = rhun
	}
	option = { 
		name = palantir.0109.a
		custom_tooltip = palantir.0109.a.tt
		trigger_event = {
			id = palantir.0110
			days = 3
		}
		random = {
			chance = 33
			add_stewardship_skill = 1
			add_stewardship_lifestyle_perk_points = 1
		}
		random = {
			chance = 33
			add_stress = 30
		}
		if = {
			limit = {
				has_trait = diligent
			}		
			random = {
				chance = 33
				remove_trait = diligent
				add_trait_force_tooltip = lazy
			}			
		}
	}
	option = { 
		name = palantir.0109.b # I must stop, this is too dangerous...
		custom_tooltip = palantir.0109.b.tt
	}
}

palantir.0110 = { # The Palantir of Minas Anor
	title = palantir.0110.t
	desc = palantir.0110.desc
	theme = generic_intrigue_scheme
	left_portrait = {
		character = root
		animation = stress
	}
	
	option = { 
		name = palantir.0110.a # I need rest...
		random = {
			chance = 33
			add_stress = 20
		}
	}
}

### Repeated Palantir usage events:

palantir.0111 = { # The Palantir of Minas Anor
	title = palantir.0111.t
	desc = palantir.0111.desc
	theme = generic_intrigue_scheme
	left_portrait = {
		character = root
		animation = stress
	}
	
	option = { 
		name = palantir.0111.a 
		hidden_effect = {
			random_list = {
                25 = {
                   trigger_event = {
						id = palantir.0112 # Add intrigue
                        days = 3
                    }
                }
				25 = {
                    trigger_event = {
                        id = palantir.0113 # Add learning
                        days = 3
                    }
                }
				24 = {
                    trigger_event = {
                        id = palantir.0114 # Add martial
                        days = 3
                    }
                }
				24 = {
                    trigger_event = {
                        id = palantir.0115 # Add stewardship
                        days = 3
                    }
                }
				1 = {
                    trigger_event = {
                        id = palantir.0116 # Add possessed
                        days = 3
                    }
                }
				1 = {
                    trigger_event = {
                        id = palantir.0117 # Add lunatic
                        days = 3
                    }
                }      
            }
		}
	}
	option = { 
		name = palantir.0111.b # It is too dangerous.
	}
}

palantir.0112 = { 
	title = palantir.0112.t
	desc = palantir.0112.desc
	theme = generic_intrigue_scheme
	left_portrait = {
		character = root
		animation = stress
	}
	
	option = { 
		name = palantir.0112.a # Such knowledge comes at a cost.
		add_intrigue_skill = 1
		add_stress = 15
	}
}

palantir.0113 = { 
	title = palantir.0113.t
	desc = palantir.0113.desc
	theme = generic_intrigue_scheme
	left_portrait = {
		character = root
		animation = stress
	}
	
	option = { 
		name = palantir.0113.a # Such knowledge comes at a cost.
		add_learning_skill = 1
		add_stress = 15
	}
}

palantir.0114 = { 
	title = palantir.0114.t
	desc = palantir.0114.desc
	theme = generic_intrigue_scheme
	left_portrait = {
		character = root
		animation = stress
	}
	
	option = { 
		name = palantir.0114.a # Such knowledge comes at a cost.
		add_martial_skill = 1
		add_stress = 15
	}
}

palantir.0115 = { 
	title = palantir.0115.t
	desc = palantir.0115.desc
	theme = generic_intrigue_scheme
	left_portrait = {
		character = root
		animation = stress
	}
	
	option = { 
		name = palantir.0115.a # Such knowledge comes at a cost.
		add_stewardship_skill = 1
		add_stress = 15
	}
}

palantir.0116 = { 
	title = palantir.0116.t
	desc = palantir.0116.desc
	theme = generic_intrigue_scheme
	left_portrait = {
		character = root
		animation = stress
	}
	
	option = { 
		name = palantir.0116.a # Such knowledge comes at a cost.
		add_stewardship_skill = 2
		add_trait = possessed_1
		add_stress = 15
		add_prestige = -50
	}
}

palantir.0117 = { 
	title = palantir.0117.t
	desc = palantir.0117.desc
	theme = generic_intrigue_scheme
	left_portrait = {
		character = root
		animation = stress
	}
	
	option = { 
		name = palantir.0117.a # Such knowledge comes at a cost.
		add_learning_skill = 2
		add_trait = lunatic_1
		add_stress = 15
		add_prestige = -50
	}
}
