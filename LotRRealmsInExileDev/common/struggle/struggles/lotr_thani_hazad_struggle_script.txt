thani_hazad_struggle = {
	##################################################
	# Setup
	##################################################
	cultures = {
		kharadunaim
	}
	faiths = {
		faith_thani_hazad
		faith_gimileth
	}
	regions = {
		middleearth_thani_hazad_struggle_region
	}

	involvement_prerequisite_percentage = 0.9

	on_start = { #TODO
		# Start the over-time catalysts.
		trigger_event = neutral_struggle.0001
	}

	transition_state_duration = { months = 3 }

	on_change_phase = {
		# every_player = { # Global News Announcement
		# 	trigger_event = {
		# 		id = balrog_struggle.0004
		# 		days = 1
		# 	}
		# }
	}
	
	# Root = the character which has joined the struggle
 	on_join = {
		# if = {
		# 	limit = { is_ai = no }
		# 	trigger_event = balrog_struggle.0001
		# }
 	}

	##################################################
	# Phases
	##################################################
	start_phase = struggle_thani_hazad_phase_confederation
	
	phase_list = {

		struggle_thani_hazad_phase_disintegration = {
			duration = { points = 200 }

			future_phases = {
				struggle_thani_hazad_phase_disintegration = {
					catalysts = {
						catalyst_execute_important = monumental_struggle_catalyst_over_time_gain
						catalyst_vassalize_independent_ruler = massive_struggle_catalyst_over_time_gain
						catalyst_enforcing_de_jure_claims = massive_struggle_catalyst_over_time_gain
						catalyst_abduct_scheme = massive_struggle_catalyst_over_time_gain
						catalyst_mysterious_dissapearance_involved_character = major_struggle_catalyst_over_time_gain
						catalyst_using_a_hook_on_very_important_character = major_struggle_catalyst_over_time_gain
						catalyst_broke_truce_against_important_character = major_struggle_catalyst_over_time_gain
						catalyst_discovery_of_very_important_murder = major_struggle_catalyst_over_time_gain
						catalyst_accepted_independence_faction_demands = medium_struggle_catalyst_over_time_gain
						catalyst_fabricating_duchy_level_claims = medium_struggle_catalyst_over_time_gain
						catalyst_reveal_secret_important = medium_struggle_catalyst_over_time_gain
						catalyst_becomes_rival_with_involved = minor_struggle_catalyst_over_time_gain
						catalyst_fabricated_hook_scheme = minor_struggle_catalyst_over_time_gain
						catalyst_imprison_important = minor_struggle_catalyst_over_time_gain
						catalyst_passing_of_time = minimal_struggle_catalyst_over_time_gain
					}
				}
				struggle_thani_hazad_phase_confederation = {
					catalysts = {
						catalyst_forming_alliance_between_independent_involved_rulers = major_struggle_catalyst_over_time_gain
						catalyst_invite_involved_as_honorary_guests_to_feast_hunt = major_struggle_catalyst_over_time_gain
						catalyst_bought_important_truce = major_struggle_catalyst_over_time_gain
						catalyst_cadet_branch_created = major_struggle_catalyst_over_time_gain
						catalyst_became_best_friend_soulmate_with_very_important_character = medium_struggle_catalyst_over_time_gain
						catalyst_defeated_any_faction_duke_and_above = medium_struggle_catalyst_over_time_gain
						catalyst_bought_important_truce = medium_struggle_catalyst_over_time_gain
						catalyst_ransom_important = medium_struggle_catalyst_over_time_gain
						catalyst_became_friend_lover_with_character = minor_struggle_catalyst_over_time_gain
						catalyst_release_important = minor_struggle_catalyst_over_time_gain
						catalyst_sway_scheme = minor_struggle_catalyst_over_time_gain
						catalyst_passing_of_time = minimal_struggle_catalyst_over_time_gain
					}
				}
			}

			war_effects = {
				name = WAR_EFFECTS_NAME

				interloper_parameters = {
					truces_by_involved_or_interlopers_within_region_shorter = yes
				}
			}

			faith_effects = {
				name = FAITH_EFFECTS_NAME
			}

			culture_effects = {
				name = CULTURE_EFFECTS_NAME
			}

			other_effects = {
				name = OTHER_EFFECTS_NAME
				common_parameters = {
					unlikely_to_accept_vassalisation = yes
					unlocks_incite_revolts_interaction = yes
				}
			}

			ending_decisions = {
				struggle_thani_hazad_unification
				struggle_thani_hazad_confederation
				struggle_thani_hazad_dissolution
			}
		}

		struggle_thani_hazad_phase_confederation = {
			duration = { points = 200 }

			future_phases = {
				struggle_thani_hazad_phase_disintegration = {
					catalysts = {
						catalyst_execute_important = monumental_struggle_catalyst_over_time_gain
						catalyst_vassalize_independent_ruler = massive_struggle_catalyst_over_time_gain
						catalyst_enforcing_de_jure_claims = massive_struggle_catalyst_over_time_gain
						catalyst_abduct_scheme = massive_struggle_catalyst_over_time_gain
						catalyst_mysterious_dissapearance_involved_character = major_struggle_catalyst_over_time_gain
						catalyst_using_a_hook_on_very_important_character = major_struggle_catalyst_over_time_gain
						catalyst_broke_truce_against_important_character = major_struggle_catalyst_over_time_gain
						catalyst_discovery_of_very_important_murder = major_struggle_catalyst_over_time_gain
						catalyst_accepted_independence_faction_demands = medium_struggle_catalyst_over_time_gain
						catalyst_fabricating_duchy_level_claims = medium_struggle_catalyst_over_time_gain
						catalyst_reveal_secret_important = medium_struggle_catalyst_over_time_gain
						catalyst_becomes_rival_with_involved = minor_struggle_catalyst_over_time_gain
						catalyst_fabricated_hook_scheme = minor_struggle_catalyst_over_time_gain
						catalyst_imprison_important = minor_struggle_catalyst_over_time_gain
						catalyst_passing_of_time = minimal_struggle_catalyst_over_time_gain
					}
				}
				struggle_thani_hazad_phase_confederation = {
					catalysts = {
						catalyst_forming_alliance_between_independent_involved_rulers = major_struggle_catalyst_over_time_gain
						catalyst_invite_involved_as_honorary_guests_to_feast_hunt = major_struggle_catalyst_over_time_gain
						catalyst_bought_important_truce = major_struggle_catalyst_over_time_gain
						catalyst_cadet_branch_created = major_struggle_catalyst_over_time_gain
						catalyst_became_best_friend_soulmate_with_very_important_character = medium_struggle_catalyst_over_time_gain
						catalyst_defeated_any_faction_duke_and_above = medium_struggle_catalyst_over_time_gain
						catalyst_bought_important_truce = medium_struggle_catalyst_over_time_gain
						catalyst_ransom_important = medium_struggle_catalyst_over_time_gain
						catalyst_became_friend_lover_with_character = minor_struggle_catalyst_over_time_gain
						catalyst_release_important = minor_struggle_catalyst_over_time_gain
						catalyst_sway_scheme = minor_struggle_catalyst_over_time_gain
						catalyst_passing_of_time = minimal_struggle_catalyst_over_time_gain
					}
				}
				struggle_thani_hazad_phase_unification = {
					catalysts = {
						catalyst_forming_alliance_with_major_uninvolved_power = monumental_struggle_catalyst_over_time_gain
						catalyst_interloper_uninvolved_gain_struggle_vassals = monumental_struggle_catalyst_over_time_gain
						catalyst_interloper_uninvolved_gain_struggle_titles = monumental_struggle_catalyst_over_time_gain
						catalyst_sign_truce_outside_war = massive_struggle_catalyst_over_time_gain
						catalyst_passing_of_time = major_struggle_catalyst_over_time_gain
					}
				}
			}

			war_effects = {
				name = WAR_EFFECTS_NAME
				common_parameters = {
					wars_more_expensive = yes
				}
			}

			faith_effects = {
				name = FAITH_EFFECTS_NAME
			}

			culture_effects = {
				name = CULTURE_EFFECTS_NAME
			}

			other_effects = {
				name = OTHER_EFFECTS_NAME
				common_parameters = {
					unlikely_to_accept_vassalisation = yes
					unlocks_fabricate_hooks_for_all = yes
				}
			}

			ending_decisions = {
				struggle_thani_hazad_unification
				struggle_thani_hazad_confederation
				struggle_thani_hazad_dissolution
			}
		}

		struggle_thani_hazad_phase_unification = {
			duration = { points = 200 }

			future_phases = {
				struggle_thani_hazad_phase_confederation = {
					catalysts = {
						catalyst_forming_alliance_between_independent_involved_rulers = major_struggle_catalyst_over_time_gain
						catalyst_invite_involved_as_honorary_guests_to_feast_hunt = major_struggle_catalyst_over_time_gain
						catalyst_bought_important_truce = major_struggle_catalyst_over_time_gain
						catalyst_cadet_branch_created = major_struggle_catalyst_over_time_gain
						catalyst_became_best_friend_soulmate_with_very_important_character = medium_struggle_catalyst_over_time_gain
						catalyst_defeated_any_faction_duke_and_above = medium_struggle_catalyst_over_time_gain
						catalyst_bought_important_truce = medium_struggle_catalyst_over_time_gain
						catalyst_ransom_important = medium_struggle_catalyst_over_time_gain
						catalyst_became_friend_lover_with_character = minor_struggle_catalyst_over_time_gain
						catalyst_release_important = minor_struggle_catalyst_over_time_gain
						catalyst_sway_scheme = minor_struggle_catalyst_over_time_gain
						catalyst_passing_of_time = minimal_struggle_catalyst_over_time_gain
					}
				}
				struggle_thani_hazad_phase_unification = {
					catalysts = {
						catalyst_forming_alliance_with_major_uninvolved_power = monumental_struggle_catalyst_over_time_gain
						catalyst_interloper_uninvolved_gain_struggle_vassals = monumental_struggle_catalyst_over_time_gain
						catalyst_interloper_uninvolved_gain_struggle_titles = monumental_struggle_catalyst_over_time_gain
						catalyst_sign_truce_outside_war = massive_struggle_catalyst_over_time_gain
						catalyst_passing_of_time = major_struggle_catalyst_over_time_gain
					}
				}
			}

			war_effects = {
				name = WAR_EFFECTS_NAME

				
				involved_character_modifier = {
					same_culture_mercenary_hire_cost_mult = -0.20
					advantage = 5 # gives the upper hand against outsiders
				}

			}

			faith_effects = {
				name = FAITH_EFFECTS_NAME
			}

			culture_effects = {
				name = CULTURE_EFFECTS_NAME
			}

			other_effects = {
				name = OTHER_EFFECTS_NAME
				common_parameters = {
					unlikely_to_accept_vassalisation = yes
				}
			}

			ending_decisions = {
				struggle_thani_hazad_unification
				struggle_thani_hazad_confederation
				struggle_thani_hazad_dissolution
			}
		}
	}
}

# minimal_struggle_catalyst_over_time_gain = 1
# minor_struggle_catalyst_over_time_gain = 2
# medium_struggle_catalyst_over_time_gain = 3
# major_struggle_catalyst_over_time_gain = 5
# massive_struggle_catalyst_over_time_gain = 10
# monumental_struggle_catalyst_over_time_gain = 20
