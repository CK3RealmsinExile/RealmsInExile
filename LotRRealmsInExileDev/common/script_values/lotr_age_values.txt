
majority_age = {
	if = {
		limit = { is_elf = yes }
		value = 50
	}
	else_if = {
		limit = { is_dwarf = yes }
		value = 40
	}
	else_if = {
		limit = { is_hobbit = yes }
		value = 33
	}
	else = {
		value = 16
	}
}

nubile_age = {
	if = {
		limit = { is_elf = yes }
		value = 50
	}
	else_if = {
		limit = { is_dwarf = yes }
		value = 70
	}
	else_if = {
		limit = { is_hobbit = yes }
		value = 33
	}
	else_if = { # Level 1 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value >= 10
			}
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value < 20
			}
		}
		add = 20
	}
	else_if = { # Level 2 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value >= 20
			}
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value < 30
			}
		}
		add = 20
	}
	else_if = { # Level 3 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value >= 30
			}
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value < 40
			}
		}
		add = 20
	}
	else_if = { # Level 4 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value >= 40
			}
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value < 50
			}
		}
		add = 30
	}
	else_if = { # Level 5 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value >= 50
			}
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value < 60
			}
		}
		add = 30
	}
	else_if = { # Level 6 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value >= 60
			}
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value < 70
			}
		}
		add = 30
	}
	else_if = { # Level 7 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value >= 70
			}
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value < 80
			}
		}
		add = 40
	}
	else_if = { # Level 8 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value >= 80
			}
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value < 90
			}
		}
		add = 40
	}
	else_if = { # Level 9 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value >= 90
			}
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value < 100
			}
		}
		add = 40
	}
	else_if = { # Level 10 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value = 100
			}
		}
		add = 100
	}
	else = {
		value = 16
	}
}

years_to_nubility = {
	value = nubile_age
	subtract = age
	min = 0
}

additional_years_of_fertility = {
	value = 0
	if = {
		limit = {
			OR = {
				cannot_be_killed = yes
				is_elf = yes
			}
		}
		add = 13000
	}
	if = {
		limit = { is_orc = yes }
		add = 160
	}
	else_if = {
		limit = { 
			culture = { has_cultural_pillar = heritage_longbeard }
		}
		add = 150
	}
	else_if = {
		limit = { is_dwarf = yes }
		add = 130
	}
	else_if = {
		limit = { is_hobbit = yes }
		add = 20
	}
	else_if = {
		limit = { is_druedain = yes }
		subtract = 20
	}
	else_if = { # Level 1 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value >= 10
			}
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value < 20
			}
		}
		add = 10
	}
	else_if = { # Level 2 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value >= 20
			}
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value < 30
			}
		}
		add = 20
	}
	else_if = { # Level 3 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value >= 30
			}
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value < 40
			}
		}
		add = 30
	}
	else_if = { # Level 4 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value >= 40
			}
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value < 50
			}
		}
		add = 40
	}
	else_if = { # Level 5 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value >= 50
			}
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value < 60
			}
		}
		add = 50
	}
	else_if = { # Level 6 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value >= 60
			}
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value < 70
			}
		}
		add = 60
	}
	else_if = { # Level 7 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value >= 70
			}
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value < 80
			}
		}
		add = 70
	}
	else_if = { # Level 8 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value >= 80
			}
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value < 90
			}
		}
		add = 80
	}
	else_if = { # Level 9 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value >= 90
			}
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value < 100
			}
		}
		add = 90
	}
	else_if = { # Level 10 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value = 100
			}
		}
		add = 100
	}
	
	if = {
		limit = { has_trait = fecund }
		add = 5
	}
	if = {
		limit = { has_trait = dwarf_father }
		add = 25
	}
	if = {
		limit = { has_character_modifier = reached_meneltarma }
		add = 20
	}
}

fertility_age_equivalent = {
	value = age
	subtract = additional_years_of_fertility
	min = 0
}

bride_old_age = {
	value = 29
	add = additional_years_of_fertility
}

bride_middle_age = {
	value = 20
	add = additional_years_of_fertility
}

bride_old_age_negative = {
	value = bride_old_age
	multiply = -1
}

bride_middle_age_negative = {
	value = bride_middle_age
	multiply = -1
}

additional_life_expectancy = {
	value = 0
	if = {
		limit = {
			OR = {
				cannot_be_killed = yes
				is_elf = yes
			}
		}
		add = 13000
	}
	if = {
		limit = { is_orc = yes }
		add = 200
	}
	else_if = {
		limit = { 
			culture = { has_cultural_pillar = heritage_longbeard }
		}
		add = 190
	}
	else_if = {
		limit = { is_dwarf = yes }
		add = 170
	}
	else_if = {
		limit = { is_hobbit = yes }
		add = 30
	}
	else_if = {
		limit = { is_druedain = yes }
		subtract = 20
	}
	else_if = { # Level 1 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value >= 10
			}
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value < 20
			}
		}
		add = 20
	}
	else_if = { # Level 2 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value >= 20
			}
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value < 30
			}
		}
		add = 40
	}
	else_if = { # Level 3 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value >= 30
			}
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value < 40
			}
		}
		add = 60
	}
	else_if = { # Level 4 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value >= 40
			}
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value < 50
			}
		}
		add = 80
	}
	else_if = { # Level 5 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value >= 50
			}
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value < 60
			}
		}
		add = 100
	}
	else_if = { # Level 6 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value >= 60
			}
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value < 70
			}
		}
		add = 120
	}
	else_if = { # Level 7 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value >= 70
			}
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value < 80
			}
		}
		add = 140
	}
	else_if = { # Level 8 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value >= 80
			}
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value < 90
			}
		}
		add = 160
	}
	else_if = { # Level 9 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value >= 90
			}
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value < 100
			}
		}
		add = 180
	}
	else_if = { # Level 10 numenorean
		limit = {
			has_trait = blood_of_numenor
			has_trait_xp = {
				trait = blood_of_numenor
				track = blessing_strength
				value = 100
			}
		}
		add = 200
	}
	
	if = {
		limit = { has_trait = skinchanger }
		add = 30
	}
	if = {
		limit = { has_trait = fecund }
		add = 5
	}
	if = {
		limit = { has_trait = dwarf_father }
		add = 50
	}
	if = {
		limit = { has_character_modifier = dark_vitality_modifier }
		add = 20
	}
	if = {
		limit = { has_character_modifier = dark_vitality_modifier }
		add = 20
	}
	if = {
		limit = { has_character_modifier = reached_meneltarma }
		add = 40
	}
	if = {
		limit = { has_character_modifier = radagast_advice_4_modifier }
		add = 3
	}
	if = {
		limit = { has_character_modifier = reflection_of_durin }
		add = 100
	}
	if = {
		limit = { has_character_modifier = reflection_of_thrar }
		add = 50
	}
	if = {
		limit = { has_character_modifier = reflection_of_uri }
		add = 50
	}
}

human_age_equivalent = {
	value = age
	subtract = additional_life_expectancy
	min = 0
}

age_equivalent_20 = {
	value = 20
	add = additional_life_expectancy
}

age_equivalent_25 = {
	value = 25
	add = additional_life_expectancy
}

age_equivalent_30 = {
	value = 30
	add = additional_life_expectancy
}

age_equivalent_40 = {
	value = 40
	add = additional_life_expectancy
}

age_equivalent_45 = {
	value = 45
	add = additional_life_expectancy
}

age_equivalent_49 = {
	value = 49
	add = additional_life_expectancy
}

age_equivalent_50 = {
	value = 50
	add = additional_life_expectancy
}

age_equivalent_55 = {
	value = 55
	add = additional_life_expectancy
}

age_equivalent_60 = {
	value = 60
	add = additional_life_expectancy
}

age_equivalent_65 = {
	value = 65
	add = additional_life_expectancy
}

age_equivalent_70 = {
	value = 70
	add = additional_life_expectancy
}

age_equivalent_75 = {
	value = 75
	add = additional_life_expectancy
}

age_equivalent_80 = {
	value = 80
	add = additional_life_expectancy
}

age_equivalent_90 = {
	value = 90
	add = additional_life_expectancy
}

age_equivalent_100 = {
	value = 100
	add = additional_life_expectancy
}