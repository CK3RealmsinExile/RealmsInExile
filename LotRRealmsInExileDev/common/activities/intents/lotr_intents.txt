### Balan-lai Agenda Intents

balan_lai_request_defence_funding_intent = {
	icon = reduce_stress_intent

	auto_complete = yes

	is_valid = {
		any_neighboring_top_liege_realm_owner = {
			total_strength > root.total_strength
			NOT = {
				has_trait = balan_lai_member
			}
			faith = {
				OR = {
					faith_hostility_level = {
						target = root.faith
						value = faith_hostile_level
					}
					faith_hostility_level = {
						target = root.faith
						value = faith_evil_level
					}
				}
			}
		}
	}

	on_invalidated = { trigger_event = activity_system.0090 }

	ai_will_do = {
		value = stress
	}

	scripted_animation = {
		animation = steward
	}
}

balan_lai_form_alliance_intent = {
	icon = intent_diplomacy

	on_invalidated = {
		trigger_event = activity_system.0090
	}

	ai_targets = {
		ai_recipients = activity_host
		ai_recipients = activity_guests
		ai_recipients = neighboring_rulers
		ai_recipients = scripted_relations
	}

	# Handle target character invalidation
	is_target_valid = {
		scope:target = {
			has_trait = balan_lai_member
			NOT = {
				is_allied_to = root
			}
		}
	}

	on_target_invalidated = {
		trigger_event = activity_system.0090
	}

	scripted_animation = {
		animation = personality_compassionate
	}
}

balan_lai_expel_member_intent = {
	icon = intent_diplomacy

	on_invalidated = {
		trigger_event = activity_system.0090
	}

	ai_targets = {
		ai_recipients = activity_host
		ai_recipients = activity_guests
		ai_recipients = neighboring_rulers
		ai_recipients = scripted_relations
	}

	# Handle target character invalidation
	is_target_valid = {
		scope:target = {
			has_trait = balan_lai_member
		}
	}

	on_target_invalidated = {
		trigger_event = activity_system.0090
	}

	scripted_animation = {
		animation = personality_bold
	}
}

balan_lai_foster_trade_intent = {
	icon = befriend_intent

	on_invalidated = {
		trigger_event = activity_system.0090
	}

	ai_targets = {
		ai_recipients = activity_host
		ai_recipients = activity_guests
		ai_recipients = neighboring_rulers
		ai_recipients = scripted_relations
	}

	# Handle target character invalidation
	is_target_valid = {
		scope:target = {
			has_trait = balan_lai_member
			OR = {
				character_is_land_realm_neighbor = root
				AND = {
					any_realm_province = {
						has_building_or_higher = common_tradeport_01
					}
					root = {
						any_realm_province = {
							has_building_or_higher = common_tradeport_01
						}
					}
				}
			}
		}
	}

	on_target_invalidated = {
		trigger_event = activity_system.0090
	}

	scripted_animation = {
		animation = personality_greedy
	}
}