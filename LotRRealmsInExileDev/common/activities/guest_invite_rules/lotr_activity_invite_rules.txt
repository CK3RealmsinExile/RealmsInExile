### LOTR ACTIVITY INVITE RULES ###

activity_invite_rule_miners = {
	effect = {
		court_position:overseer_of_the_mines_court_position ?= {
			if = {
				limit = {
					# Remove diarchs from the list.
					bannable_serving_diarch_trigger = no
				}
				add_to_list = characters
			}
		}
		court_position:stone_singer_court_position ?= {
			if = {
				limit = {
					# Remove diarchs from the list.
					bannable_serving_diarch_trigger = no
				}
				add_to_list = characters
			}
		}
		every_vassal = {
			limit = {
				has_trait = lifestyle_miner
				# Remove diarchs from the list.
				bannable_serving_diarch_trigger = no
			}
			add_to_list = characters
		}
		every_courtier_or_guest = {
			limit = {
				has_trait = lifestyle_miner
				# Remove diarchs from the list.
				bannable_serving_diarch_trigger = no
			}
			add_to_list = characters
		}
	}
}

activity_invite_rule_parochials = {
	effect = {
		every_vassal = {
			limit = {
				has_vassal_stance = parochial
				# Remove diarchs from the list.
				bannable_serving_diarch_trigger = no
			}
			add_to_list = characters
		}
	}
}

activity_invite_rule_balan_lai_leader = {
	effect = {
		every_balan_lai_member = {
			limit = {
				has_title = title:d_balan_lai_leader
			}
			add_to_list = characters
		}
	}
}

activity_invite_rule_balan_lai_members = {
	effect = {
		every_balan_lai_member = {
			limit = {
				NOT = { this = root }
				NOT = { has_title = title:d_balan_lai_leader }
			}
			add_to_list = characters
		}
	}
}

activity_invite_rule_balan_lai_prospective_members = {
	effect = {
		every_independent_ruler = {
			capital_province ?= { geographical_region = middleearth_thani_hazad_struggle_region }
			OR = { # Kharadunaim or Kharadunaim-descendant
				culture = culture:kharadunaim
				culture = { any_parent_culture_or_above = { this = culture:kharadunaim } }
			}
			NOT = { has_trait = balan_lai_member }
		}
	}
}

activity_invite_rule_balan_lai_elves = {
	effect = {
		every_balan_lai_member = {
			limit = {
				NOT = { this = root }
				
			}
			add_to_list = characters
		}
	}
}