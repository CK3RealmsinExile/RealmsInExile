lotr_bountig_story_eastern_rhovanion_war = {
	# for grouping together contract types, e.g. mercenary, potentially determines map icon
	group = lotr_story_group

	# Icon used in the UI
	icon = "gfx/interface/icons/activities/activity_lore.dds"

	# Description or 'back-story' of the task contract, defaults to "<key>_desc"
	# root = task_contract_type
	# desc = ""

	# Description for request telling 'what to do' in order to complete the contract, defaults to "<key>_request"
	# root = task_contract_type
	# task_contract_request = ""

	# Contract owner should travel to contract location to accept and stay there for the duration of the contract
	# travel = yes

	# Contract is of a criminal nature
	is_criminal = no

	# Range setting
	# yes - uses diplomatic range to contract employer
	# no - uses ADVENTURER_DISTANCE_RESTRICTION define as radius
	use_diplomatic_range = no

	weight = {
		# Standard weights.
		value = task_contract_weight_default_value
		add = laamp_contracts_weight_up_diplomacy_value
		add = laamp_contracts_weight_up_diplomacy_slight_value
	}

	# Validity Triggers
	valid_to_create = {
		# Standard triggers.
		valid_laamp_basic_trigger = {
			EMPLOYER = scope:employer
			LAAMP = root
		}
	}
	valid_to_accept = {
		# Standard triggers.
		scope:employer = { is_landed = yes }
		valid_laamp_basic_accept_only_trigger = yes
		valid_laamp_basic_trigger = {
			EMPLOYER = scope:employer
			LAAMP = root
		}
	}
	valid_to_continue = {
		# Standard triggers.
		valid_laamp_basic_trigger = {
			EMPLOYER = root.task_contract_employer
			LAAMP = root.task_contract_taker
		}
	}
	valid_to_keep = {
	}

	# On_actions
	on_accepted = {
		save_scope_as = task_contract
		task_contract_employer = { save_scope_as = employer }
		
		set_variable = {
			name = task_contract_destination
			value = scope:employer.capital_province
		}
		task_contract_taker = { play_sound_effect = "event:/DLC/EP3/SFX/UI/Contracts/ep3_ui_contracts_accept_contract" }
		
		task_contract_taker = {
			trigger_event = bountig_event_chain.0003
		}
	}
	on_create = {
		scope:contract = {
			set_variable = lotr_bountig_story
			set_variable = no_success_or_failure
		}
	}

	# Rewards root - task_contract
	task_contract_reward = { #
		success_standard = {
			should_print_on_complete = yes
			effect = {
				task_contract_taker = {
					play_sound_effect = "event:/DLC/EP3/SFX/UI/Contracts/ep3_ui_contracts_success_on_contract"
				}
			}
		}
		failure_standard = {
			positive = no
			should_print_on_complete = yes
			effect = {
				task_contract_taker = { play_sound_effect = "event:/DLC/EP3/SFX/UI/Contracts/ep3_ui_contracts_failure_on_contract" }
				
			}
		}
	}
}

lotr_bountig_story_gondor_cities = {
	# for grouping together contract types, e.g. mercenary, potentially determines map icon
	group = lotr_story_group

	# Icon used in the UI
	icon = "gfx/interface/icons/activities/activity_lore.dds"

	# Description or 'back-story' of the task contract, defaults to "<key>_desc"
	# root = task_contract_type
	# desc = ""

	# Description for request telling 'what to do' in order to complete the contract, defaults to "<key>_request"
	# root = task_contract_type
	# task_contract_request = ""

	# Contract owner should travel to contract location to accept and stay there for the duration of the contract
	# travel = yes

	# Contract is of a criminal nature
	is_criminal = no

	# Range setting
	# yes - uses diplomatic range to contract employer
	# no - uses ADVENTURER_DISTANCE_RESTRICTION define as radius
	use_diplomatic_range = no

	weight = {
		# Standard weights.
		value = task_contract_weight_default_value
		add = laamp_contracts_weight_up_diplomacy_value
		add = laamp_contracts_weight_up_diplomacy_slight_value
	}

	# Validity Triggers
	valid_to_create = {
		trigger_if = {
			limit = { has_variable = bountig_does_contract_work	}
			NOR = {
				var:bountig_does_contract_work = flag:harwan
				var:bountig_does_contract_work = flag:umbar
			}
		}
		# Standard triggers.
		valid_laamp_basic_trigger = {
			EMPLOYER = scope:employer
			LAAMP = root
		}
	}
	valid_to_accept = {
		# Standard triggers.
		trigger_if = {
			limit = { has_variable = bountig_does_contract_work	}
			var:bountig_does_contract_work = flag:gondor
		}
		scope:employer = { is_landed = yes }
		valid_laamp_basic_accept_only_trigger = yes
		valid_laamp_basic_trigger = {
			EMPLOYER = scope:employer
			LAAMP = root
		}
	}
	valid_to_continue = {
		# Standard triggers.
		valid_laamp_basic_trigger = {
			EMPLOYER = root.task_contract_employer
			LAAMP = root.task_contract_taker
		}
	}
	valid_to_keep = {
	}

	# On_actions
	on_accepted = {
		save_scope_as = task_contract
		task_contract_employer = { save_scope_as = employer }
		
		set_variable = {
			name = task_contract_destination
			value = scope:employer.capital_province
		}
		task_contract_taker = { play_sound_effect = "event:/DLC/EP3/SFX/UI/Contracts/ep3_ui_contracts_accept_contract" }
		
		task_contract_taker = {
			trigger_event = bountig_event_chain.0013
		}
	}
	on_create = {
		scope:contract = {
			set_variable = lotr_bountig_story
			set_variable = no_success_or_failure
			set_variable = gondor_contract
			set_variable = no_employer_portrait
		}
	}

	# Rewards root - task_contract
	task_contract_reward = { #
		success_standard = {
			should_print_on_complete = yes
			effect = {
				task_contract_taker = {
					play_sound_effect = "event:/DLC/EP3/SFX/UI/Contracts/ep3_ui_contracts_success_on_contract"
				}
			}
		}
		failure_standard = {
			positive = no
			should_print_on_complete = yes
			effect = {
				task_contract_taker = { play_sound_effect = "event:/DLC/EP3/SFX/UI/Contracts/ep3_ui_contracts_failure_on_contract" }
				
			}
		}
	}
}

lotr_bountig_story_harwan_cities = {
	# for grouping together contract types, e.g. mercenary, potentially determines map icon
	group = lotr_story_group

	# Icon used in the UI
	icon = "gfx/interface/icons/activities/activity_lore.dds"

	# Description or 'back-story' of the task contract, defaults to "<key>_desc"
	# root = task_contract_type
	# desc = ""

	# Description for request telling 'what to do' in order to complete the contract, defaults to "<key>_request"
	# root = task_contract_type
	# task_contract_request = ""

	# Contract owner should travel to contract location to accept and stay there for the duration of the contract
	# travel = yes

	# Contract is of a criminal nature
	is_criminal = no

	# Range setting
	# yes - uses diplomatic range to contract employer
	# no - uses ADVENTURER_DISTANCE_RESTRICTION define as radius
	use_diplomatic_range = no

	weight = {
		# Standard weights.
		value = task_contract_weight_default_value
		add = laamp_contracts_weight_up_diplomacy_value
		add = laamp_contracts_weight_up_diplomacy_slight_value
	}

	# Validity Triggers
	valid_to_create = {
		trigger_if = {
			limit = { has_variable = bountig_does_contract_work	}
			NOT = { var:bountig_does_contract_work = flag:umbar }
		}
		# Standard triggers.
		valid_laamp_basic_trigger = {
			EMPLOYER = scope:employer
			LAAMP = root
		}
	}
	valid_to_accept = {
		trigger_if = {
			limit = {
				has_variable = bountig_does_contract_work
				NOT = { scope:employer.capital_province = title:c_amrun.title_province }
			}
			var:bountig_does_contract_work = flag:harwan
		}
		# Standard triggers.
		scope:employer = { is_landed = yes }
		valid_laamp_basic_accept_only_trigger = yes
		valid_laamp_basic_trigger = {
			EMPLOYER = scope:employer
			LAAMP = root
		}
	}
	valid_to_continue = {
		# Standard triggers.
		valid_laamp_basic_trigger = {
			EMPLOYER = root.task_contract_employer
			LAAMP = root.task_contract_taker
		}
	}
	valid_to_keep = {
	}

	# On_actions
	on_accepted = {
		save_scope_as = task_contract
		task_contract_employer = { save_scope_as = employer }
		
		set_variable = {
			name = task_contract_destination
			value = scope:employer.capital_province
		}
		task_contract_taker = { play_sound_effect = "event:/DLC/EP3/SFX/UI/Contracts/ep3_ui_contracts_accept_contract" }
		
		task_contract_taker = {
			if = {
				limit = { NOT = { has_character_flag = first_time_in_amrun } }
				add_character_flag = first_time_in_amrun
				trigger_event = bountig_event_chain.0020
			} else = { trigger_event = bountig_event_chain.0022 }
		}
	}
	on_create = {
		scope:contract = {
			set_variable = lotr_bountig_story
			set_variable = no_success_or_failure
			set_variable = harwan_contract
			set_variable = no_employer_portrait
		}
	}

	# Rewards root - task_contract
	task_contract_reward = { #
		success_standard = {
			should_print_on_complete = yes
			effect = {
				task_contract_taker = {
					play_sound_effect = "event:/DLC/EP3/SFX/UI/Contracts/ep3_ui_contracts_success_on_contract"
				}
			}
		}
		failure_standard = {
			positive = no
			should_print_on_complete = yes
			effect = {
				task_contract_taker = { play_sound_effect = "event:/DLC/EP3/SFX/UI/Contracts/ep3_ui_contracts_failure_on_contract" }
				
			}
		}
	}
}

lotr_bountig_story_umbar_cities = {
	# for grouping together contract types, e.g. mercenary, potentially determines map icon
	group = lotr_story_group

	# Icon used in the UI
	icon = "gfx/interface/icons/activities/activity_lore.dds"

	# Description or 'back-story' of the task contract, defaults to "<key>_desc"
	# root = task_contract_type
	# desc = ""

	# Description for request telling 'what to do' in order to complete the contract, defaults to "<key>_request"
	# root = task_contract_type
	# task_contract_request = ""

	# Contract owner should travel to contract location to accept and stay there for the duration of the contract
	# travel = yes

	# Contract is of a criminal nature
	is_criminal = no

	# Range setting
	# yes - uses diplomatic range to contract employer
	# no - uses ADVENTURER_DISTANCE_RESTRICTION define as radius
	use_diplomatic_range = no

	weight = {
		# Standard weights.
		value = task_contract_weight_default_value
		add = laamp_contracts_weight_up_diplomacy_value
		add = laamp_contracts_weight_up_diplomacy_slight_value
	}

	# Validity Triggers
	valid_to_create = {
		trigger_if = {
			limit = { has_variable = bountig_does_contract_work	}
			NOR = { var:bountig_does_contract_work = flag:gondor }
		}
		# Standard triggers.
		valid_laamp_basic_trigger = {
			EMPLOYER = scope:employer
			LAAMP = root
		}
	}
	valid_to_accept = {
		trigger_if = {
			limit = {
				has_variable = bountig_does_contract_work
				NOT = { scope:employer.capital_province = title:c_umbar.title_province }
			}
			var:bountig_does_contract_work = flag:umbar
		}
		# Standard triggers.
		scope:employer = { is_landed = yes }
		valid_laamp_basic_accept_only_trigger = yes
		valid_laamp_basic_trigger = {
			EMPLOYER = scope:employer
			LAAMP = root
		}
	}
	valid_to_continue = {
		# Standard triggers.
		valid_laamp_basic_trigger = {
			EMPLOYER = root.task_contract_employer
			LAAMP = root.task_contract_taker
		}
	}
	valid_to_keep = {
	}

	# On_actions
	on_accepted = {
		save_scope_as = task_contract
		task_contract_employer = { save_scope_as = employer }
		
		set_variable = {
			name = task_contract_destination
			value = scope:employer.capital_province
		}
		task_contract_taker = { play_sound_effect = "event:/DLC/EP3/SFX/UI/Contracts/ep3_ui_contracts_accept_contract" }
		
		task_contract_taker = {
			if = {
				limit = { NOT = { has_character_flag = first_time_in_umbar } }
				add_character_flag = first_time_in_umbar
				trigger_event = bountig_event_chain.0030
			} else = { trigger_event = bountig_event_chain.0032 }
		}
	}
	on_create = {
		scope:contract = {
			set_variable = lotr_bountig_story
			set_variable = no_success_or_failure
			set_variable = umbar_contract
			set_variable = no_employer_portrait
		}
	}

	# Rewards root - task_contract
	task_contract_reward = { #
		success_standard = {
			should_print_on_complete = yes
			effect = {
				task_contract_taker = {
					play_sound_effect = "event:/DLC/EP3/SFX/UI/Contracts/ep3_ui_contracts_success_on_contract"
				}
			}
		}
		failure_standard = {
			positive = no
			should_print_on_complete = yes
			effect = {
				task_contract_taker = { play_sound_effect = "event:/DLC/EP3/SFX/UI/Contracts/ep3_ui_contracts_failure_on_contract" }
				
			}
		}
	}
}