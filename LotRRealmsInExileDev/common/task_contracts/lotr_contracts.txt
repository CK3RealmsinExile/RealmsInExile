lotr_story = {
	# for grouping together contract types, e.g. mercenary, potentially determines map icon
	group = lotr_story_group

	# Icon used in the UI
	icon = "gfx/interface/icons/activities/activity_lore.dds"

	# Description or 'back-story' of the task contract, defaults to "<key>_desc"
	# root = task_contract_type
	# desc = ""

	# Description for request telling 'what to do' in order to complete the contract, defaults to "<key>_request"
	# root = task_contract_type
	# task_contract_request = ""

	# Contract owner should travel to contract location to accept and stay there for the duration of the contract
	travel = yes

	# Contract is of a criminal nature
	is_criminal = no

	# Range setting
	# yes - uses diplomatic range to contract employer
	# no - uses ADVENTURER_DISTANCE_RESTRICTION define as radius
	use_diplomatic_range = no

	weight = {
		# Standard weights.
		value = task_contract_weight_default_value
		add = laamp_contracts_weight_up_diplomacy_value
		add = laamp_contracts_weight_up_diplomacy_slight_value
	}

	# Validity Triggers
	valid_to_create = {
		# Standard triggers.
		valid_laamp_basic_trigger = {
			EMPLOYER = scope:employer
			LAAMP = root
		}
	}
	valid_to_accept = {
		# Standard triggers.
		always = yes
	}
	valid_to_continue = {
		# Standard triggers.
		valid_laamp_basic_trigger = {
			EMPLOYER = root.task_contract_employer
			LAAMP = root.task_contract_taker
		}
	}
	valid_to_keep = {
		# Standard triggers.
		valid_laamp_basic_trigger = {
			EMPLOYER = root.task_contract_employer
			LAAMP = root.task_contract_taker
		}
	}

	# On_actions
	on_accepted = {
		task_contract_taker = { play_sound_effect = "event:/DLC/EP3/SFX/UI/Contracts/ep3_ui_contracts_accept_contract" }
		save_scope_as = task_contract
		set_variable = {
			name = contract_taker
			value = task_contract_taker
		}
		task_contract_taker = {
			domicile ?= { move_domicile = root.var:task_contract_destination }
			every_character_active_contract = {
				limit = { has_task_contract_type = lotr_story }
				# task_contract_taker.domicile ?= { move_domicile = task_contract_employer.location }
				complete_task_contract = success_standard
			}
			current_travel_plan ?= { cancel_travel_plan = yes }
		}
	}
	on_create = {
		scope:contract = {
			set_variable = {
				name = task_contract_destination
				value = task_contract_employer.capital_province
			}
		}
	}

	# Rewards root - task_contract
	task_contract_reward = { # task_contract_taker, task_contract_employer
		success_standard = {
			should_print_on_complete = yes
			effect = {
				task_contract_taker = { play_sound_effect = "event:/DLC/EP3/SFX/UI/Contracts/ep3_ui_contracts_success_on_contract" }
				task_contract_employer = { save_scope_as = contract_employer }
				if = {
					limit = { task_contract_employer = { has_variable = bountig_start_story } }
					custom_tooltip = {
						text = bountig_medlokan_intro_to_story
						task_contract_employer = {
							start_war = {
								cb = raid_for_captives_cb
								target = title:k_rohan.holder
							}
						}
						task_contract_employer = {
							random_character_war = {
								limit = { using_cb = raid_for_captives_cb }
								add_attacker = root.var:contract_taker
							}
						}
					}
				}
			}
		}
		failure_standard = {
			positive = no
			should_print_on_complete = yes
			effect = {
				task_contract_taker = { play_sound_effect = "event:/DLC/EP3/SFX/UI/Contracts/ep3_ui_contracts_failure_on_contract" }
				
			}
		}
	}
}
