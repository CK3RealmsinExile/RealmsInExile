### SAILING ###

damage_ship = { #ISSUE WITH BOAT HIRE DURATIONS
	if = {
		limit = {
			has_character_modifier = small_boat_modifier
			has_character_flag = hired_a_boat
		}
		remove_character_modifier = small_boat_modifier
		add_character_modifier = {
			modifier = small_damaged_boat_modifier
			years = boat_hire_duration_years
		}
	}
	else_if = {
		limit = {
			has_character_modifier = medium_boat_modifier
			has_character_flag = hired_a_boat
		}
		remove_character_modifier = medium_boat_modifier
		add_character_modifier = {
			modifier = medium_damaged_boat_modifier
			years = boat_hire_duration_years
		}
	}
	else_if = {
		limit = {
			has_character_modifier = large_boat_modifier
			has_character_flag = hired_a_boat
		}
		remove_character_modifier = large_boat_modifier
		add_character_modifier = {
			modifier = large_damaged_boat_modifier
			years = boat_hire_duration_years
		}
	}
	else_if = {
		limit = {
			has_character_modifier = small_boat_modifier
		}
		remove_character_modifier = small_boat_modifier
		add_character_modifier = small_damaged_boat_modifier
	}
	else_if = {
		limit = {
			has_character_modifier = medium_boat_modifier
		}
		remove_character_modifier = medium_boat_modifier
		add_character_modifier = medium_damaged_boat_modifier
	}
	else_if = {
		limit = {
			has_character_modifier = large_boat_modifier
		}
		remove_character_modifier = large_boat_modifier
		add_character_modifier = large_damaged_boat_modifier
	}
}

repair_ship = { #ISSUE WITH BOAT HIRE DURATIONS
	if = {
		limit = {
			has_character_modifier = small_damaged_boat_modifier
			has_character_flag = hired_a_boat
		}
		remove_character_modifier = small_damaged_boat_modifier
		add_character_modifier = {
			modifier = small_boat_modifier
			years = boat_hire_duration_years
		}
	}
	else_if = {
		limit = {
			has_character_modifier = medium_damaged_boat_modifier
			has_character_flag = hired_a_boat
		}
		remove_character_modifier = medium_damaged_boat_modifier
		add_character_modifier = {
			modifier = medium_boat_modifier
			years = boat_hire_duration_years
		}
	}
	else_if = {
		limit = {
			has_character_modifier = large_damaged_boat_modifier
			has_character_flag = hired_a_boat
		}
		remove_character_modifier = large_damaged_boat_modifier
		add_character_modifier = {
			modifier = large_boat_modifier
			years = boat_hire_duration_years
		}
	}
	else_if = {
		limit = {
			has_character_modifier = small_damaged_boat_modifier
		}
		remove_character_modifier = small_damaged_boat_modifier
		add_character_modifier = small_boat_modifier
	}
	else_if = {
		limit = {
			has_character_modifier = medium_damaged_boat_modifier
		}
		remove_character_modifier = medium_damaged_boat_modifier
		add_character_modifier = medium_boat_modifier
	}
	else_if = {
		limit = {
			has_character_modifier = large_damaged_boat_modifier
		}
		remove_character_modifier = large_damaged_boat_modifier
		add_character_modifier = large_boat_modifier
	}
}

remove_boat = {
	if = {
		limit = {
			has_character_modifier = small_damaged_boat_modifier
		}
		remove_character_modifier = small_damaged_boat_modifier
	}
	else_if = {
		limit = {
			has_character_modifier = medium_damaged_boat_modifier
		}
		remove_character_modifier = medium_damaged_boat_modifier
	}
	else_if = {
		limit = {
			has_character_modifier = large_damaged_boat_modifier
		}
		remove_character_modifier = large_damaged_boat_modifier
	}
	if = {
		limit = {
			has_character_modifier = small_boat_modifier
		}
		remove_character_modifier = small_boat_modifier
	}
	else_if = {
		limit = {
			has_character_modifier = medium_boat_modifier
		}
		remove_character_modifier = medium_boat_modifier
	}
	else_if = {
		limit = {
			has_character_modifier = large_boat_modifier
		}
		remove_character_modifier = large_boat_modifier
	}
	if = {
		limit = {
			has_character_flag = hired_a_boat
		}
		remove_character_flag = hired_a_boat
	}
}

return_charter = {
	if = {
		limit = {
			has_character_flag = hired_a_boat
		}
		remove_boat = yes
	}
}

balan_lai_add_all_members_effect = {
	save_scope_as = new_arrival
	if = {
		limit = {
			NOT = { is_in_guest_subset = { name = all_members } }
		}
		if = {
			limit = { activity_is_valid_balan_lai_member = yes }
			involved_activity = {
				add_to_guest_subset = { name = all_members target = scope:new_arrival }
			}
		}
		else = {
			involved_activity = {
				add_to_guest_subset = { name = entourage target = scope:new_arrival }
			}
		}
	}
}