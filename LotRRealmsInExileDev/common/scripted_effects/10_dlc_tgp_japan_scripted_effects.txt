japan_establish_house_fief_effect = {
	save_scope_as = house_fiefer
	save_scope_as = new_head
	# Dynasty
	if = {
		limit = { tgp_japan_cadet_creates_dynasty_trigger = yes }
		if = {
			limit = { exists = var:new_japanese_house_name }
			create_dynasty = {
				name = {
					first_valid = {
						triggered_desc = {
							trigger = { scope:new_head.var:new_japanese_house_name ?= flag:japanese_house_random_barony }
							desc = japanese_house_random_barony
						}
						triggered_desc = {
							trigger = { scope:new_head.var:new_japanese_house_name ?= flag:japanese_house_primary_county }
							desc = japanese_house_primary_county
						}
						triggered_desc = {
							trigger = { scope:new_head.var:new_japanese_house_name ?= flag:japanese_house_domicile_barony }
							desc = japanese_house_domicile_barony
						}
						triggered_desc = {
							trigger = { scope:new_head.var:new_japanese_house_name ?= flag:japanese_house_domicile_county }
							desc = japanese_house_domicile_county
						}
						triggered_desc = {
							trigger = { scope:new_head.var:new_japanese_house_name ?= flag:japanese_house_first_name }
							desc = japanese_house_first_name
						}
						triggered_desc = {
							trigger = { scope:new_head.var:new_japanese_house_name ?= flag:custom }
							desc = japanese_house_name_custom
						}
						desc = japanese_house_name_flag
					}
				}
				save_scope_as = new_dynasty
			}
		}
		else = {
			create_dynasty = { save_scope_as = new_dynasty }
		}
		house = {
			set_house_name = japanese_dynasty_name
			save_scope_as = new_house
		}
	}
	# House
	else_if = {
		limit = { is_house_head = no }
		if = {
			limit = { exists = var:new_japanese_house_name }
			found_cadet_house_decision_effect = {
				CHARACTER = root
				PRESTIGE = 0
			}
			house = { save_scope_as = new_house }
		}
		else = {
			create_cadet_branch = { save_scope_as = new_house }
		}
	}
	# Government
	change_government = japan_feudal_government
	# Old Dynasty
	if = {
		limit = { exists = scope:new_house }
		# Rename old NF title
		if = {
			limit = {
				scope:old_head ?= this
				exists = scope:old_nf_title
			}
			#scope:old_nf_title = { set_title_name_dynamic = japanese_noble_family_name }
		}
		else = {
			create_noble_family_effect = { GOVERNMENT_GIVER = this }
			scope:new_title = {
				#set_title_name_dynamic = japanese_noble_family_name
				set_coa = scope:new_house
			}
		}
		# Upset old Clan Head
		scope:old_head ?= {
			if = {
				limit = { is_ai = yes }
				add_opinion = {
					modifier = established_house_fief_old_clan_head_opinion
					target = root
				}
			}
			#trigger_event = tgp_japan_decision.9005 #LotR
		}
	}
	# Crime to Regent
	top_liege ?= {
		if = {
			limit = {
				scope:new_head = {
					is_landed = yes
					NOR = { 
						var:petition_liege_house_fief_allowed_flag ?= scope:new_head.top_liege
						top_liege = {
							government_has_flag = government_is_japan_feudal
						}
					}
				}
			}
			show_as_tooltip = {
				add_opinion = {
					modifier = established_house_fief_regent_crime
					target = scope:new_head
				}
			}
			hidden_effect = {
				send_interface_message = {
					type = event_toast_effect_bad
					title = tgp_japan_establish_house_fief_kampaku_toast
					left_icon = scope:new_head
					right_icon = scope:new_head.primary_title
					show_as_tooltip = {
						scope:new_head = { change_government = japan_feudal_government }
					}
					add_opinion = {
						modifier = established_house_fief_regent_crime
						target = scope:new_head
					}
				}
			}
		}
	}
	create_character_memory = { type = establish_house_fief_memory }
	ordered_memory = {
		memory_type = establish_house_fief_memory
		order_by = memory_creation_date
		set_variable = {
			name = title
			value = root.primary_title
		}
	}
	add_achievement_flag_effect = { FLAG = achievement_a_house_of_my_own_flag }
}

set_house_of_all_descendants_effect = {
	if = {
		limit = { any_child = { count >= 1 } }
		every_child = { # Children
			limit = { house ?= $OLD_HOUSE$ }
			set_house = $NEW_HOUSE$
			every_child = { # Grandchildren
				limit = { house ?= $OLD_HOUSE$ }
				set_house = $NEW_HOUSE$
				every_child = { # Great-grandchildren
					limit = { house ?= $OLD_HOUSE$ }
					set_house = $NEW_HOUSE$
					every_child = { # Great-grandchildren
						limit = { house ?= $OLD_HOUSE$ }
						set_house = $NEW_HOUSE$
					}
				}
			}
		}
	}
}

japan_set_house_effect = {
	house = { save_scope_as = old_house }
	$NEW_HOUSE$ = { save_scope_as = new_house }
	set_house = scope:new_house
	custom_tooltip = {
		text = tgp_japan_establish_house_fief_direct_descendents_effect
		if = {
			limit = { exists = $NEW_HOUSE$ }
			set_house_of_all_descendants_effect = {
				OLD_HOUSE = scope:old_house
				NEW_HOUSE = scope:new_house
			}
		}
	}
}

japan_dynasty_tracker_setup_effect = {
	# # FUJIWARA
	# dynasty:japanese_fujiwara ?= { add_to_list = fujiwara_list }
	# dynasty:japanese_fujiwara_oshu ?= { add_to_list = fujiwara_list }
	# every_in_list = {
	# 	list = fujiwara_list
	# 	set_variable = { name = fujiwara_flag }
	# }
	# # MINAMOTO
	# dynasty:japanese_minamoto_daigo ?= { add_to_list = minamoto_list }
	# dynasty:japanese_minamoto_kazan ?= { add_to_list = minamoto_list }
	# dynasty:japanese_minamoto_koko ?= { add_to_list = minamoto_list }
	# dynasty:japanese_minamoto_gosanjo ?= { add_to_list = minamoto_list }
	# dynasty:japanese_minamoto_montoku ?= { add_to_list = minamoto_list }
	# dynasty:japanese_minamoto_murakami ?= { add_to_list = minamoto_list }
	# dynasty:japanese_minamoto_ninmyo ?= { add_to_list = minamoto_list }
	# dynasty:japanese_minamoto_saga ?= { add_to_list = minamoto_list }
	# dynasty:japanese_minamoto_sanjo ?= { add_to_list = minamoto_list }
	# dynasty:japanese_minamoto_seiwa ?= { add_to_list = minamoto_list }
	# dynasty:japanese_minamoto_uda ?= { add_to_list = minamoto_list }
	# dynasty:japanese_minamoto_yozei ?= { add_to_list = minamoto_list }
	# every_in_list = {
	# 	list = minamoto_list
	# 	set_variable = { name = minamoto_flag }
	# 	#dynasty_founder.house ?= { set_house_name = "dynn_Minamoto" } # For easier parsing of house names
	# }
	# # TAIRA
	# dynasty:japanese_taira_kanmu ?= { add_to_list = taira_list }
	# dynasty:japanese_taira_koko ?= { add_to_list = taira_list }
	# dynasty:japanese_taira_montoku ?= { add_to_list = taira_list }
	# dynasty:japanese_taira_ninmyo ?= { add_to_list = taira_list }
	# every_in_list = {
	# 	list = taira_list
	# 	set_variable = { name = taira_flag }
	# 	#dynasty_founder.house ?= { set_house_name = "dynn_Taira" } # For easier parsing of house names
	# }
}

fill_external_japanese_manor_building_effect = {
	switch = {
		trigger = has_domicile_building_or_higher
		japanese_manor_main_05 = {
			while = {
				limit = { free_external_domicile_building_slots >= 1 }
				add_random_external_estate_building = yes
			}
		}
		japanese_manor_main_04 = {
			while = {
				limit = { free_external_domicile_building_slots >= 2 }
				add_random_external_japanese_manor_building = yes
			}
		}
		japanese_manor_main_03 = {
			while = {
				limit = { free_external_domicile_building_slots >= 3 }
				add_random_external_japanese_manor_building = yes
			}
		}
		japanese_manor_main_02 = {
			while = {
				limit = { free_external_domicile_building_slots >= 4 }
				add_random_external_japanese_manor_building = yes
			}
		}
		japanese_manor_main_01 = {
			while = {
				limit = { free_external_domicile_building_slots >= 5 }
				add_random_external_japanese_manor_building = yes
			}
		}
	}
}

add_random_external_japanese_manor_building = {
	if = {
		limit = { free_external_domicile_building_slots >= 1 }
		random_list = {
			10 = {
				trigger = {
					NOT = { has_domicile_building_or_higher = japanese_fields_01 }
				}
				add_domicile_building = japanese_fields_01
				if = {
					limit = {
						has_domicile_building_or_higher = japanese_fields_01
						has_domicile_building_or_higher = japanese_manor_main_03
					}
					add_domicile_building = japanese_fields_02
				}
			}
			10 = {
				trigger = {
					NOT = { has_domicile_building_or_higher = japanese_shrine_01 }
					owner.house = { has_house_power_parameter = unlocks_japanese_manor_shrine }
				}
				add_domicile_building = japanese_shrine_01
				if = {
					limit = {
						has_domicile_building_or_higher = japanese_shrine_01
						has_domicile_building_or_higher = japanese_manor_main_03
					}
					add_domicile_building = japanese_shrine_02
				}
			}
			10 = {
				trigger = {
					NOT = { has_domicile_building_or_higher = japanese_brewery_01 }
					owner.house = { has_house_power_parameter = unlocks_japanese_manor_brewery }
				}
				add_domicile_building = japanese_brewery_01
				if = {
					limit = {
						has_domicile_building_or_higher = japanese_brewery_01
						has_domicile_building_or_higher = japanese_manor_main_03
					}
					add_domicile_building = japanese_brewery_02
				}
			}
			10 = {
				trigger = {
					owner = { government_has_flag = government_is_administrative }
					NOT = { has_domicile_building_or_higher = japanese_archive_01 }
					owner.house = { has_house_power_parameter = unlocks_japanese_manor_archive }
				}
				add_domicile_building = japanese_archive_01
				if = {
					limit = {
						has_domicile_building_or_higher = japanese_archive_01
						has_domicile_building_or_higher = japanese_manor_main_03
					}
					add_domicile_building = japanese_archive_02
				}
			}
			10 = {
				trigger = {
					NOT = { has_domicile_building_or_higher = japanese_armory_01 }
					owner.house = { has_house_power_parameter = unlocks_japanese_manor_armory }
				}
				add_domicile_building = japanese_armory_01
				if = {
					limit = {
						has_domicile_building_or_higher = japanese_armory_01
						has_domicile_building_or_higher = japanese_manor_main_03
					}
					add_domicile_building = japanese_armory_02
				}
			}
			10 = {
				trigger = {
					NOT = { has_domicile_building_or_higher = japanese_watch_house_01 }
					owner.house = { has_house_power_parameter = unlocks_japanese_manor_watch_house }
				}
				add_domicile_building = japanese_watch_house_01
				if = {
					limit = {
						has_domicile_building_or_higher = japanese_watch_house_01
						has_domicile_building_or_higher = japanese_manor_main_03
					}
					add_domicile_building = japanese_watch_house_02
				}
			}
			10 = {
				trigger = {
					NOT = { has_domicile_building_or_higher = japanese_horse_pastures_01 }
				}
				add_domicile_building = japanese_horse_pastures_01
				if = {
					limit = {
						has_domicile_building_or_higher = japanese_horse_pastures_01
						has_domicile_building_or_higher = japanese_manor_main_03
					}
					add_domicile_building = japanese_horse_pastures_02
				}
			}
			10 = {
				trigger = {
					NOT = { has_domicile_building_or_higher = japanese_tea_plantation_01 }
				}
				add_domicile_building = japanese_tea_plantation_01
				if = {
					limit = {
						has_domicile_building_or_higher = japanese_tea_plantation_01
						has_domicile_building_or_higher = japanese_manor_main_03
					}
					add_domicile_building = japanese_tea_plantation_02
				}
			}
			10 = {
				trigger = {
					NOT = { has_domicile_building_or_higher = japanese_stables_01 }
				}
				add_domicile_building = japanese_stables_01
				if = {
					limit = {
						has_domicile_building_or_higher = japanese_stables_01
						has_domicile_building_or_higher = japanese_manor_main_03
					}
					add_domicile_building = japanese_stables_02
				}
			}
			10 = {
				trigger = {
					NOT = { has_domicile_building_or_higher = japanese_workshop_01 }
				}
				add_domicile_building = japanese_workshop_01
				if = {
					limit = {
						has_domicile_building_or_higher = japanese_workshop_01
						has_domicile_building_or_higher = japanese_manor_main_03
					}
					add_domicile_building = japanese_workshop_02
				}
			}
			10 = {
				trigger = {
					NOT = { has_domicile_building_or_higher = japanese_tea_house_01 }
					owner.house = { has_house_power_parameter = unlocks_japanese_manor_tea_house }
				}
				add_domicile_building = japanese_tea_house_01
				if = {
					limit = {
						has_domicile_building_or_higher = japanese_tea_house_01
						has_domicile_building_or_higher = japanese_manor_main_03
					}
					add_domicile_building = japanese_tea_house_02
				}
			}
			10 = {
				trigger = {
					NOT = { has_domicile_building_or_higher = japanese_garden_01 }
				}
				add_domicile_building = japanese_garden_01
				if = {
					limit = {
						has_domicile_building_or_higher = japanese_garden_01
						has_domicile_building_or_higher = japanese_manor_main_03
					}
					add_domicile_building = japanese_garden_02
				}
			}
		}
	}
}

add_random_internal_japanese_manor_building = {
	random_list = {
		10 = {
			trigger = {
				NOT = { has_domicile_building_or_higher = japanese_main_tax_collectors_01 }
			}
			add_domicile_building = japanese_main_tax_collectors_01
			if = {
				limit = { has_domicile_building = japanese_manor_main_03 }
				add_domicile_building = japanese_main_tax_collectors_02
			}
		}
		10 = {
			trigger = {
				NOT = { has_domicile_building_or_higher = japanese_main_carpenter_01 }
			}
			add_domicile_building = japanese_main_carpenter_01
			if = {
				limit = { has_domicile_building = japanese_manor_main_03 }
				add_domicile_building = japanese_main_carpenter_02
			}
		}
		10 = {
			trigger = {
				NOT = { has_domicile_building_or_higher = sarugaku_stage_01 }
			}
			add_domicile_building = sarugaku_stage_01
			if = {
				limit = { has_domicile_building = japanese_manor_main_03 }
				add_domicile_building = sarugaku_stage_02
			}
		}
		10 = {
			trigger = {
				NOT = { has_domicile_building_or_higher = japanese_manor_office_01 }
			}
			add_domicile_building = japanese_manor_office_01
			if = {
				limit = { has_domicile_building = japanese_manor_main_03 }
				add_domicile_building = japanese_manor_office_02
			}
		}
		10 = {
			trigger = {
				NOT = { has_domicile_building_or_higher = japanese_manor_servants_quarters_01 }
			}
			add_domicile_building = japanese_manor_servants_quarters_01
			if = {
				limit = { has_domicile_building = japanese_manor_main_03 }
				add_domicile_building = japanese_manor_servants_quarters_02
			}
		}
		10 = {
			trigger = {
				NOT = { has_domicile_building_or_higher = japanese_manor_library_confucian_01 }
			}
			add_domicile_building = japanese_manor_library_confucian_01
			if = {
				limit = { has_domicile_building = japanese_manor_main_03 }
				add_domicile_building = japanese_manor_library_confucian_02
			}
		}
	}
}

japan_clear_flavour_flags_effect = {
	remove_global_variable = shogunate_established
	remove_global_variable = tenno_restored
	remove_character_flag = shogun_flag
	remove_character_flag = ceremonial_liege_flag
	remove_character_flag = joko_flag
}

japanese_become_shogun_reward_effect = {
	# Setup
	japan_clear_flavour_flags_effect = yes
	set_global_variable = {
		name = shogunate_established
		value = yes
	}
	add_character_flag = shogun_flag

	# Rewards
	if = {
		limit = { has_dlc_feature = legends }
		create_legend_seed = {
			type = legitimizing
			quality = illustrious
			chronicle = great_deed_dynasty
			properties = {
				dynasty = root.dynasty
				founder = root
				title = primary_title
			}
		}
	}
	add_dread = massive_dread_gain
	add_legitimacy = monumental_legitimacy_gain
	add_realm_law = japanese_bureaucracy_1
	dynasty = { add_dynasty_prestige = monumental_dynasty_prestige_gain }
	culture = {
		if = {
			limit = { has_cultural_tradition = tradition_tgp_imperial_peace }
			custom_tooltip = {
				text = tradition_tgp_bushido_tt
				remove_culture_tradition = tradition_tgp_imperial_peace
				add_culture_tradition = tradition_tgp_bushido
			}
		}
		else = { custom_tooltip = unlocks_bushido_tradition_tooltip }
	}
	every_vassal = {
		custom = every_japan_admin_vassal_custom_bullet
		limit = {
			government_has_flag = government_is_japan_administrative
		}
		show_as_tooltip = { change_government = japan_feudal_government }
	}
}

restore_ceremonial_liege_faction_combined_effect = {
	top_liege = {
		save_temporary_scope_as = regent_temp
		primary_title = {
			save_temporary_scope_as = realm_temp
			var:administrative_ui_special_title.holder ?= { save_temporary_scope_as = ceremonial_liege_temp }
		}
	}
	if = {
		limit = { scope:regent_temp != scope:ceremonial_liege_temp }
		faction_demand_regent_transfer_effect = {
			NEW_REGENT = scope:ceremonial_liege_temp
			REASON = faction_demand
		}
	}
	# GLOBAL VAR
	japan_clear_flavour_flags_effect = yes
	set_global_variable = {
		name = tenno_restored
		value = yes
	}
	show_as_tooltip = { restore_ceremonial_liege_faction_reward_effect = yes }
	# Event for Ceremonial Liege
	scope:ceremonial_liege_temp = { trigger_event = tgp_japan_decision.9301 }
}

restore_ceremonial_liege_faction_reward_effect = {
	top_liege = {
		save_temporary_scope_as = regent_temp
		primary_title = {
			save_temporary_scope_as = realm_temp
			var:administrative_ui_special_title.holder = { save_temporary_scope_as = ceremonial_liege_temp }
		}
	}
	scope:ceremonial_liege_temp = {
		custom_tooltip = tenno_duchy_creation_tt
		if = {
			limit = { has_legitimacy = yes }
			add_legitimacy = major_legitimacy_gain
		}
		else = {
			show_as_tooltip = { add_legitimacy = major_legitimacy_gain }
		}
		if = {
			limit = {
				NOT = { has_realm_law = single_heir_succession_law }
			}
			add_realm_law_skip_effects = single_heir_succession_law
		}
	}
}

restore_ceremonial_liege_faction_titles_effect = {
	top_liege = {
		save_temporary_scope_as = regent_temp
		primary_title = {
			save_temporary_scope_as = realm_temp
			var:administrative_ui_special_title.holder = { save_temporary_scope_as = ceremonial_liege_temp }
		}
	}
	create_title_and_vassal_change = {
		type = faction_demand
		save_scope_as = title_change
		add_claim_on_loss = no
	}
	scope:realm_temp = { # Give top liege title to the Emperor
		change_title_holder_include_vassals = {
			holder = scope:ceremonial_liege_temp
			change = scope:title_change
		}
		holder ?= {
			every_held_title = {
				limit = {
					tier > tier_barony
					is_landless_type_title = no
				}
				add_to_list = target_titles
			}
		}
	}
	hidden_effect = {
		every_in_list = {
			list = target_titles
			change_title_holder_include_vassals = {
				holder = scope:ceremonial_liege_temp
				change = scope:title_change
			}
		}
	}
	resolve_title_and_vassal_change = scope:title_change
}

assign_japanese_house_name_options_effect = {
	# random_list = { #LotR
	# 	### AKI
	# 	### AKITA (NUSHIRO)
	# 	1 = { # OKAWA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_O_kawa TITLE = title:c_nushiro } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_nushiro }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_O_kawa }
	# 	}
	# 	1 = { # YURI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Yuri TITLE = title:c_nushiro } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_nushiro }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Yuri }
	# 	}
	# 	### AWA
	# 	1 = { # MIYOSHI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Miyoshi TITLE = title:c_awa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_awa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Miyoshi }
	# 	}
	# 	1 = { # TAGUCHI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Taguchi TITLE = title:c_awa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_awa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Taguchi }
	# 	}
	# 	### BINGO
	# 	1 = { # OTA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_O_ta TITLE = title:c_bingo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_bingo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_O_ta }
	# 	}
	# 	### BITCHU
	# 	1 = { # SENOO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Seno_o TITLE = title:c_bitchu } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_bitchu }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Seno_o }
	# 	}
	# 	### BIZEN
	# 	1 = { # NAMBA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Namba TITLE = title:c_bizen } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_bizen }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Namba }
	# 	}
	# 	### BUNGO
	# 	1 = { # ANAMI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Anami TITLE = title:c_bungo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_bungo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Anami }
	# 	}
	# 	1 = { # HONDA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Honda TITLE = title:c_bungo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_bungo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Honda }
	# 	}
	# 	1 = { # MITAI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Mitai TITLE = title:c_bungo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_bungo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Mitai }
	# 	}
	# 	1 = { # OGATA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Ogata TITLE = title:c_bungo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_bungo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Ogata }
	# 	}
	# 	1 = { # ONO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_O_no TITLE = title:c_bungo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_bungo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_O_no }
	# 	}
	# 	1 = { # SHIGA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Shiga TITLE = title:c_bungo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_bungo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Shiga }
	# 	}
	# 	1 = { # WASADA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Wasada TITLE = title:c_bungo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_bungo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Wasada }
	# 	}
	# 	1 = { # USUKI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Usuki TITLE = title:c_bungo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_bungo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Usuki }
	# 	}
	# 	### BUZEN
	# 	1 = { # YAMAGA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Yamaga TITLE = title:c_buzen } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_buzen }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Yamaga }
	# 	}
	# 	### CHIKUGO
	# 	1 = { # KAMACHI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kamachi TITLE = title:c_chikugo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_chikugo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kamachi }
	# 	}
	# 	### CHIKUZEN
	# 	1 = { # AKIZUKI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Akizuki TITLE = title:c_chikugo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_chikugo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Akizuki }
	# 	}
	# 	1 = { # HARADA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Harada TITLE = title:c_chikugo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_chikugo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Harada }
	# 	}
	# 	### DEWA (TOKISARA)
	# 	1 = { # SAGAE
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Sagae TITLE = title:c_tokisara } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_tokisara }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Sagae }
	# 	}
	# 	### ECHIGO
	# 	1 = { # HANJO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kanazu TITLE = title:c_echigo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_echigo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kanazu }
	# 	}
	# 	1 = { # IROBE
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Irobe TITLE = title:c_echigo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_echigo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Irobe }
	# 	}
	# 	1 = { # KAJI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kaji TITLE = title:c_echigo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_echigo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kaji }
	# 	}
	# 	1 = { # KANAZU
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kanazu TITLE = title:c_echigo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_echigo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kanazu }
	# 	}
	# 	1 = { # NAKAJO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_NakajO_ TITLE = title:c_echigo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_echigo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_NakajO_ }
	# 	}
	# 	1 = { # OGUNI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Oguni TITLE = title:c_echigo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_echigo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Oguni }
	# 	}
	# 	1 = { # SADO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Sado TITLE = title:c_echigo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_echigo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Sado }
	# 	}
	# 	1 = { # YASUDA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Yasuda TITLE = title:c_echigo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_echigo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Yasuda }
	# 	}
	# 	### ECHIZEN
	# 	1 = { # AKATSUKA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Akatsuka TITLE = title:c_echizen } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_echizen }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Akatsuka }
	# 	}
	# 	1 = { # ICHIJI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Ichiji TITLE = title:c_echizen } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_echizen }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Ichiji }
	# 	}
	# 	1 = { # MIKATA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Mikata TITLE = title:c_echizen } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_echizen }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Mikata }
	# 	}
	# 	1 = { # ODA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Oda TITLE = title:c_echizen } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_echizen }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Oda }
	# 	}
	# 	1 = { # NANJO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_NanjO_ TITLE = title:c_echizen } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_echizen }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_NanjO_ }
	# 	}
	# 	1 = { # TSUTSUMI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Tsutsumi TITLE = title:c_echizen } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_echizen }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Tsutsumi }
	# 	}
	# 	### ETCHU
	# 	### HARIMA
	# 	1 = { # AKAMATSU
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Akamatsu TITLE = title:c_harima } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_harima }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Akamatsu }
	# 	}
	# 	1 = { # BESSHO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Bessho TITLE = title:c_harima } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_harima }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Bessho }
	# 	}
	# 	1 = { # URAKAMI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Urakami TITLE = title:c_harima } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_harima }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Urakami }
	# 	}
	# 	### HIDA
	# 	1 = { # USHIMARU
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Ushimaru TITLE = title:c_hida } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_hida }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Ushimaru }
	# 	}
	# 	### HIGO
	# 	1 = { # ASO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Aso TITLE = title:c_higo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_higo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Aso }
	# 	}
	# 	1 = { # KIKUCHI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kikuchi TITLE = title:c_higo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_higo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kikuchi }
	# 	}
	# 	1 = { # KUMABE
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kumabe TITLE = title:c_higo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_higo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kumabe }
	# 	}
	# 	1 = { # TAKEZAKI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Takezaki TITLE = title:c_higo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_higo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Takezaki }
	# 	}
	# 	### HITACHI
	# 	1 = { # AKASU
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Akasu TITLE = title:c_hitachi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_hitachi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Akasu }
	# 	}
	# 	1 = { # ASABA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Asaba TITLE = title:c_hitachi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_hitachi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Asaba }
	# 	}
	# 	1 = { # HATTA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Hatta TITLE = title:c_hitachi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_hitachi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Hatta }
	# 	}
	# 	1 = { # ISA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Isa TITLE = title:c_hitachi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_hitachi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Isa }
	# 	}
	# 	1 = { # KATAOKA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kataoka TITLE = title:c_hitachi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_hitachi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kataoka }
	# 	}
	# 	1 = { # MIMURA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Mimura TITLE = title:c_hitachi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_hitachi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Mimura }
	# 	}
	# 	1 = { # NAMEKATA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Namekata TITLE = title:c_hitachi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_hitachi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Namekata }
	# 	}
	# 	1 = { # NEMOTO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Nemoto TITLE = title:c_hitachi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_hitachi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Nemoto }
	# 	}
	# 	1 = { # NISSAI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Nissai TITLE = title:c_hitachi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_hitachi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Nissai }
	# 	}
	# 	1 = { # ONOZAKI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Onozaki TITLE = title:c_hitachi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_hitachi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Onozaki }
	# 	}
	# 	1 = { # SATAKE
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Satake TITLE = title:c_hitachi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_hitachi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Satake }
	# 	}
	# 	1 = { # SHIDA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Shida TITLE = title:c_hitachi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_hitachi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Shida }
	# 	}
	# 	1 = { # TAKEDA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Takeda TITLE = title:c_hitachi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_hitachi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Takeda }
	# 	}
	# 	1 = { # TOMURA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Tomura TITLE = title:c_hitachi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_hitachi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Tomura }
	# 	}
	# 	### HIZEN
	# 	1 = { # MATSURA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Matsura TITLE = title:c_hizen } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_hizen }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Matsura }
	# 	}
	# 	1 = { # YASUTOMI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Yasutomi TITLE = title:c_hizen } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_hizen }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Yasutomi }
	# 	}
	# 	### HOKI
	# 	### HYUGA
	# 	### INABA
	# 	1 = { # HIKIDA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Hikida TITLE = title:c_inaba } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_inaba }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Hikida }
	# 	}
	# 	1 = { # SAJI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Saji TITLE = title:c_inaba } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_inaba }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Saji }
	# 	}
	# 	### ISAWA
	# 	1 = { # SHIBA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Shiba TITLE = title:c_isawa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_isawa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Shiba }
	# 	}
	# 	### ISE
	# 	1 = { # HATTORI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Hattori TITLE = title:c_yamato } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_yamato }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Hattori }
	# 	}
	# 	1 = { # IGA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Iga TITLE = title:c_ise } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_ise }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Iga }
	# 	}
	# 	1 = { # ITO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_ItO_ TITLE = title:c_izu } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_izu }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_ItO_ }
	# 	}
	# 	1 = { # KANBE
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kanbe TITLE = title:c_ise } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_ise }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kanbe }
	# 	}
	# 	1 = { # KUKI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kuki TITLE = title:c_ise } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_ise }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kuki }
	# 	}
	# 	1 = { # SEKI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Seki TITLE = title:c_ise } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_ise }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Seki }
	# 	}
	# 	1 = { # SHIMA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Shima TITLE = title:c_ise } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_ise }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Shima }
	# 	}
	# 	### IWAKI
	# 	1 = { # TAMURA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Tamura TITLE = title:c_iwaki } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_iwaki }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Tamura }
	# 	}
	# 	1 = { # WATARI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Watari TITLE = title:c_iwaki } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_iwaki }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Watari }
	# 	}
	# 	### IWASHIRO
	# 	1 = { # DATE
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Date TITLE = title:c_iwase } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_iwase }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Date }
	# 	}
	# 	1 = { # SUGIME
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Sugime TITLE = title:c_iwase } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_iwase }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Sugime }
	# 	}
	# 	### IWASE
	# 	1 = { # ASAKA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Asaka TITLE = title:c_iwase } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_iwase }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Asaka }
	# 	}
	# 	### IYO
	# 	1 = { # KONO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kono TITLE = title:c_iyo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_iyo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kono }
	# 	}
	# 	### IZU
	# 	1 = { # AKAZAWA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Akazawa TITLE = title:c_izu } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_izu }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Akazawa }
	# 	}
	# 	1 = { # AMANO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Amano TITLE = title:c_izu } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_izu }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Amano }
	# 	}
	# 	1 = { # EMA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Ema TITLE = title:c_izu } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_izu }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Ema }
	# 	}
	# 	1 = { # HOJO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_HO_jO_ TITLE = title:c_izu } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_izu }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_HO_jO_ }
	# 	}
	# 	1 = { # ITO 2
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_ItO__2 TITLE = title:c_izu } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_izu }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_ItO__2 }
	# 	}
	# 	1 = { # KANO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kano TITLE = title:c_izu } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_izu }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kano }
	# 	}
	# 	1 = { # KAWAZU
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kawazu TITLE = title:c_izu } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_izu }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kawazu }
	# 	}
	# 	1 = { # OMI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_O_mi TITLE = title:c_izu } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_izu }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_O_mi }
	# 	}
	# 	1 = { # TASHIRO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Tashiro TITLE = title:c_izu } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_izu }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Tashiro }
	# 	}
	# 	1 = { # USAMI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Usami TITLE = title:c_izu } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_izu }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Usami }
	# 	}
	# 	### IWAMI
	# 	1 = { # MASUDA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Masuda TITLE = title:c_iwami } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_iwami }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Masuda }
	# 	}
	# 	### IZUMO
	# 	1 = { # MISAWA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Misawa TITLE = title:c_izumo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_izumo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Misawa }
	# 	}
	# 	1 = { # MITOYA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Mitoya TITLE = title:c_izumo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_izumo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Mitoya }
	# 	}
	# 	1 = { # NOGI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Nogi TITLE = title:c_izumo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_izumo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Nogi }
	# 	}
	# 	### KAGA
	# 	1 = { # KUMASAKA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kumasaka TITLE = title:c_kaga } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kaga }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kumasaka }
	# 	}
	# 	1 = { # TOGASHI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Togashi TITLE = title:c_kaga } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kaga }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Togashi }
	# 	}
	# 	### KAI
	# 	1 = { # AKIYAMA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Akiyama TITLE = title:c_kai } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kai }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Akiyama }
	# 	}
	# 	1 = { # ASARI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Asari TITLE = title:c_kai } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kai }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Asari }
	# 	}
	# 	1 = { # ICHIJO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_IchijO_ TITLE = title:c_kai } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kai }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_IchijO_ }
	# 	}
	# 	1 = { # ITSUMI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Henmi TITLE = title:c_kai } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kai }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Henmi }
	# 	}
	# 	1 = { # KAGAMI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kagami TITLE = title:c_kai } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kai }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kagami }
	# 	}
	# 	1 = { # NANBU
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Nanbu TITLE = title:c_kai } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kai }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Nanbu }
	# 	}
	# 	1 = { # OGASAWARA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Ogasawara TITLE = title:c_kai } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kai }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Ogasawara }
	# 	}
	# 	### KAWACHI
	# 	1 = { # IZUMI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Izumi TITLE = title:c_kawachi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kawachi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Izumi }
	# 	}
	# 	1 = { # TAKAYASU
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Takayasu TITLE = title:c_kawachi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kawachi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Takayasu }
	# 	}
	# 	### KAZUSA
	# 	1 = { # ANZAI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Anzai TITLE = title:c_kazusa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kazusa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Anzai }
	# 	}
	# 	1 = { # HANYU 2
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_HanyU__2 TITLE = title:c_kazusa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kazusa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_HanyU__2 }
	# 	}
	# 	1 = { # INTO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_IntO_ TITLE = title:c_kazusa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kazusa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_IntO_ }
	# 	}
	# 	1 = { # KANEDA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kaneda TITLE = title:c_kazusa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kazusa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kaneda }
	# 	}
	# 	1 = { # NAGASA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Nagasa TITLE = title:c_awa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_awa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Nagasa }
	# 	}
	# 	1 = { # OBU
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Obu TITLE = title:c_kazusa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kazusa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Obu }
	# 	}
	# 	1 = { # SAKUMA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Sakuma TITLE = title:c_kazusa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kazusa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Sakuma }
	# 	}
	# 	### KII
	# 	1 = { # AKATA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Akata TITLE = title:c_kii } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kii }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Akata }
	# 	}
	# 	1 = { # ITOGA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Itoga TITLE = title:c_kii } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kii }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Itoga }
	# 	}
	# 	1 = { # HOZUMI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Hozumi TITLE = title:c_kii } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kii }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Hozumi }
	# 	}
	# 	1 = { # SHINGU
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_ShingU_ TITLE = title:c_kii } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kii }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_ShingU_ }
	# 	}
	# 	1 = { # SUZUKI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Suzuki TITLE = title:c_kii } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kii }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Suzuki }
	# 	}
	# 	1 = { # UI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Ui TITLE = title:c_kii } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kii }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Ui }
	# 	}
	# 	1 = { # YAMAMOTO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Yamamoto TITLE = title:c_kii } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kii }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Yamamoto }
	# 	}
	# 	1 = { # YUASA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Yuasa TITLE = title:c_kii } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kii }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Yuasa }
	# 	}
	# 	### KOZUKE
	# 	1 = { # AKAHORI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Akahori TITLE = title:c_kozuke } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kozuke }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Akahori }
	# 	}
	# 	1 = { # AOYAMA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Aoyama TITLE = title:c_kozuke } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kozuke }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Aoyama }
	# 	}
	# 	1 = { # IWAMATSU
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Iwamatsu TITLE = title:c_kozuke } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kozuke }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Iwamatsu }
	# 	}
	# 	1 = { # JINBO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Jinbo TITLE = title:c_kozuke } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kozuke }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Jinbo }
	# 	}
	# 	1 = { # MOMONOI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Momonoi TITLE = title:c_kozuke } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kozuke }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Momonoi }
	# 	}
	# 	1 = { # NITTA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Nitta TITLE = title:c_kozuke } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kozuke }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Nitta }
	# 	}
	# 	1 = { # OBATA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Obata TITLE = title:c_kozuke } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kozuke }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Obata }
	# 	}
	# 	1 = { # SATOMI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Satomi TITLE = title:c_mino } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_mino }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Satomi }
	# 	}
	# 	1 = { # TOKUGAWA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Tokugawa TITLE = title:c_kozuke } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kozuke }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Tokugawa }
	# 	}
	# 	1 = { # YAMANA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Yamana TITLE = title:c_kozuke } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kozuke }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Yamana }
	# 	}
	# 	### MIKAWA
	# 	1 = { # ASUKE
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Asuke TITLE = title:c_mikawa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_mikawa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Asuke }
	# 	}
	# 	1 = { # HOSOKAWA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Hosokawa TITLE = title:c_mikawa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_mikawa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Hosokawa }
	# 	}
	# 	1 = { # IMAGAWA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Imagawa TITLE = title:c_mikawa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_mikawa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Imagawa }
	# 	}
	# 	1 = { # ISSHIKI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Isshiki TITLE = title:c_higo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_higo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Isshiki }
	# 	}
	# 	1 = { # KIRA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kira TITLE = title:c_mikawa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_mikawa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kira }
	# 	}
	# 	1 = { # MAKINO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Makino TITLE = title:c_mikawa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_mikawa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Makino }
	# 	}
	# 	1 = { # MATSUDAIRA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Matsudaira TITLE = title:c_mikawa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_mikawa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Matsudaira }
	# 	}
	# 	1 = { # NIKI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Niki TITLE = title:c_mikawa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_mikawa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Niki }
	# 	}
	# 	### MIMASAKA
	# 	1 = { # KATSUTA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Katsuta TITLE = title:c_mimasaka } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_mimasaka }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Katsuta }
	# 	}
	# 	1 = { # SHINMEN
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Shinmen TITLE = title:c_mimasaka } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_mimasaka }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Shinmen }
	# 	}
	# 	### MINO
	# 	1 = { # ASANO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Asano TITLE = title:c_mino } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_mino }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Asano }
	# 	}
	# 	1 = { # FUKUSHIMA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Fukushima TITLE = title:c_mino } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_mino }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Fukushima }
	# 	}
	# 	1 = { # IKEDA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Ikeda TITLE = title:c_mino } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_mino }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Ikeda }
	# 	}
	# 	1 = { # KIDA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kida TITLE = title:c_mino } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_mino }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kida }
	# 	}
	# 	1 = { # TOKI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Toki_JP TITLE = title:c_mino } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_mino }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Toki_JP }
	# 	}
	# 	1 = { # TOYOYAMA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Toyoyama TITLE = title:c_mino } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_mino }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Toyoyama }
	# 	}
	# 	### MUSASHI
	# 	1 = { # ADACHI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Adachi TITLE = title:c_musashi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Adachi }
	# 	}
	# 	1 = { # ASAMI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Asami TITLE = title:c_musashi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Asami }
	# 	}
	# 	1 = { # CHICHIBU
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Chichibu TITLE = title:c_musashi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Chichibu }
	# 	}
	# 	1 = { # INAGE
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Inage TITLE = title:c_musashi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Inage }
	# 	}
	# 	1 = { # INOMATA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Inomata TITLE = title:c_musashi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Inomata }
	# 	}
	# 	1 = { # KANEKO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kaneko TITLE = title:c_musashi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kaneko }
	# 	}
	# 	1 = { # KASAI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kasai TITLE = title:c_musashi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kasai }
	# 	}
	# 	1 = { # KASUKABE
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kasukabe TITLE = title:c_musashi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kasukabe }
	# 	}
	# 	1 = { # KAWAGOE
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kawagoe TITLE = title:c_musashi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kawagoe }
	# 	}
	# 	1 = { # KAWASAKI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kawasaki TITLE = title:c_musashi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kawasaki }
	# 	}
	# 	1 = { # KUMAGAI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kumagai TITLE = title:c_musashi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kumagai }
	# 	}
	# 	1 = { # HATAKEYAMA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Hatakeyama TITLE = title:c_musashi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Hatakeyama }
	# 	}
	# 	1 = { # HIKI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Hiki TITLE = title:c_musashi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Hiki }
	# 	}
	# 	1 = { # HIRUKAWA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Hirukawa TITLE = title:c_musashi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Hirukawa }
	# 	}
	# 	1 = { # INAZAWA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Inazawa TITLE = title:c_musashi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Inazawa }
	# 	}
	# 	1 = { # MOKUSAI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Mokusai TITLE = title:c_musashi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Mokusai }
	# 	}
	# 	1 = { # MURAYAMA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Murayama TITLE = title:c_musashi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Murayama }
	# 	}
	# 	1 = { # NARITA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Narita TITLE = title:c_musashi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Narita }
	# 	}
	# 	1 = { # NOMOTO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Nomoto TITLE = title:c_musashi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Nomoto }
	# 	}
	# 	1 = { # NOYO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Noyo TITLE = title:c_musashi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Noyo }
	# 	}
	# 	1 = { # OI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_O_i TITLE = title:c_musashi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_O_i }
	# 	}
	# 	1 = { # OYAMADA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Oyamada TITLE = title:c_musashi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Oyamada }
	# 	}
	# 	1 = { # TOSHIMA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Toshima TITLE = title:c_musashi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Toshima }
	# 	}
	# 	1 = { # SHINAGAWA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Shinagawa TITLE = title:c_musashi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Shinagawa }
	# 	}
	# 	1 = { # USHIODA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Ushioda TITLE = title:c_musashi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Ushioda }
	# 	}
	# 	1 = { # YOKOYAMA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Yokoyama TITLE = title:c_musashi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Yokoyama }
	# 	}
	# 	1 = { # YOMODA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Yomoda TITLE = title:c_musashi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Yomoda }
	# 	}
	# 	### NAGATO
	# 	### NOTO
	# 	1 = { # TOKUDA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Tokuda TITLE = title:c_noto } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_noto }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Tokuda }
	# 	}
	# 	### OKI
	# 	### OMI
	# 	1 = { # AMAGO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Amago TITLE = title:c_omi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_omi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Amago }
	# 	}
	# 	1 = { # AMENOMORI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Amenomori TITLE = title:c_omi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_omi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Amenomori }
	# 	}
	# 	1 = { # HAYAMI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Hayami TITLE = title:c_omi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_omi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Hayami }
	# 	}
	# 	1 = { # IBA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Iba_JP TITLE = title:c_omi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_omi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Iba_JP }
	# 	}
	# 	1 = { # KUTSUKI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kutsuki TITLE = title:c_omi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_omi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kutsuki }
	# 	}
	# 	1 = { # MIKI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Miki TITLE = title:c_omi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_omi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Miki }
	# 	}
	# 	1 = { # OHARA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_O_hara TITLE = title:c_omi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_omi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_O_hara }
	# 	}
	# 	1 = { # SASAKI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Sasaki TITLE = title:c_omi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_omi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Sasaki }
	# 	}
	# 	1 = { # TANAKA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Tanaka TITLE = title:c_omi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_omi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Tanaka }
	# 	}
	# 	### OSUMI
	# 	1 = { # KIMOTSUKI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kimotsuki TITLE = title:c_osumi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_osumi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kimotsuki }
	# 	}
	# 	1 = { # KITAHARA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kitahara TITLE = title:c_osumi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_osumi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kitahara }
	# 	}
	# 	### OWARI
	# 	1 = { # HACHISUKA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Hachisuka TITLE = title:c_owari } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_owari }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Hachisuka }
	# 	}
	# 	1 = { # HOTTA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Hotta TITLE = title:c_owari } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_owari }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Hotta }
	# 	}
	# 	1 = { # NIWA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Niwa TITLE = title:c_owari } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_owari }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Niwa }
	# 	}
	# 	1 = { # OGAWA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Ogawa TITLE = title:c_owari } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_owari }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Ogawa }
	# 	}
	# 	1 = { # OKADA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Okada TITLE = title:c_owari } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_owari }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Okada }
	# 	}
	# 	1 = { # OSADA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Osada TITLE = title:c_owari } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_owari }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Osada }
	# 	}
	# 	1 = { # YAMADA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Yamada TITLE = title:c_owari } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_owari }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Yamada }
	# 	}
	# 	1 = { # YASUDA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Yasuda TITLE = title:c_owari } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_owari }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Yasuda }
	# 	}
	# 	### SAGAMI
	# 	1 = { # AIHARA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Aihara TITLE = title:c_sagami } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sagami }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Aihara }
	# 	}
	# 	1 = { # AIKO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_AikO_ TITLE = title:c_sagami } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sagami }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_AikO_ }
	# 	}
	# 	1 = { # ASHINA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Ashina TITLE = title:c_sagami } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sagami }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Ashina }
	# 	}
	# 	1 = { # DOI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Doi TITLE = title:c_sagami } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sagami }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Doi }
	# 	}
	# 	1 = { # EBINA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Ebina TITLE = title:c_sagami } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sagami }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Ebina }
	# 	}
	# 	1 = { # HATANO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Hatano TITLE = title:c_sagami } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sagami }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Hatano }
	# 	}
	# 	1 = { # KAGAWA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kagawa TITLE = title:c_sagami } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sagami }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kagawa }
	# 	}
	# 	1 = { # KAJIWARA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kajiwara TITLE = title:c_sagami } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sagami }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kajiwara }
	# 	}
	# 	1 = { # KOBAYAKAWA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kobayakawa TITLE = title:c_sagami } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sagami }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kobayakawa }
	# 	}
	# 	1 = { # MATANO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Matano TITLE = title:c_sagami } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sagami }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Matano }
	# 	}
	# 	1 = { # MIURA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Miura TITLE = title:c_sagami } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sagami }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Miura }
	# 	}
	# 	1 = { # MORI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Mori_JP TITLE = title:c_sagami } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sagami }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Mori_JP }
	# 	}
	# 	1 = { # NAGAE
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Nagae TITLE = title:c_sagami } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sagami }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Nagae }
	# 	}
	# 	1 = { # NAGAO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Nagao TITLE = title:c_sagami } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sagami }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Nagao }
	# 	}
	# 	1 = { # NAKAMURA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Nakamura TITLE = title:c_sagami } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sagami }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Nakamura }
	# 	}
	# 	1 = { # NIKAIDO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Nikaido TITLE = title:c_sagami } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sagami }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Nikaido }
	# 	}
	# 	1 = { # OBA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_O_ba TITLE = title:c_sagami } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sagami }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_O_ba }
	# 	}
	# 	1 = { # OKAZAKI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Okazaki TITLE = title:c_sagami } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sagami }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Okazaki }
	# 	}
	# 	1 = { # OTAWA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_O_tawa TITLE = title:c_sagami } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sagami }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_O_tawa }
	# 	}
	# 	1 = { # OTOMO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_O_tomo TITLE = title:c_sagami } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sagami }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_O_tomo }
	# 	}
	# 	1 = { # SAWARA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Sawara TITLE = title:c_sagami } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sagami }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Sawara }
	# 	}
	# 	1 = { # SHIBUYA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Shibuya TITLE = title:c_sagami } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sagami }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Shibuya }
	# 	}
	# 	1 = { # SOGA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Soga TITLE = title:c_sagami } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sagami }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Soga }
	# 	}
	# 	1 = { # SUGIMOTO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Sugimoto TITLE = title:c_sagami } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sagami }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Sugimoto }
	# 	}
	# 	1 = { # TOKIWA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Tokiwa TITLE = title:c_sagami } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sagami }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Tokiwa }
	# 	}
	# 	1 = { # TSUCHIYA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Tsuchiya TITLE = title:c_sagami } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sagami }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Tsuchiya }
	# 	}
	# 	1 = { # YAMAUCHI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Yamauchi TITLE = title:c_sagami } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sagami }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Yamauchi }
	# 	}
	# 	### SANUKI
	# 	1 = { # SOGO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_SogO_ TITLE = title:c_sanuki } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sanuki }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_SogO_ }
	# 	}
	# 	### SATSUMA
	# 	1 = { # SHIMAZU
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Shimazu TITLE = title:c_satsuma } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_satsuma }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Shimazu }
	# 	}
	# 	1 = { # TOGO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_TO_gO_ TITLE = title:c_satsuma } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_satsuma }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_TO_gO_ }
	# 	}
	# 	1 = { # YAMADA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Yamada TITLE = title:c_satsuma } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_satsuma }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Yamada }
	# 	}
	# 	### SETTSU
	# 	1 = { # MINASE
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Minase TITLE = title:c_settsu } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_settsu }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Minase }
	# 	}
	# 	1 = { # MIZOKUI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Mizokui TITLE = title:c_settsu } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_settsu }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Mizokui }
	# 	}
	# 	1 = { # NOSE
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Nose TITLE = title:c_settsu } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_settsu }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Nose }
	# 	}
	# 	1 = { # TADA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Tada TITLE = title:c_settsu } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_settsu }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Tada }
	# 	}
	# 	1 = { # WATANABE
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Watanabe TITLE = title:c_settsu } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_settsu }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Watanabe }
	# 	}
	# 	### SHINANO
	# 	1 = { # AIDA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Aida TITLE = title:c_shinano } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shinano }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Aida }
	# 	}
	# 	1 = { # ATOBE
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Atobe TITLE = title:c_shinano } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shinano }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Atobe }
	# 	}
	# 	1 = { # DEURA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Deura TITLE = title:c_shinano } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shinano }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Deura }
	# 	}
	# 	1 = { # HIGUCHI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Higuchi TITLE = title:c_shinano } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shinano }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Higuchi }
	# 	}
	# 	1 = { # HOSHINA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Hoshina TITLE = title:c_shinano } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shinano }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Hoshina }
	# 	}
	# 	1 = { # IIDA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Iida TITLE = title:c_shinano } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shinano }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Iida }
	# 	}
	# 	1 = { # IINUMA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Iinuma TITLE = title:c_shinano } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shinano }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Iinuma }
	# 	}
	# 	1 = { # IMAI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Imai TITLE = title:c_shinano } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shinano }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Imai }
	# 	}
	# 	1 = { # INA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Ina TITLE = title:c_shinano } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shinano }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Ina }
	# 	}
	# 	1 = { # INOUE
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Inoue TITLE = title:c_musashi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Inoue }
	# 	}
	# 	1 = { # KATAGIRI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Katagiri TITLE = title:c_shinano } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shinano }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Katagiri }
	# 	}
	# 	1 = { # KOSAKA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kosaka TITLE = title:c_shinano } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shinano }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kosaka }
	# 	}
	# 	1 = { # KISO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kiso TITLE = title:c_shinano } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shinano }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kiso }
	# 	}
	# 	1 = { # KURITA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kurita TITLE = title:c_shinano } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shinano }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kurita }
	# 	}
	# 	1 = { # MOCHIZUKI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Mochizuki TITLE = title:c_shinano } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shinano }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Mochizuki }
	# 	}
	# 	1 = { # MURAKAMI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Murakami TITLE = title:c_shinano } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shinano }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Murakami }
	# 	}
	# 	1 = { # NAKANO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Nakano TITLE = title:c_shinano } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shinano }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Nakano }
	# 	}
	# 	1 = { # NATSUME
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Natsume TITLE = title:c_shinano } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shinano }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Natsume }
	# 	}
	# 	1 = { # NEZU
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Nezu TITLE = title:c_shinano } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shinano }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Nezu }
	# 	}
	# 	1 = { # NISHINA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Nishina TITLE = title:c_shinano } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shinano }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Nishina }
	# 	}
	# 	1 = { # ODAGIRI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Odagiri TITLE = title:c_shinano } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shinano }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Odagiri }
	# 	}
	# 	1 = { # SANADA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Sanada TITLE = title:c_shinano } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shinano }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Sanada }
	# 	}
	# 	1 = { # SHIODA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Shioda TITLE = title:c_shinano } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shinano }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Shioda }
	# 	}
	# 	1 = { # TOMONO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Tomono TITLE = title:c_shinano } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shinano }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Tomono }
	# 	}
	# 	1 = { # UEDA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Ueda TITLE = title:c_shinano } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shinano }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Ueda }
	# 	}
	# 	1 = { # UNNO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Unno TITLE = title:c_shinano } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shinano }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Unno }
	# 	}
	# 	1 = { # YASHIRO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Yashiro TITLE = title:c_shinano } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shinano }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Yashiro }
	# 	}
	# 	1 = { # YODA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Yoda TITLE = title:c_shinano } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shinano }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Yoda }
	# 	}
	# 	### SHIMOSA
	# 	1 = { # CHIBA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Chiba TITLE = title:c_shimosa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shimosa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Chiba }
	# 	}
	# 	1 = { # HARA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Hara TITLE = title:c_shimosa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shimosa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Hara }
	# 	}
	# 	1 = { # KOKUBU
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kokubu TITLE = title:c_shimosa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shimosa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kokubu }
	# 	}
	# 	1 = { # OSUGA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_O_suga TITLE = title:c_shimosa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shimosa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_O_suga }
	# 	}
	# 	1 = { # SHIMOKOBE
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_ShimokO_be TITLE = title:c_shimosa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shimosa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_ShimokO_be }
	# 	}
	# 	1 = { # SOMA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_SO_ma TITLE = title:c_shimosa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shimosa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_SO_ma }
	# 	}
	# 	1 = { # SOSA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_SO_sa TITLE = title:c_shimosa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shimosa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_SO_sa }
	# 	}
	# 	1 = { # TAKEISHI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Takeishi TITLE = title:c_shimosa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shimosa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Takeishi }
	# 	}
	# 	1 = { # TO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_TO_ TITLE = title:c_shimosa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shimosa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_TO_ }
	# 	}
	# 	1 = { # YUKI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_YU_ki TITLE = title:c_shimosa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shimosa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_YU_ki }
	# 	}
	# 	### SHIMOTSUKE
	# 	1 = { # ASHIKAGA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Ashikaga TITLE = title:c_shimotsuke } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shimotsuke }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Ashikaga }
	# 	}
	# 	1 = { # HAGA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Haga TITLE = title:c_shimotsuke } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shimotsuke }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Haga }
	# 	}
	# 	1 = { # ITAKURA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Itakura TITLE = title:c_shimotsuke } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shimotsuke }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Itakura }
	# 	}
	# 	1 = { # NASU
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Nasu TITLE = title:c_shimotsuke } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shimotsuke }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Nasu }
	# 	}
	# 	1 = { # ONODERA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Onodera TITLE = title:c_shimotsuke } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shimotsuke }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Onodera }
	# 	}
	# 	1 = { # OYAMA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Oyama TITLE = title:c_shimotsuke } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shimotsuke }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Oyama }
	# 	}
	# 	1 = { # SANO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Sano TITLE = title:c_shimotsuke } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shimotsuke }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Sano }
	# 	}
	# 	1 = { # SHIONOYA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Shionoya TITLE = title:c_shimotsuke } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shimotsuke }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Shionoya }
	# 	}
	# 	1 = { # UJIIE
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Uji_ie TITLE = title:c_shimotsuke } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shimotsuke }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Uji_ie }
	# 	}
	# 	### SUO
	# 	1 = { # MIGATA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Migata TITLE = title:c_suo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_suo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Migata }
	# 	}
	# 	1 = { # OUCHI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_O_uchi TITLE = title:c_suo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_suo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_O_uchi }
	# 	}
	# 	1 = { # TOIDA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Toida TITLE = title:c_suo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_suo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Toida }
	# 	}
	# 	1 = { # WASHIZU
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Washizu TITLE = title:c_suo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_suo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Washizu }
	# 	}
	# 	1 = { # YAMAGUCHI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Yamaguchi TITLE = title:c_suo } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_suo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Yamaguchi }
	# 	}
	# 	### SURUGA
	# 	1 = { # ABE
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Abe TITLE = title:c_suruga } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_suruga }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Abe }
	# 	}
	# 	1 = { # ANO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Ano TITLE = title:c_suruga } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_suruga }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Ano }
	# 	}
	# 	1 = { # IRIE
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Irie TITLE = title:c_suruga } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_suruga }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Irie }
	# 	}
	# 	1 = { # KAMBARA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kambara TITLE = title:c_suruga } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_suruga }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kambara }
	# 	}
	# 	1 = { # KIKKAWA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kikkawa TITLE = title:c_suruga } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_suruga }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kikkawa }
	# 	}
	# 	1 = { # MAKI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Maki TITLE = title:c_suruga } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_suruga }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Maki }
	# 	}
	# 	1 = { # OKABE
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Okabe TITLE = title:c_suruga } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_suruga }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Okabe }
	# 	}
	# 	### TAGA
	# 	1 = { # HIZUME
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Hizume TITLE = title:c_korehari } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_korehari }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Hizume }
	# 	}
	# 	### TAJIMA
	# 	1 = { # ASAKURA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Asakura TITLE = title:c_tajima } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_tajima }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Asakura }
	# 	}
	# 	### TANBA
	# 	1 = { # ASHIDA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Ashida TITLE = title:c_tanba } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_tanba }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Ashida }
	# 	}
	# 	1 = { # OTA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_O_ta TITLE = title:c_tanba } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_tanba }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_O_ta }
	# 	}
	# 	1 = { # UESUGI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Uesugi TITLE = title:c_tanba } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_tanba }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Uesugi }
	# 	}
	# 	### TOSA
	# 	1 = { # CHOSOKABE
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_ChO_sokabe TITLE = title:c_tosa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_tosa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_ChO_sokabe }
	# 	}
	# 	1 = { # HASUIKE
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Hasuike TITLE = title:c_tosa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_tosa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Hasuike }
	# 	}
	# 	1 = { # KOSOKABE
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_KO_sokabe TITLE = title:c_tosa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_tosa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_KO_sokabe }
	# 	}
	# 	1 = { # SOGABE
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Sogabe TITLE = title:c_tosa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_tosa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Sogabe }
	# 	}
	# 	1 = { # YASU
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Yasu TITLE = title:c_tosa } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_tosa }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Yasu }
	# 	}
	# 	### TOTOMI
	# 	1 = { # HARAISHI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Haraishi TITLE = title:c_totomi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_totomi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Haraishi }
	# 	}
	# 	1 = { # II
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Ii TITLE = title:c_totomi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_totomi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Ii }
	# 	}
	# 	1 = { # ISHITANI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Ishitani TITLE = title:c_totomi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_totomi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Ishitani }
	# 	}
	# 	1 = { # SAGARA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Sagara TITLE = title:c_totomi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_totomi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Sagara }
	# 	}
	# 	1 = { # TOYODA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Toyoda TITLE = title:c_totomi } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_totomi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Toyoda }
	# 	}
	# 	### TSUGARU
	# 	### TSUSHIMA
	# 	1 = { # SO
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_SO_ TITLE = title:c_tsushima } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_tsushima }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_SO_ }
	# 	}
	# 	### UGO
	# 	### UZEN
	# 	1 = { # MOGAMI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Mogami TITLE = title:c_tokisara } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_tokisara }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Mogami }
	# 	}
	# 	1 = { # OZONE
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_O_zone TITLE = title:c_tokisara } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_tokisara }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_O_zone }
	# 	}
	# 	1 = { # SHIRATORI
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Shiratori TITLE = title:c_tokisara } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_tokisara }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Shiratori }
	# 	}
	# 	### YAMATO
	# 	1 = { # KASUGA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Kasuga TITLE = title:c_yamato } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_yamato }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kasuga }
	# 	}
	# 	1 = { # IKOMA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_Ikoma TITLE = title:c_yamato } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_yamato }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Ikoma }
	# 	}
	# 	1 = { # OMIYA
	# 		trigger = { japan_house_name_county_trigger = { FLAG = flag:dynn_O_miya TITLE = title:c_yamato } }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_yamato }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_O_miya }
	# 	}
	# 	### OTHER / SHARED
	# 	1 = { # FURUICHI
	# 		trigger = {
	# 			OR = {
	# 				japan_house_name_county_trigger = { FLAG = flag:dynn_Furuichi TITLE = title:c_kawachi }
	# 				japan_house_name_county_trigger = { FLAG = flag:dynn_Furuichi TITLE = title:c_omi }
	# 				japan_house_name_county_trigger = { FLAG = flag:dynn_Furuichi TITLE = title:c_settsu }
	# 				japan_house_name_county_trigger = { FLAG = flag:dynn_Furuichi TITLE = title:c_yamato }
	# 			}
	# 		}
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kawachi }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_omi }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_settsu }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_yamato }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Furuichi }
	# 	}
	# 	1 = { # HAYASHI
	# 		trigger = {
	# 			OR = {
	# 				japan_house_name_county_trigger = { FLAG = flag:dynn_Hayashi TITLE = title:c_kaga }
	# 				japan_house_name_county_trigger = { FLAG = flag:dynn_Hayashi TITLE = title:c_owari }
	# 			}
	# 		}
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kaga }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_owari }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Hayashi }
	# 	}
	# 	1 = { # HONJO
	# 		trigger = {
	# 			OR = {
	# 				japan_house_name_county_trigger = { FLAG = flag:dynn_Furuichi TITLE = title:c_echigo }
	# 				japan_house_name_county_trigger = { FLAG = flag:dynn_Furuichi TITLE = title:c_musashi }
	# 			}
	# 		}
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_echigo }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_HonjO_ }
	# 	}
	# 	1 = { # HIRAGA
	# 		trigger = {
	# 			OR = {
	# 				japan_house_name_county_trigger = { FLAG = flag:dynn_Hiraga TITLE = title:c_shinano }
	# 				japan_house_name_county_trigger = { FLAG = flag:dynn_Hiraga TITLE = title:c_tokisara }
	# 			}
	# 		}
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shinano }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_tokisara }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Hiraga }
	# 	}
	# 	1 = { # ISHIKAWA
	# 		trigger = {
	# 			OR = {
	# 				japan_house_name_county_trigger = { FLAG = flag:dynn_Ishikawa TITLE = title:c_kawachi }
	# 				japan_house_name_county_trigger = { FLAG = flag:dynn_Ishikawa TITLE = title:c_iwaki }
	# 			}
	# 		}
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kawachi }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_iwaki }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Ishikawa }
	# 	}
	# 	1 = { # KODAMA
	# 		trigger = {
	# 			OR = {
	# 				japan_house_name_county_trigger = { FLAG = flag:dynn_Kodama TITLE = title:c_hoki }
	# 				japan_house_name_county_trigger = { FLAG = flag:dynn_Kodama TITLE = title:c_musashi }
	# 			}
	# 		}
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_hoki }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kodama }
	# 	}
	# 	1 = { # NAKAMURA
	# 		trigger = {
	# 			OR = {
	# 				japan_house_name_county_trigger = { FLAG = flag:dynn_Nakamura TITLE = title:c_hitachi }
	# 				japan_house_name_county_trigger = { FLAG = flag:dynn_Nakamura TITLE = title:c_sagami }
	# 				japan_house_name_county_trigger = { FLAG = flag:dynn_Nakamura TITLE = title:c_shimotsuke }
	# 			}
	# 		}
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_hitachi }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sagami }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_shimotsuke }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Nakamura }
	# 	}
	# 	1 = { # SHINGU
	# 		trigger = {
	# 			OR = {
	# 				japan_house_name_county_trigger = { FLAG = flag:dynn_ShingU_ TITLE = title:c_kii }
	# 				japan_house_name_county_trigger = { FLAG = flag:dynn_ShingU_ TITLE = title:c_iwase }
	# 			}
	# 		}
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kii }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_iwase }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_ShingU_ }
	# 	}
	# 	1 = { # TAKAOKA
	# 		trigger = {
	# 			OR = {
	# 				japan_house_name_county_trigger = { FLAG = flag:dynn_Takaoka TITLE = title:c_hitachi }
	# 				japan_house_name_county_trigger = { FLAG = flag:dynn_Takaoka TITLE = title:c_izumo }
	# 			}
	# 		}
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_hitachi }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_izumo }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Takaoka }
	# 	}
	# 	1 = { # WADA
	# 		trigger = {
	# 			OR = {
	# 				japan_house_name_county_trigger = { FLAG = flag:dynn_Wada TITLE = title:c_kawachi }
	# 				japan_house_name_county_trigger = { FLAG = flag:dynn_Wada TITLE = title:c_sagami }
	# 			}
	# 		}
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_kawachi }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_sagami }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Wada }
	# 	}
	# 	1 = { # YAMAGATA
	# 		trigger = {
	# 			OR = {
	# 				japan_house_name_county_trigger = { FLAG = flag:dynn_Yamagata TITLE = title:c_aki }
	# 				japan_house_name_county_trigger = { FLAG = flag:dynn_Yamagata TITLE = title:c_mino }
	# 			}
	# 		}
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_aki }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_mino }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Yamagata }
	# 	}
	# 	1 = { # YOSHIDA
	# 		trigger = {
	# 			OR = {
	# 				japan_house_name_county_trigger = { FLAG = flag:dynn_Yoshida TITLE = title:c_musashi }
	# 				japan_house_name_county_trigger = { FLAG = flag:dynn_Yoshida TITLE = title:c_omi }
	# 			}
	# 		}
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_musashi }
	# 		japanese_new_house_name_modifiers = { TITLE = title:c_omi }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_Yoshida }
	# 	}
	# 	### FUJIWARA
	# 	3 = { # ANDO
	# 		trigger = { dynasty ?= { exists = var:fujiwara_flag } }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_AndO_ }
	# 	}
	# 	3 = { # ENDO
	# 		trigger = { dynasty ?= { exists = var:fujiwara_flag } }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_EndO_ }
	# 	}
	# 	3 = { # GOTO
	# 		trigger = { dynasty ?= { exists = var:fujiwara_flag } }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_GotO_ }
	# 	}
	# 	3 = { # KATO
	# 		trigger = { dynasty ?= { exists = var:fujiwara_flag } }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_KatO_ }
	# 	}
	# 	3 = { # KONDO
	# 		trigger = { dynasty ?= { exists = var:fujiwara_flag } }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_KondO_ }
	# 	}
	# 	3 = { # KUDO
	# 		trigger = { dynasty ?= { exists = var:fujiwara_flag } }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_KudO_ }
	# 	}
	# 	3 = { # MUTO
	# 		trigger = { dynasty ?= { exists = var:fujiwara_flag } }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_MutO_ }
	# 	}
	# 	3 = { # SAITO
	# 		trigger = { dynasty ?= { exists = var:fujiwara_flag } }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_SaitO_ }
	# 	}
	# 	3 = { # SATO
	# 		trigger = { dynasty ?= { exists = var:fujiwara_flag } }
	# 		add_to_variable_list = { name = japanese_house_names target = flag:dynn_SatO_ }
	# 	}
	# }
}

assign_japanese_house_name_options_kyoto_effect = {
	### YAMASHIRO (KYOTO)
	random_list = {
		1 = {
			trigger = { japan_house_name_trigger = { FLAG = flag:dynn_Awata } }
			add_to_variable_list = { name = japanese_house_names target = flag:dynn_Awata }
		}
		1 = {
			trigger = { japan_house_name_trigger = { FLAG = flag:dynn_Awataguchi } }
			add_to_variable_list = { name = japanese_house_names target = flag:dynn_Awataguchi }
		}
		1 = {
			trigger = { japan_house_name_trigger = { FLAG = flag:dynn_GojO_ } }
			add_to_variable_list = { name = japanese_house_names target = flag:dynn_GojO_ }
		}
		1 = {
			trigger = { japan_house_name_trigger = { FLAG = flag:dynn_IchijO_ } }
			add_to_variable_list = { name = japanese_house_names target = flag:dynn_IchijO_ }
		}
		1 = {
			trigger = { japan_house_name_trigger = { FLAG = flag:dynn_Kitabatake } }
			add_to_variable_list = { name = japanese_house_names target = flag:dynn_Kitabatake }
		}
		1 = {
			trigger = { japan_house_name_trigger = { FLAG = flag:dynn_Konoe } }
			add_to_variable_list = { name = japanese_house_names target = flag:dynn_Konoe }
		}
		1 = {
			trigger = { japan_house_name_trigger = { FLAG = flag:dynn_KyO_goku } }
			add_to_variable_list = { name = japanese_house_names target = flag:dynn_KyO_goku }
		}
		1 = {
			trigger = { japan_house_name_trigger = { FLAG = flag:dynn_Nakamikado } }
			add_to_variable_list = { name = japanese_house_names target = flag:dynn_Nakamikado }
		}
		1 = {
			trigger = { japan_house_name_trigger = { FLAG = flag:dynn_NijO_ } }
			add_to_variable_list = { name = japanese_house_names target = flag:dynn_NijO_ }
		}
		1 = {
			trigger = { japan_house_name_trigger = { FLAG = flag:dynn_O_inomikado } }
			add_to_variable_list = { name = japanese_house_names target = flag:dynn_O_inomikado }
		}
		1 = {
			trigger = { japan_house_name_trigger = { FLAG = flag:dynn_Rokkaku } }
			add_to_variable_list = { name = japanese_house_names target = flag:dynn_Rokkaku }
		}
		1 = {
			trigger = { japan_house_name_trigger = { FLAG = flag:dynn_RokujO_ } }
			add_to_variable_list = { name = japanese_house_names target = flag:dynn_RokujO_ }
		}
		1 = {
			trigger = { japan_house_name_trigger = { FLAG = flag:dynn_SanjO_ } }
			add_to_variable_list = { name = japanese_house_names target = flag:dynn_SanjO_ }
		}
		1 = {
			trigger = { japan_house_name_trigger = { FLAG = flag:dynn_ShijO_ } }
			add_to_variable_list = { name = japanese_house_names target = flag:dynn_ShijO_ }
		}
		1 = {
			trigger = { japan_house_name_trigger = { FLAG = flag:dynn_Tsuchimikado } }
			add_to_variable_list = { name = japanese_house_names target = flag:dynn_Tsuchimikado }
		}
	}
}

faction_demand_regent_transfer_effect = {
	top_liege = {
		save_temporary_scope_as = old_regent_temp
		primary_title = {
			save_temporary_scope_as = primary_title_temp
			title_capital_county = { save_temporary_scope_as = preferred_capital_temp }
		}
	}
	$NEW_REGENT$ = {
		save_temporary_scope_as = new_regent_temp
		if = {
			limit = { government_has_flag = government_is_japan_feudal }
			save_temporary_scope_as = japan_feudal
		}
	}
	# COUNTIES
	create_title_and_vassal_change = {
		type = $REASON$
		save_scope_as = title_change
		add_claim_on_loss = no
	}
	scope:old_regent_temp = { # Give landed titles to the new Regent
		show_as_tooltip = {
			primary_title = { # Give top liege title to the new Regent
				change_title_holder_include_vassals = {
					holder = scope:new_regent_temp
					change = scope:title_change
				}
			}
		}
		hidden_effect = {
			every_held_title = {
				limit = {
					tier > tier_barony # we don't want to try and pass off baronies
					is_landless_type_title = no
					is_noble_family_title = no
					NOT = { exists = var:ceremonial_title } # we don't want to hand away the ceremonial throne, which is not landless
				}
				change_title_holder_include_vassals = {
					holder = scope:new_regent_temp
					change = scope:title_change
				}
			}
			change_liege = {
				liege = scope:new_regent_temp
				change = scope:title_change
			}
		}
	}
	resolve_title_and_vassal_change = scope:title_change
	scope:new_regent_temp = { 
		if = {
			limit = {
				has_title = scope:preferred_capital_temp # do I own the preferred capital?
				capital_county != scope:preferred_capital_temp # and is my capital not the preferred capital?
			}
			set_realm_capital = scope:preferred_capital_temp # now my capital is the preferred capital
		}
		# GOVERNMENT
		if = {
			limit = {
				exists = scope:japan_feudal
				NOT = { government_has_flag = government_is_japan_feudal }
			}
			change_government = japan_feudal_government
		}
	}
}

tgp_japan_schoolhouse_education_boost_effect = {
	save_scope_as = student
	house.house_head.domicile ?= {
		if = {
			limit = { 
				has_domicile_parameter = japanese_schoolhouse_education_boost_1
			}
			switch = {
				trigger = has_domicile_building
				japanese_schoolhouse_01 = { scope:student = { education_point_add_general_effect = { VALUE = 1 } } }
				japanese_schoolhouse_02 = { scope:student = { education_point_add_general_effect = { VALUE = 2 } } }
				japanese_schoolhouse_03 = { scope:student = { education_point_add_general_effect = { VALUE = 3 } } }
				japanese_schoolhouse_04 = { scope:student = { education_point_add_general_effect = { VALUE = 4 } } }
				japanese_schoolhouse_04 = { scope:student = { education_point_add_general_effect = { VALUE = 5 } } }
				japanese_schoolhouse_04 = { scope:student = { education_point_add_general_effect = { VALUE = 6 } } }
			}
		}
	}
}

tgp_restore_japanese_monarchy_decision_effect = {
	save_scope_as = kampaku
	tgp_restore_japanese_monarchy_yamato_scion_effect = yes
	add_prestige = major_prestige_value
	if = {
		limit = { government_allows = administrative }
		change_influence = major_influence_value
	}
	else = { add_piety = medium_piety_value }
	if = {
		limit = { exists = scope:scion }
		add_hook = {
			type = strong_favor_hook
			target = scope:scion
		}
	}
	else = { custom_tooltip = tgp_restore_japanese_monarchy_decision_hook_tt }
}

tgp_restore_japanese_monarchy_yamato_scion_effect = {
	title:k_chrysanthemum_throne.previous_holder ?= { save_scope_as = last_tenno }
	dynasty:japanese_yamato.dynasty_founder.house ?= {
		save_scope_as = house_yamato
		if = {
			limit = { this = scope:kampaku.house }
			if = { # Avoid display of short tooltips after creation
				limit = { NOT = { exists = scope:scion } }
				custom_tooltip = tgp_restore_japanese_monarchy_yamato_scion_kampaku_tt
			}
			scope:kampaku = { save_scope_as = scion }
		}
		else_if = {
			limit = {
				scope:last_tenno ?= { tgp_japan_valid_restore_monarchy_scion_trigger = yes }
			}
			if = { # Avoid display of short tooltips after creation
				limit = { NOT = { exists = scope:scion } }
				custom_tooltip = tgp_restore_japanese_monarchy_yamato_scion_last_tt
			}
			scope:last_tenno = { save_scope_as = scion }
		}
		else_if = {
			limit = {
				scope:last_tenno ?= {
					any_child = { tgp_japan_valid_restore_monarchy_scion_trigger = yes }
				}
			}
			if = { # Avoid display of short tooltips after creation
				limit = { NOT = { exists = scope:scion } }
				custom_tooltip = tgp_restore_japanese_monarchy_yamato_scion_last_child_tt
			}
			scope:last_tenno = {
				ordered_child = {
					limit = { tgp_japan_valid_restore_monarchy_scion_trigger = yes }
					order_by = age
					save_scope_as = scion
				}
			}
		}
		else_if = {
			limit = {
				scope:last_tenno ?= {
					any_close_family_member = { tgp_japan_valid_restore_monarchy_scion_trigger = yes }
				}
			}
			if = { # Avoid display of short tooltips after creation
				limit = { NOT = { exists = scope:scion } }
				custom_tooltip = tgp_restore_japanese_monarchy_yamato_scion_last_close_family_tt
			}
			scope:last_tenno = {
				ordered_close_family_member = {
					limit = { tgp_japan_valid_restore_monarchy_scion_trigger = yes }
					order_by = age
					save_scope_as = scion
				}
			}
		}
		else_if = {
			limit = {
				any_house_member = {
					is_ruler = no
					can_be_combatant_based_on_gender_trigger = { ARMY_OWNER = root.top_liege }
					is_healthy = yes
				}
			}
			if = { # Avoid display of short tooltips after creation
				limit = { NOT = { exists = scope:scion } }
				custom_tooltip = tgp_restore_japanese_monarchy_yamato_scion_found_tt
			}
			ordered_house_member = {
				limit = {
					top_liege = root.top_liege
					is_ruler = no
					can_be_combatant_based_on_gender_trigger = { ARMY_OWNER = root.top_liege }
					is_healthy = yes
				}
				order_by = age
				save_scope_as = scion
			}
		}
		else = {
			tgp_restore_japanese_monarchy_yamato_creation_effect = yes
			if = { # Avoid display of short tooltips after creation
				limit = { NOT = { exists = scope:scion } }
				custom_tooltip = tgp_restore_japanese_monarchy_yamato_scion_created_tt
			}
		}
		# Save children for portraits
		scope:scion = {
			save_scope_as = background_throne_room_scope
			ordered_child = {
				limit = { house = scope:scion.house }
				max = 3
				check_range_bounds = no
				order_by = age
				switch = {
					trigger = exists
					scope:scion_child_2 = { save_scope_as = scion_child_3 }
					scope:scion_child_1 = { save_scope_as = scion_child_2 }
					fallback = { save_scope_as = scion_child_1 }
				}
			}
		}
	}
}

tgp_restore_japanese_monarchy_yamato_restoration_effect = {
	add_character_flag = tgp_japan_restore_japanese_monarchy_flag
	if = {
		limit = { exists = scope:scion }
		if = {
			limit = { exists = title:k_chrysanthemum_throne.holder }
			create_title_and_vassal_change = {
				type = usurped
				save_scope_as = change
				add_claim_on_loss = yes
			}
		}
		else = {
			create_title_and_vassal_change = {
				type = created
				save_scope_as = change
			}
		}
		title:k_chrysanthemum_throne ?= {
			change_title_holder = {
				holder = scope:scion
				change = scope:change
			}
		}
		if = {
			limit = {
				scope:scion.liege != scope:kampaku
				scope:scion != scope:kampaku
			}
			scope:scion ?= {
				change_liege = {
					liege = scope:kampaku
					change = scope:change
				}
			}
		}
		resolve_title_and_vassal_change = scope:change
	}
	remove_character_flag = tgp_japan_restore_japanese_monarchy_flag
	hidden_effect = {
		scope:scion = {
			if = {
				limit = {
					NOT = { government_has_flag = government_is_japan_administrative }
				}
				change_government = japan_administrative_government
			}
		}
	}
}

tgp_restore_japanese_monarchy_decision_effect = { #LotR
	# save_scope_as = kampaku
	# tgp_restore_japanese_monarchy_yamato_scion_effect = yes
	# add_prestige = major_prestige_value
	# if = {
	# 	limit = { government_allows = administrative }
	# 	change_influence = major_influence_value
	# }
	# else = { add_piety = medium_piety_value }
	# if = {
	# 	limit = { exists = scope:scion }
	# 	add_hook = {
	# 		type = strong_favor_hook
	# 		target = scope:scion
	# 	}
	# }
	# else = { custom_tooltip = tgp_restore_japanese_monarchy_decision_hook_tt }
}

tgp_restore_japanese_monarchy_yamato_scion_effect = { #LotR
	#title:k_chrysanthemum_throne.previous_holder ?= { save_scope_as = last_tenno }
	# dynasty:japanese_yamato.dynasty_founder.house ?= {
	# 	save_scope_as = house_yamato
	# 	if = {
	# 		limit = { this = scope:kampaku.house }
	# 		if = { # Avoid display of short tooltips after creation
	# 			limit = { NOT = { exists = scope:scion } }
	# 			custom_tooltip = tgp_restore_japanese_monarchy_yamato_scion_kampaku_tt
	# 		}
	# 		scope:kampaku = { save_scope_as = scion }
	# 	}
	# 	else_if = {
	# 		limit = {
	# 			scope:last_tenno ?= { tgp_japan_valid_restore_monarchy_scion_trigger = yes }
	# 		}
	# 		if = { # Avoid display of short tooltips after creation
	# 			limit = { NOT = { exists = scope:scion } }
	# 			custom_tooltip = tgp_restore_japanese_monarchy_yamato_scion_last_tt
	# 		}
	# 		scope:last_tenno ?= { save_scope_as = scion } # LotR
	# 	}
	# 	else_if = {
	# 		limit = {
	# 			scope:last_tenno ?= {
	# 				any_child = { tgp_japan_valid_restore_monarchy_scion_trigger = yes }
	# 			}
	# 		}
	# 		if = { # Avoid display of short tooltips after creation
	# 			limit = { NOT = { exists = scope:scion } }
	# 			custom_tooltip = tgp_restore_japanese_monarchy_yamato_scion_last_child_tt
	# 		}
	# 		scope:last_tenno ?= { # LotR
	# 			ordered_child = {
	# 				limit = { tgp_japan_valid_restore_monarchy_scion_trigger = yes }
	# 				order_by = age
	# 				save_scope_as = scion
	# 			}
	# 		}
	# 	}
	# 	else_if = {
	# 		limit = {
	# 			scope:last_tenno ?= {
	# 				any_close_family_member = { tgp_japan_valid_restore_monarchy_scion_trigger = yes }
	# 			}
	# 		}
	# 		if = { # Avoid display of short tooltips after creation
	# 			limit = { NOT = { exists = scope:scion } }
	# 			custom_tooltip = tgp_restore_japanese_monarchy_yamato_scion_last_close_family_tt
	# 		}
	# 		scope:last_tenno ?= { # LotR
	# 			ordered_close_family_member = {
	# 				limit = { tgp_japan_valid_restore_monarchy_scion_trigger = yes }
	# 				order_by = age
	# 				save_scope_as = scion
	# 			}
	# 		}
	# 	}
	# 	else_if = {
	# 		limit = {
	# 			any_house_member = {
	# 				is_ruler = no
	# 				can_be_combatant_based_on_gender_trigger = { ARMY_OWNER = root.top_liege }
	# 				is_healthy = yes
	# 			}
	# 		}
	# 		if = { # Avoid display of short tooltips after creation
	# 			limit = { NOT = { exists = scope:scion } }
	# 			custom_tooltip = tgp_restore_japanese_monarchy_yamato_scion_found_tt
	# 		}
	# 		ordered_house_member = {
	# 			limit = {
	# 				top_liege = root.top_liege
	# 				is_ruler = no
	# 				can_be_combatant_based_on_gender_trigger = { ARMY_OWNER = root.top_liege }
	# 				is_healthy = yes
	# 			}
	# 			order_by = age
	# 			save_scope_as = scion
	# 		}
	# 	}
	# 	else = {
	# 		tgp_restore_japanese_monarchy_yamato_creation_effect = yes
	# 		if = { # Avoid display of short tooltips after creation
	# 			limit = { NOT = { exists = scope:scion } }
	# 			custom_tooltip = tgp_restore_japanese_monarchy_yamato_scion_created_tt
	# 		}
	# 	}
	# 	# Save children for portraits
	# 	scope:scion = {
	# 		save_scope_as = background_throne_room_scope
	# 		ordered_child = {
	# 			limit = { house = scope:scion.house }
	# 			max = 3
	# 			check_range_bounds = no
	# 			order_by = age
	# 			switch = {
	# 				trigger = exists
	# 				scope:scion_child_2 = { save_scope_as = scion_child_3 }
	# 				scope:scion_child_1 = { save_scope_as = scion_child_2 }
	# 				fallback = { save_scope_as = scion_child_1 }
	# 			}
	# 		}
	# 	}
	# }
}

tgp_restore_japanese_monarchy_yamato_restoration_effect = { #LotR
	# add_character_flag = tgp_japan_restore_japanese_monarchy_flag
	# if = {
	# 	limit = { exists = scope:scion }
	# 	if = {
	# 		limit = { exists = title:k_chrysanthemum_throne.holder } 
	# 		create_title_and_vassal_change = {
	# 			type = usurped
	# 			save_scope_as = change
	# 			add_claim_on_loss = yes
	# 		}
	# 	}
	# 	else = {
	# 		create_title_and_vassal_change = {
	# 			type = created
	# 			save_scope_as = change
	# 		}
	# 	}
	# 	title:k_chrysanthemum_throne ?= {
	# 		change_title_holder = {
	# 			holder = scope:scion
	# 			change = scope:change
	# 		}
	# 	}
	# 	if = {
	# 		limit = {
	# 			scope:scion.liege != scope:kampaku
	# 			scope:scion != scope:kampaku
	# 		}
	# 		scope:scion ?= {
	# 			change_liege = {
	# 				liege = scope:kampaku
	# 				change = scope:change
	# 			}
	# 		}
	# 	}
	# 	resolve_title_and_vassal_change = scope:change
	# }
	# remove_character_flag = tgp_japan_restore_japanese_monarchy_flag
	# hidden_effect = {
	# 	scope:scion = {
	# 		if = {
	# 			limit = {
	# 				NOT = { government_has_flag = government_is_japan_administrative }
	# 			}
	# 			change_government = japan_administrative_government
	# 		}
	# 	}
	# }
}

tgp_restore_japanese_monarchy_yamato_creation_effect = { #LotR
	# create_character = {
	# 	template = tgp_japan_imperial_scion_template
	# 	location = scope:kampaku.capital_province
	# 	age = { 16 38 }
	# 	save_scope_as = scion
	# }
	# scope:scion ?= {
	# 	if = {
	# 		limit = { is_female = yes }
	# 		create_character = {
	# 			template = tgp_japan_imperial_scion_template
	# 			location = scope:kampaku.capital_province
	# 			mother = scope:scion
	# 			age = { 11 12 }
	# 		}
	# 		create_character = {
	# 			template = tgp_japan_imperial_scion_template
	# 			location = scope:kampaku.capital_province
	# 			mother = scope:scion
	# 			age = { 7 8 }
	# 		}
	# 		create_character = {
	# 			template = tgp_japan_imperial_scion_template
	# 			location = scope:kampaku.capital_province
	# 			mother = scope:scion
	# 			age = { 3 4  }
	# 		}
	# 	}
	# 	else = {
	# 		create_character = {
	# 			template = tgp_japan_imperial_scion_template
	# 			location = scope:kampaku.capital_province
	# 			father = scope:scion
	# 			age = { 11 12 }
	# 		}
	# 		create_character = {
	# 			template = tgp_japan_imperial_scion_template
	# 			location = scope:kampaku.capital_province
	# 			father = scope:scion
	# 			age = { 7 8 }
	# 		}
	# 		create_character = {
	# 			template = tgp_japan_imperial_scion_template
	# 			location = scope:kampaku.capital_province
	# 			father = scope:scion
	# 			age = { 3 4 }
	# 		}
	# 	}
	# }
}

tgp_restore_japanese_government_decision_effect = {
	japan_clear_flavour_flags_effect = yes
	save_scope_as = kampaku
	save_scope_as = background_throne_room_scope
	add_character_flag = tgp_japan_restore_japanese_government_flag
	# Change government if relevant
	change_government = japan_administrative_government
	if = {
		limit = {
			NOT = { has_realm_law = japanese_regency_succession_law }
		}
		add_realm_law_skip_effects = japanese_regency_succession_law
	}
	# Inform vassals and convert governments if relevant
	every_vassal = {
		custom = every_japan_feudal_vassal_custom
		limit = { government_has_flag = government_is_japan_feudal }
		add_opinion = {
			target = scope:kampaku
			modifier = restored_ritsuryo_opinion
		}
	}
	if = {
		limit = { NOT = { exists = scope:vassal } }
		custom_tooltip = tgp_japan_restore_japanese_government_decision_civil_war_tt
	}
	hidden_effect = {
		ordered_powerful_vassal = {
			limit = {
				is_ai = yes
				NOR = {
					government_allows = administrative
					is_allied_to = scope:kampaku
				}
				opinion = {
					target = scope:kampaku
					value < 25
				}
				save_temporary_scope_as = vassal_temp
				NOT = {
					scope:kampaku = { has_usable_hook = scope:vassal_temp }
				}
			}
			order_by = military_power
			save_scope_as = rebel
		}
		if = {
			limit = {
				NOT = { exists = scope:rebel }
			}
			ordered_vassal = {
				limit = {
					is_ai = yes
					NOT = { government_allows = administrative }
					opinion = {
						target = scope:kampaku
						value < 25
					}
					save_temporary_scope_as = vassal_temp
					NOT = {
						scope:kampaku = { has_usable_hook = scope:vassal_temp }
					}
				}
				order_by = military_power
				save_scope_as = rebel
			}
		}
		if = {
			limit = { exists = scope:rebel }
			tgp_restore_ritsuryo_civil_war_effect = {
				REBEL = scope:rebel
				LIEGE = scope:kampaku
			}
		}
	}
	custom_tooltip = {
		text = tgp_japan_restore_japanese_government_decision_vassal_tt
		every_vassal_or_below = {
			limit = {
				primary_title.tier >= tier_county
				culture = { has_same_culture_heritage = scope:kampaku.culture }
			}
			# trigger_event = { #LotR
			# 	id = tgp_japan_decision.9912
			# 	delayed = yes
			# }
		}
	}
	remove_character_flag = tgp_japan_restore_japanese_government_flag
}

tgp_destroy_ceremonial_throne_effect = {
	liege = { save_scope_as = liege }
	save_scope_as = vassal
	scope:vassal ?= {
		if = {
			limit = {
				any_held_title = { exists = var:ceremonial_title }
			}
			tgp_destroy_ceremonial_liege_title_effect = yes
		}
		every_held_title = {
			limit = { exists = var:administrative_ui_special_title.holder }
			var:administrative_ui_special_title.holder = { tgp_destroy_ceremonial_liege_title_effect = yes }
		}
	}
}

tgp_destroy_ceremonial_liege_title_effect = {
	save_scope_as = ceremonial_liege
	random_held_title = {
		limit = { exists = var:ceremonial_title }
		save_scope_as = ceremonial_title
		var:ceremonial_title = { save_scope_as = regent_title }
	}
	random_held_title = {
		limit = { is_noble_family_title = yes }
		save_scope_as = nf_title
	}
	# Destroy the Ceremonial Title if linked title has no holder, or is in another realm, or is a sub vassal
	if = {
		limit = {
			OR = {
				# Linked regent title has no holder
				NOT = { exists = scope:ceremonial_title.var:ceremonial_title.holder }
				scope:ceremonial_title.holder.top_liege = {
					OR = {
						# Regent and Ceremonial titles in different realms
						this != scope:ceremonial_title.var:ceremonial_title.holder.top_liege
						# Regent title is not top liege's primary title
						primary_title != scope:ceremonial_title.var:ceremonial_title
						# Regent is not liege of Monarch
						this != scope:ceremonial_title.holder.liege
						# Hegemony
						highest_held_title_tier = tier_hegemony
					}
				}
			}
		}
		# MESSAGE
		every_player = {
			limit = { top_liege = scope:ceremonial_liege.top_liege }
			send_interface_message = {
				type = event_generic_bad
				title = tgp_destroy_ceremonial_liege_throne_title
				left_icon = scope:ceremonial_liege
				right_icon = scope:liege
				show_as_tooltip = {
					scope:liege = { destroy_title = scope:ceremonial_title }
					scope:ceremonial_liege = {
						if = {
							limit = { is_independent_ruler = no }
							add_trait = former_emperor
						}
					}
				}
			}
		}
		# Actually destroy
		scope:ceremonial_liege = {
			if = {
				limit = { has_treasury = yes }
				custom_tooltip = {
					text = treasury_emptying_effect_desc
					empty_treasury_when_abandoning_landed_life_effect = yes # otherwise the treasury sticks around
				}
			}
			if = {
				limit = { is_independent_ruler = no }
				add_trait = former_emperor
			}
		}
		scope:ceremonial_title = { remove_variable = ceremonial_title }
		scope:regent_title = { remove_variable = administrative_ui_special_title }
		scope:liege = { destroy_title = scope:ceremonial_title }
	}
}

tgp_japan_demand_administrative_refusal_effect = {
	if = {
		limit = {
			scope:actor = { government_has_flag = government_is_japan_administrative }
			scope:recipient = { government_has_flag = government_is_japan_feudal }
		}
		scope:actor = {
			start_war = {
				casus_belli = japan_demand_administrative_cb
				target = scope:recipient
			}
		}
		custom_tooltip = japan_demand_administrative_cb_warning_japan_tt
	}
}

tgp_restore_ritsuryo_civil_war_effect = {
	$REBEL$ = {
		save_scope_as = actor
		save_scope_value_as = {
			name = war_for_hoken_flavour
			value = yes
		}
		start_war = {
			casus_belli = japan_refused_ritsuryo_cb
			target = $LIEGE$
		}
	}
	$LIEGE$ = {
		save_scope_as = recipient
		every_vassal = { #Vassals joining the rebel.
			custom = vassals_joining_war_tt
			limit = {
				government_has_flag = government_is_japan_feudal
				NOR = {
					this = $REBEL$
					is_ai = no
					has_trait = incapable
					is_imprisoned = yes
					dread_modified_ai_boldness = { #Too scared to do anything.
						dreaded_character = $LIEGE$
						value <= -50
					}
					opinion = { # People who really, really like you will still back you
						target = $LIEGE$
						value >= 80
					}
					is_allied_to = $LIEGE$ 
					is_at_war_with = $REBEL$
					is_at_war_with = $LIEGE$
				}
				highest_held_title_tier > tier_barony
				OR = {
					#Lovers and friends always back rebel (unless also lovers/friends of the liege)
					AND = {
						OR = {
							is_allied_to = $REBEL$ 
							has_relation_lover = $REBEL$
							has_relation_friend = $REBEL$
						}
						NOR = {
							is_allied_to = $LIEGE$ 
							has_relation_lover = $LIEGE$
							has_relation_friend = $LIEGE$
						}
					}
					#Vassals that either like recipient or have high honor will rally if the liege is being tyrannical.
					AND = {
						# If they can't join a faction against the liege they should not revolt
						NOR = {
							has_relation_lover = $LIEGE$
							has_relation_friend = $LIEGE$
							is_allied_to = $LIEGE$
							is_primary_heir_of = $LIEGE$
							$LIEGE$ = { has_strong_hook = prev }
							has_dread_level_towards = {
								target = $LIEGE$
								level = 2
							}
						}
						OR = {
							ai_boldness >= 25
							ai_honor >= 25
							opinion = {
								target = $REBEL$
								value >= 40
							}
						}
						NOR = {
							$LIEGE$ = { has_revoke_title_reason = $REBEL$ }
							trigger_if = {
								limit = { exists = scope:landed_title }
								$LIEGE$ = { has_claim_on = scope:landed_title }
							}
							faith = {
								faith_hostility_level = {
									target = $REBEL$.faith
									value >= faith_hostile_level
								}
							}
						}
					}
					#And finally, vassals that really hate their liege will join regardless (provided that they also do not hate recipient).
					AND = {
						opinion = {
							target = $REBEL$
							value >= -25
						}
						OR = {
							#default threshold
							opinion = {
								target = $LIEGE$
								value <= -50
							}
							#If tyrannical, the default threshold will be reached if at this level
							AND = {
								$LIEGE$ = {
									title_revocation_is_tyrannical_trigger = { VASSAL = $REBEL$ }
								}
								opinion = {
									target = $LIEGE$
									value <= -30 #revoke_title_tyranny_gain adds -20
								}
							}
						}
					}
				}
			}
			save_scope_as = joining_vassal
			custom_tooltip = tooltip_fellow_vassal_joins_war #The war has not started when viewing the interaction screen.
			hidden_effect = {
				$REBEL$ = {
					every_character_war = {
						limit = {
							using_cb = japan_refused_ritsuryo_cb
							casus_belli = {
								primary_attacker = $REBEL$
								primary_defender = $LIEGE$
							}
						}
						add_to_list = war_to_join
					}
				}
				every_in_list = {
					list = war_to_join
					limit = {
						NOT = { is_defender = prev }
					}
					hidden_effect = { set_called_to = prev }
					add_attacker = prev
				}
			}
			hidden_effect = {
				$LIEGE$ = {
					add_opinion = {
						target = prev
						modifier = rebellious_vassal_opinion
					}
				}
			}
		}
		every_vassal = {
			limit = {
				is_ai = no
				NOT = { this = $REBEL$ }
				is_imprisoned = no
			}
			$REBEL$ = { save_scope_as = recipient }
			$LIEGE$ = { save_scope_as = actor }
			#trigger_event = tgp_japan_decision.9913 #LotR
		}
	}
}

tgp_set_historical_house_relation_effect = {
	if = {
		limit = {
			house_relation_is_valid_to_start_trigger = {
				HOUSE = this
				OTHER_HOUSE = $OTHER_HOUSE$
			}
		}
		set_house_relation = {
			target = $OTHER_HOUSE$
			level = $LEVEL$
			description = house_relation_reason_historical_desc
		}
	}
}

tgp_setup_historical_house_relation_effect = {
	### 867 ###
	# if = {
	# 	limit = { game_start_date = 867.1.1 }
	# 	house:house_fujiwara_ashikaga = {
	# 		tgp_set_historical_house_relation_effect = { # 
	# 			OTHER_HOUSE = house:house_minamoto_kozuke
	# 			LEVEL = rivalry
	# 		}
	# 	}
	# }
	# ### 1066 ###
	# else_if = {
	# 	limit = { game_start_date = 1066.9.15 }
	# 	dynasty:japanese_minamoto_murakami.dynasty_founder.house = {
	# 		tgp_set_historical_house_relation_effect = { # 
	# 			OTHER_HOUSE = dynasty:japanese_fujiwara.dynasty_founder.house
	# 			LEVEL = friendly
	# 		}
	# 	}
	# }
	# ### 1178 ###
	# else_if = {
	# 	limit = { game_start_date = 1178.10.1 }
	# 	dynasty:japanese_sugawara.dynasty_founder.house = {
	# 		tgp_set_historical_house_relation_effect = { # 
	# 			OTHER_HOUSE = dynasty:japanese_ki.dynasty_founder.house
	# 			LEVEL = friendly
	# 		}
	# 	}
	# 	house:house_minamoto_kiso = {
	# 		tgp_set_historical_house_relation_effect = { # Yoshikata killed by Yoshihira
	# 			OTHER_HOUSE = dynasty:japanese_nakahara_kiso.dynasty_founder.house
	# 			LEVEL = friendly
	# 		}
	# 	}
	# 	house:house_minamoto_kawachi = {
	# 		tgp_set_historical_house_relation_effect = { # Yoritomo's brothers killed by Kiyomori
	# 			OTHER_HOUSE = dynasty:japanese_nakahara_kiso.dynasty_founder.house
	# 			LEVEL = rivalry
	# 		}
	# 		tgp_set_historical_house_relation_effect = { # Marriage and historical alliance
	# 			OTHER_HOUSE = house:house_taira_hojo
	# 			LEVEL = friendly
	# 		}
	# 	}
	# 	house:house_kudo_kawazu = {
	# 		tgp_set_historical_house_relation_effect = { # Soga brothers
	# 			OTHER_HOUSE = house:house_kudo_ito_2
	# 			LEVEL = rivalry
	# 		}
	# 	}
	# 	house:house_taira_wada = {
	# 		tgp_set_historical_house_relation_effect = { # Yoshimune killed by Tsunetomo
	# 			OTHER_HOUSE = dynasty:japanese_nagasa.dynasty_founder.house
	# 			LEVEL = rivalry
	# 		}
	# 	}
	# 	house:house_taira_chichibu = {
	# 		tgp_set_historical_house_relation_effect = { # Shigetaka killed by Yoshihira
	# 			OTHER_HOUSE = house:house_minamoto_kawachi
	# 			LEVEL = rivalry
	# 		}
	# 	}
	# 	house:house_taira_soga = {
	# 		tgp_set_historical_house_relation_effect = { # Soga brothers
	# 			OTHER_HOUSE = house:house_minamoto_kawachi
	# 			LEVEL = rivalry
	# 		}
	# 	}
	# 	dynasty:japanese_ito.dynasty_founder.house = {
	# 		tgp_set_historical_house_relation_effect = { # Tadanao killed by Tametomo
	# 			OTHER_HOUSE = house:house_minamoto_kawachi
	# 			LEVEL = rivalry
	# 		}
	# 	}
	# 	house:house_kudo_ito_2 = {
	# 		tgp_set_historical_house_relation_effect = { # Sukeyasu_2 killed by Suketsune_2
	# 			OTHER_HOUSE = house:house_kudo_kawazu
	# 			LEVEL = rivalry
	# 		}
	# 	}
	# 	house:house_fujiwara_shijo = {
	# 		tgp_set_historical_house_relation_effect = { # Takasue's brothers killed by Kiyomori
	# 			OTHER_HOUSE = dynasty:japanese_taira_kanmu.dynasty_founder.house
	# 			LEVEL = rivalry
	# 		}
	# 	}
	# 	dynasty:japanese_fujiwara.dynasty_founder.house = {
	# 		tgp_set_historical_house_relation_effect = { # Yorinaga killed by Shigesada
	# 			OTHER_HOUSE = house:house_minamoto_mitsumasa
	# 			LEVEL = rivalry
	# 		}
	# 	}
	# }
}

tgp_liege_change_bloc_management_effect = {
	$VASSAL$ = {
		if = { # Leave if not a valid member anymore
			limit = {
				OR = {
					exists = confederation.leading_house
					exists = house.house_confederation
				}
			}
			save_temporary_scope_as = vassal_temp
			house ?= { save_temporary_scope_as = vassal_house_temp }
			liege ?= { save_temporary_scope_as = new_liege }
			confederation ?= {
				save_temporary_scope_as = current_bloc_temp
				leading_house = { save_temporary_scope_as = current_bloc_leader_temp }
			}
			house.house_confederation ?= {
				save_temporary_scope_as = current_house_bloc_temp
				leading_house = { save_temporary_scope_as = current_house_bloc_leader_temp }
			}
			if = {
				limit = {
					exists = scope:current_bloc_temp
					exists =  scope:old_liege
					trigger_if = { # If a vassal
						limit = { is_independent_ruler = no }
						scope:new_liege.liege != scope:old_liege.liege
						scope:new_liege = {
							is_independent_ruler = no
						}
					}
					trigger_else = {
						NOT = { scope:vassal_temp = scope:old_liege.top_liege }
					}
				}
				scope:current_bloc_temp = {
					if = {
						limit = {
							scope:vassal_temp = {
								is_house_head = yes
								house.house_confederation = scope:current_bloc_temp
								scope:new_liege = {
									is_independent_ruler = no
								}
							}
						}
						scope:vassal_house_temp = {
							tgp_leave_house_bloc_effect = {
								OPINION = flag:no
								TRUCE = flag:yes
							}
						}
					}
					else_if = {
						limit = { scope:vassal_temp.confederation = scope:current_bloc_temp }
						remove_confederation_member = scope:vassal_temp
					}
				}
				debug_log = "Bloc liege change member leave"
				debug_log_scopes = yes
			}
			if = { # Join if not a member of valid
				limit = {
					is_house_head = no
					exists = scope:current_house_bloc_temp
					scope:vassal_house_temp.house_head.liege ?= liege
					NOT = { confederation = scope:vassal_house_temp.house_confederation }
				}
				confederation ?= {
					save_temporary_scope_as = current_bloc_temp
					remove_confederation_member = scope:vassal_temp
				}
				house.house_confederation = {
					save_temporary_scope_as = house_bloc_temp
					add_confederation_member = scope:vassal_temp
				}
				debug_log = "Bloc liege change member join"
				debug_log_scopes = yes
			}
		}
	}
}

tgp_japan_assert_regional_dominion_government_decision_effect = {
	save_scope_as = super_soryo
	scope:super_soryo.primary_title.duchy ?= { save_scope_as = title_scope }
	# Crime to Kampaku
	if = {
		limit = {
			top_liege = { government_allows = administrative }
		}
		# Message for attacker
		send_interface_toast = {
			type = event_war_bad
			title = tgp_japan_soryo_war_is_crime_title
			left_icon = top_liege
			right_icon = scope:title_scope
			top_liege = {
				send_interface_toast = {
					type = event_war_bad
					title = tgp_japan_soryo_war_is_crime_kampaku_title
					left_icon = scope:super_soryo
					right_icon = scope:title_scope
					add_opinion = {
						target = scope:super_soryo
						modifier = admin_soryo_conquest_crime
					}
				}
			}
		}
	}
	if = {
		limit = { exists = scope:title_scope.holder }
		hidden_effect = {
			scope:title_scope.holder = { save_scope_as = main_defender }
			scope:super_soryo = {
				if = {
					limit = {
						any_truce_target = { this = scope:main_defender }
					}
					cancel_truce_both_ways = scope:main_defender
				}
			}
			start_war = {
			#lets make sure this is appropriate for Japan
				cb = domination_cb
				target = scope:main_defender
				target_title = scope:title_scope
			}
			random_character_war = {
				limit = {
					using_cb = domination_cb
					primary_defender = scope:main_defender
				}
				save_scope_as = war
			}
		}
		tgp_bloc_members_join_war_effect = { WAR = scope:war }
		custom_tooltip = domination_war_holder_custom_tooltip
	}
	else_if = {
		limit = {
			scope:super_soryo = {
				NOR = {
					prestige_level >= 4
					legitimacy_level >= 3
				}
			}
			scope:title_scope ?= {
				any_de_jure_county_holder = {
					NOR = {
						top_liege = scope:super_soryo
						top_suzerain ?= scope:super_soryo
						is_allied_to = scope:super_soryo
						government_has_flag = government_is_herder
						trigger_if = {
							limit = {
								exists = scope:super_soryo.confederation
							}
							confederation ?= scope:super_soryo.confederation
						}	
					}
					#They wont join if you're too scary
					has_dread_level_towards = {
						target = scope:super_soryo
						level < 2
					}
					#Must be strong enough to feel like they can fight you
					current_military_strength >= {
						value = scope:super_soryo.current_military_strength
						multiply = 0.5
					}
				}
			}
		}
		hidden_effect = {
			scope:title_scope = {
				every_de_jure_county_holder = {
					limit = {
						NOT = { is_liege_or_above_of = scope:super_soryo }
					}
					if = {
						limit = {
							NOR = {
								top_suzerain ?= scope:super_soryo
								is_allied_to = scope:super_soryo
								government_has_flag = government_is_herder
								trigger_if = {
									limit = {
										exists = scope:super_soryo.confederation
									}
									confederation ?= scope:super_soryo.confederation
								}	
							}
							
							#They wont join if you're too scary
							has_dread_level_towards = {
								target = scope:super_soryo
								level < 2
							}
							#Must be strong enough to feel like they can fight you
							current_military_strength >= {
								value = scope:super_soryo.current_military_strength
								multiply = 0.5
							}
						}
						add_to_list = war_targets
					}
					else = {
						add_to_list = potential_vassals 
					}
					
				}
				ordered_in_list = {
					list = war_targets
					order_by = current_military_strength
					save_scope_as = main_defender
				}
			}
			scope:super_soryo = {
				if = {
					limit = {
						any_truce_target = { this = scope:main_defender }
					}
					cancel_truce_both_ways = scope:main_defender
				}
			}
			start_war = {
				cb = domination_cb
				target = scope:main_defender
				target_title = scope:title_scope
			}
			#find ai for war
			random_character_war = {
				limit = {
					primary_attacker = scope:super_soryo
					primary_defender = scope:main_defender
					using_cb = domination_cb
				}
				save_scope_as = super_soryo_war
				every_in_list = {
					list = war_targets
					limit = {
						NOT = { is_participant_in_war = scope:super_soryo_war }
						is_ai = yes
					}
					save_scope_as = super_soryo_war_target
					scope:super_soryo_war = {
						hidden_effect = {
							set_called_to = scope:super_soryo_war_target
						}
						add_defender = scope:super_soryo_war_target
					}
				}
			}
			#send players letter to join war or bend the knee
			every_in_list = {
				list = war_targets
				limit = {
					is_ai = no
				}
				#trigger_event = tgp_japan_decision.9963 #LotR
			}
		}
		if = {
			limit = { exists = scope:war }
			tgp_bloc_members_join_war_effect = { WAR = scope:war }
		}
		save_scope_value_as = {
			name = super_soryo_war_current_enemy_strength
			value = {
				value = 0
				every_in_list = {
					list = war_targets 
					add = {
						value = current_military_strength
						every_tributary = {
							limit = {
								vassal_contract_has_flag = tributary_contract_tributary_forced_war_override
							}
							add = current_military_strength
						}
						if = {
							limit = { this = scope:main_defender }
							every_ally = { add = current_military_strength }
							if = {
								limit = { exists = house.house_confederation }
								top_liege = {
									every_vassal = {
										limit = {
											highest_held_title_tier > tier_barony
											house.house_confederation = scope:main_defender.house.house_confederation
											NOT = { is_allied_to = scope:main_defender }
										}
										add = current_military_strength
									}
								}
							}
						}	
					}
				}
			}
		}
		custom_tooltip = super_soryo_war_no_holder_custom_tooltip
		custom_tooltip = super_soryo_potential_peaceful
	}
	else = {
		scope:title_scope = { tgp_japan_assert_regional_dominance_war_outcome_effect = yes }
		add_dread = 15
		add_legitimacy = 50
		dynasty = { add_dynasty_prestige = 150 }
		custom_tooltip = super_soryo_reward_peaceful
	}
}

tgp_japan_assert_regional_dominance_war_outcome_effect = {
	create_title_and_vassal_change = {
		type = created
		save_scope_as = change
	}
	change_title_holder = {
		holder = root
		change = scope:change
	}
	every_de_jure_county = {
		limit = {
			holder.top_liege = root.top_liege # in same realm
			holder.liege = root.top_liege # is not already a sub-vassal
			NOR = {
				holder = root # held my me
				holder.liege = root # or my vassal
				holder = { is_liege_or_above_of = root } # or my liege
				this = holder.top_liege.capital_county # stop transfer of capital
			}
		}
		if = {
			limit = {
				holder = {
					NOT = { government_allows = administrative }
					highest_held_title_tier <= tier_county
				}
			}
			holder = {
				change_liege = {
					liege = root
					change = scope:change
				}
			}
		}
		else_if = {
			limit = {
				holder = {
					OR = {
						government_allows = administrative
						this = root.top_liege
					}
				}
			}
			change_title_holder = {
				holder = root
				change = scope:change
			}
		}
	}
	resolve_title_and_vassal_change = scope:change
}

tgp_set_minamoto_taira_dynasty_prestige_effect = {
	holder.dynasty ?= {
		while = {
			limit = { dynasty_prestige_level < 5 }
			add_dynasty_prestige_level = 1
		}
	}
}

tgp_japan_soryo_eradicate_cb_transfer_effect = {

	create_title_and_vassal_change = {
		type = conquest
		save_scope_as = change
		add_claim_on_loss = yes
	}
	
	scope:loser = {
		every_held_title = {
			limit = {
				is_landless_type_title = no
				tier < tier_kingdom
				tier > tier_barony  
			}

			change_title_holder = {
				holder = scope:winner
				change = scope:change
			}
		}
	}	
	resolve_title_and_vassal_change = scope:change
}

japanese_establish_soryo_administration_reward_effect = {
	save_temporary_scope_as = winner_temp
	scope:winner_temp = {
		if = {
			limit = {
				NOT = { has_government = japan_feudal_government }
			}
			change_government = japan_feudal_government
		}
		if = {
			limit = {
				NOT = { has_realm_law = japanese_bureaucracy_0 }
			}
			add_realm_law = japanese_bureaucracy_0
		}
		house.house_confederation ?= {
			custom_tooltip = {
				text = japanese_establish_soryo_administration_vassal_government_tt
				every_confederation_member = {
					limit = { has_government = japan_administrative_government }
					change_government = japan_feudal_government
				}
			}
		}
		custom_tooltip = japanese_establish_soryo_administration_imprison_tt
	}
}

tgp_learn_chinese_effect_game_start = {
	# if = { #LotR
	# 	limit = {
	# 		should_learn_chinese_trigger = yes
	# 	}
	# 	learn_language = language_chinese
	# }
}
tgp_learn_chinese_effect_birthday = {
	# if = { #LotR
	# 	limit = {
	# 		should_learn_chinese_trigger = yes
	# 	}
	# 	learn_language = language_chinese
	# 	every_player = {
	# 		limit = {
	# 			OR = {
	# 				is_parent_of = scope:child_learned_chinese
	# 				this = scope:child_learned_chinese
	# 				has_relation_guardian = scope:child_learned_chinese
	# 				has_relation_elder = scope:child_learned_chinese
	# 			}
	# 		}
	# 		send_interface_toast = {
	# 			type = event_childhood_good_with_text
	# 			title = japanese_korean_child_learned_chinese_title
	# 			desc = japanese_korean_child_learned_chinese_effect
	# 			left_icon = scope:child_learned_chinese
	# 			show_as_tooltip = {
	# 				scope:child_learned_chinese = {
	# 					learn_language = language_chinese
	# 				}
	# 			}
	# 		}
	# 	}
	# }
}

create_love_artifact_poetry_effect = {
	$OWNER$ = { save_scope_as = owner }

	hidden_effect_new_object = {
		get_artifact_quality_effect = yes
		get_artifact_wealth_effect = yes

		scope:owner = {
			create_artifact = {
				name = love_artifact_poetry_name
				creator = scope:owner
				description = love_artifact_poetry_description
				visuals = scroll
				type = miscellaneous
				modifier = artifact_monthly_minor_prestige_1_modifier
				modifier = artifact_attraction_opinion_1_modifier
				save_scope_as = newly_created_artifact
				wealth = scope:wealth
				quality = scope:quality
			}
		}

		scope:newly_created_artifact = {
			add_scaled_artifact_modifier_minor_prestige_effect = yes
			add_scaled_artifact_modifier_majesty_effect = yes
		}
	}
}

tgp_bloc_members_join_faction_effect = {
	if = { # Japanese blocs
		limit = { scope:faction.faction_leader.house.house_confederation.leading_house ?= scope:faction.faction_leader.house }
		scope:faction.faction_leader.house.house_confederation ?= {
			every_confederation_member = {
				limit = { can_join_faction = scope:faction }
				join_faction = scope:faction
			}
		}
	}
}

tgp_bloc_members_join_war_effect = {
	custom_tooltip = {
		text = tgp_bloc_members_join_war_effect_tt
		if = {
			limit = { house.house_confederation.leading_house.house_head = this }
			house.house_confederation ?= {
				every_confederation_member = {
					limit = {
						NOT = { is_participant_in_war = $WAR$ }
					}
					save_temporary_scope_as = war_participant_temp
					scope:war = { add_attacker = scope:war_participant_temp }
				}
			}
		}
	}
}

tgp_renounce_estate_effect = {
	if = {
		limit = { is_ai = no }
		random_held_title = {
			limit = { is_noble_family_title = yes }
			current_heir = { save_scope_as = new_player }
		}
	}
	add_character_modifier = { modifier = ep3_renounced_estate }
	custom_tooltip = {
		text = renounce_noble_family_title_decision_tt
		send_interface_toast = {
			type = event_toast_effect_neutral
			title = renounce_noble_family_title_decision_toast_title
			custom_tooltip = renounce_noble_family_title_decision_toast_desc
			left_icon = scope:new_player
			right_icon = root
		}
	}
	if = {
		limit = {
			NOT = { has_trait = devoted }
		}
		add_trait = devoted
	}
	if = {
		limit = { exists = scope:new_player }
		hidden_effect = {
			create_title_and_vassal_change = {
				type = granted
				save_scope_as = title_change
				add_claim_on_loss = no
			}
			every_held_title = {
				limit = { tier > tier_barony }
				change_title_holder_include_vassals = {
					holder = scope:new_player
					change = scope:title_change
				}
			}
			resolve_title_and_vassal_change = scope:title_change
		}
		house = {
			if = {
				limit = {
					NOT = { house_head = scope:new_player }
				}
				set_house_head = scope:new_player
			}
		}
		set_player_character = scope:new_player
		progress_towards_friend_effect = {
			REASON = friend_retired_from_governorship
			CHARACTER = scope:new_player
			OPINION = default_friend_opinion
		}
	}
	tgp_step_down_title_recipient_tooltip_effect = yes
	set_variable = {
		name = appointment_trait_override
		value = trait:intellect_good_3
	}
}

tgp_dynasty_house_name_setup_effect = {
	# Fujiwara
	dynasty:japanese_fujiwara.dynasty_founder.house ?= { set_house_name = "dynn_Fujiwara_Hok_ke" }
	dynasty:japanese_fujiwara_oshu.dynasty_founder.house ?= { set_house_name = "dynn_Fujiwara_O_shU_" }
	# Kiyohara
	dynasty:japanese_kiyohara_hirozumi.dynasty_founder.house ?= { set_house_name = "dynn_Kiyohara_Hirozumi" }
	# Minamoto
	dynasty:japanese_minamoto_daigo.dynasty_founder.house ?= { set_house_name = "dynn_Minamoto_Daigo" }
	dynasty:japanese_minamoto_kazan.dynasty_founder.house ?= { set_house_name = "dynn_Minamoto_Kazan" }
	dynasty:japanese_minamoto_koko.dynasty_founder.house ?= { set_house_name = "dynn_Minamoto_KO_kO_" }
	dynasty:japanese_minamoto_gosanjo.dynasty_founder.house ?= { set_house_name = "dynn_Minamoto_Go_SanjO_" }
	dynasty:japanese_minamoto_montoku.dynasty_founder.house ?= { set_house_name = "dynn_Minamoto_Montoku" }
	dynasty:japanese_minamoto_murakami.dynasty_founder.house ?= { set_house_name = "dynn_Minamoto_Murakami" }
	dynasty:japanese_minamoto_ninmyo.dynasty_founder.house ?= { set_house_name = "dynn_Minamoto_NinmyO_" }
	dynasty:japanese_minamoto_saga.dynasty_founder.house ?= { set_house_name = "dynn_Minamoto_Saga" }
	dynasty:japanese_minamoto_sanjo.dynasty_founder.house ?= { set_house_name = "dynn_Minamoto_SanjO_" }
	dynasty:japanese_minamoto_seiwa.dynasty_founder.house ?= { set_house_name = "dynn_Minamoto_Seiwa" }
	dynasty:japanese_minamoto_uda.dynasty_founder.house ?= { set_house_name = "dynn_Minamoto_Uda" }
	dynasty:japanese_minamoto_yozei.dynasty_founder.house ?= { set_house_name = "dynn_Minamoto_YO_zei" }
	# Taira
	dynasty:japanese_taira_kanmu.dynasty_founder.house ?= { set_house_name = "dynn_Taira_Kanmu" }
	dynasty:japanese_taira_koko.dynasty_founder.house ?= { set_house_name = "dynn_Taira_KO_kO_" }
	dynasty:japanese_taira_montoku.dynasty_founder.house ?= { set_house_name = "dynn_Taira_Montoku" }
	dynasty:japanese_taira_ninmyo.dynasty_founder.house ?= { set_house_name = "dynn_Taira_NinmyO_" }
}
