#Coronation End Effect
# root is the current attending character
# current scope is the host of the activity, also available as scope:activity.host

coronation_ceremony_hope_effect = {
	scope:activity = {
		if = {
			limit = {
				is_elf = yes
			}
			if = {
				limit = {
					scope:activity.var:activity_special_type_progression >= 75
				}
				if = {
					limit = {
						scope:activity = {
							has_activity_option = {
								category = special_type
								option = coronation_type_elf
							}
						}
					}
					add_elven_hope_effect = { VALUE = massive_elven_hope_value HOPE_EFFECT = effect_elven_hope_massive_coronation_magnificence }
				}
				else = {
					add_elven_hope_effect = { VALUE = medium_elven_hope_value HOPE_EFFECT = effect_elven_hope_medium_coronation_magnificence }
				}
			}
			else_if = {
				limit = {
					scope:activity.var:activity_special_type_progression >= 50
				}
				if = {
					limit = {
						scope:activity = {
							has_activity_option = {
								category = special_type
								option = coronation_type_elf
							}
						}
					}
					add_elven_hope_effect = { VALUE = major_elven_hope_value HOPE_EFFECT = effect_elven_hope_major_coronation_magnificence }
				}
				else = {
					add_elven_hope_effect = { VALUE = minor_elven_hope_value HOPE_EFFECT = effect_elven_hope_minor_coronation_magnificence }
				}
			}
			else_if = {
				limit = {
					scope:activity.var:activity_special_type_progression >= 25
				}
				if = {
					limit = {
						scope:activity = {
							has_activity_option = {
								category = special_type
								option = coronation_type_elf
							}
						}
					}
					add_elven_hope_effect = { VALUE = medium_elven_hope_value HOPE_EFFECT = effect_elven_hope_medium_coronation_magnificence }
				}
				else = {
					add_elven_hope_effect = { VALUE = minimal_elven_hope_value HOPE_EFFECT = effect_elven_hope_minimal_coronation_magnificence }
				}
			}
		}
	}
}
