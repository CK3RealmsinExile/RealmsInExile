# # Preventing characters without family or titles from being removed from history

lotr_apply_posthistory_effect = {
    ### ELVES

    if =  {
        limit = { # Ecthelion of Gondolin, Lord of the House of the Fountain
            exists = character:lineofecthelion
            character:lineofecthelion = { is_alive = no }
        }
        character:lineofecthelion = {
            make_unprunable = yes
        }
    }
    if =  {
        limit = { # Salgant of Gondolin, Lord of the House of the Harp
            exists = character:lineofsalgant
            character:lineofsalgant = { is_alive = no }
        }
        character:lineofsalgant = {
            make_unprunable = yes
        }
    }
    if =  {
        limit = { # Duilin of Gondolin, Lord of the House of the Swallow
            exists = character:lineofduilin
            character:lineofduilin = { is_alive = no }
        }
        character:lineofduilin = {
            make_unprunable = yes
        }
    }
    if =  {
        limit = { # Rauggoth 'Rog' of Gondolin, Lord of the House of the Hammer of Wrath
            exists = character:lineofrauggoth
            character:lineofrauggoth = { is_alive = no }
        }
        character:lineofrauggoth = {
            make_unprunable = yes
        }
    }
    if =  {
        limit = { # Egalmoth of Gondolin, Lord of the House of the Heavenly Arch
            exists = character:lineofegalmoth
            character:lineofegalmoth = { is_alive = no }
        }
        character:lineofegalmoth = {
            make_unprunable = yes
        }
    }
    if =  {
        limit = { # Mablung
            exists = character:lineofmablung
            character:lineofmablung = { is_alive = no }
        }
        character:lineofmablung = {
            make_unprunable = yes
        }
    }
    if =  {
        limit = { # Beleg Cúthalion
            exists = character:lineofbeleg
            character:lineofbeleg = { is_alive = no }
        }
        character:lineofbeleg = {
            make_unprunable = yes
        }
    }
    if =  {
        limit = { # Ithilbor
            exists = character:lineofithilbor1
            character:lineofithilbor1 = { is_alive = no }
        }
        character:lineofithilbor1 = {
            make_unprunable = yes
        }
    }
    if =  {
        limit = { # Saeros
            exists = character:lineofithilbor2
            character:lineofithilbor2 = { is_alive = no }
        }
        character:lineofithilbor2 = {
            make_unprunable = yes
        }
    }

    ### DWARVES

    if =  {
        limit = { # Narvi of Moria
            exists = character:lineofnarvi
            character:lineofnarvi = { is_alive = no }
        }
        character:lineofnarvi = {
            make_unprunable = yes
        }
    }
    if =  {
        limit = { # Telchar of Nogrod
            exists = character:lineoftelchar1
            character:lineoftelchar1 = { is_alive = no }
        }
        character:lineoftelchar1 = {
            make_unprunable = yes
        }
    }
    if =  {
        limit = { # Gamil Zirak
            exists = character:lineofgamilzirak
            character:lineofgamilzirak = { is_alive = no }
        }
        character:lineofgamilzirak = {
            make_unprunable = yes
        }
    }
    if =  {
        limit = { # Zabad the Jewelwright
            exists = character:lineofzabad
            character:lineofzabad = { is_alive = no }
        }
        character:lineofzabad = {
            make_unprunable = yes
        }
    }
    if =  {
        limit = { # Nár, friend of Thrór
            exists = character:lineofnar1
            character:lineofnar1 = { is_alive = no }
        }
        character:lineofnar1 = {
            make_unprunable = yes
        }
    }
    if =  {
        limit = { # Hevdrok, the Hero
            exists = character:lineofhevdrok
            character:lineofhevdrok = { is_alive = no }
        }
        character:lineofhevdrok = {
            make_unprunable = yes
        }
    }
    if =  {
        limit = { # Bhôfor, the Bridgemaster
            exists = character:lineofbhofor
            character:lineofbhofor = { is_alive = no }
        }
        character:lineofbhofor = {
            make_unprunable = yes
        }
    }
    if =  {
        limit = { # Roa, the Raven Keeper
            exists = character:lineofroa
            character:lineofroa = { is_alive = no }
        }
        character:lineofroa = {
            make_unprunable = yes
        }
    }
    if =  {
        limit = { # Regin, the Ram Rider
            exists = character:lineofregin
            character:lineofregin = { is_alive = no }
        }
        character:lineofregin = {
            make_unprunable = yes
        }
    }
    if =  {
        limit = { # Tahm, the traveling Ironfist craftsman
            exists = character:lineoftahm
            character:lineoftahm = { is_alive = no }
        }
        character:lineoftahm = {
            make_unprunable = yes
        }
    }
}