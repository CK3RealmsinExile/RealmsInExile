
### LOTR ###

pay_short_term_gold_raze_effect = { # WORKS
	pay_short_term_gold = {
		gold = $GOLD_VALUE$
		target = scope:attacker
		yearly_income = yes
	}
}

decrease_building_or_development = {
	if = { ### Checks whether county should be made wilderness
		limit = {
			any_in_list = {
				list = $LIST$ 
				tier = tier_county
				OR = {
					county.development_level = 0
					county = { title_province = { has_building = dwarven_depths_01 } }
				}	
			}
		}
		every_in_list = { 
			list = $LIST$ 
			limit = {
				OR = {
					county.development_level = 0
					county = { title_province = { has_building = dwarven_depths_01 } }
				}
			}
			change_development_level = county.development_level.neg
			make_settlement_county_wilderness = { COUNTY = county }
		}
	}
	else_if = { ### Decrease development + buildings | Dwarves
		limit = { is_dwarf = yes }
		every_in_list = { 
			list = $LIST$ 
			county = {
				title_province = { remove_building_tier_ten_effect = { BUILDING = dwarven_ale_house } } 
				title_province = { remove_building_tier_ten_effect = { BUILDING = dwarven_fungal_farm } } 
				title_province = { remove_building_tier_ten_effect = { BUILDING = dwarven_terrace_farm } } 
				title_province = { remove_building_tier_ten_effect = { BUILDING = iron_mines } }
				title_province = { remove_building_tier_ten_effect = { BUILDING = tin_mines } }
				title_province = { remove_building_tier_ten_effect = { BUILDING = copper_mines } }
				title_province = { remove_building_tier_ten_effect = { BUILDING = lead_mines } }
				title_province = { remove_building_tier_ten_effect = { BUILDING = silver_mines } }
				title_province = { remove_building_tier_ten_effect = { BUILDING = gold_mines } }
				title_province = { remove_building_tier_ten_effect = { BUILDING = mithril_mines } }
				title_province = { remove_building_tier_ten_effect = { BUILDING = quartz_mines } }
				title_province = { remove_building_tier_ten_effect = { BUILDING = peridot_mines } }
				title_province = { remove_building_tier_ten_effect = { BUILDING = onyx_mines } }
				title_province = { remove_building_tier_ten_effect = { BUILDING = amethyst_mines } }
				title_province = { remove_building_tier_ten_effect = { BUILDING = ruby_mines } }
				title_province = { remove_building_tier_ten_effect = { BUILDING = sapphire_mines } }
				title_province = { remove_building_tier_ten_effect = { BUILDING = emerald_mines } }
				title_province = { remove_building_tier_ten_effect = { BUILDING = diamond_mines } }
				title_province = { remove_building_tier_ten_effect = { BUILDING = dwarven_quarry } } 
				title_province = { remove_building_tier_ten_effect = { BUILDING = dwarven_crafts } } 
				title_province = { remove_building_tier_ten_effect = { BUILDING = dwarven_toolmaker_guild } } 
				title_province = { remove_building_tier_ten_effect = { BUILDING = dwarven_vaults } } 
				title_province = { remove_building_tier_ten_effect = { BUILDING = dwarven_roads } } 
				title_province = { remove_building_tier_ten_effect = { BUILDING = dwarven_armory } } 
				title_province = { remove_building_tier_ten_effect = { BUILDING = dwarven_skirmisher_barracks } } 
				### Buildings with only 5 tiers
				title_province = { remove_building_tier_five_effect = { BUILDING = dwarven_siege_workshop } } 
				title_province = { remove_building_tier_five_effect = { BUILDING = dwarven_hoard } } 
				### Duchy Buildings
				title_province = { destroy_or_downgrade_duchy_effect_lotr = { BUILDING = military_specialization } } 
				title_province = { destroy_or_downgrade_duchy_effect_lotr = { BUILDING = economic_specialization } } 
				title_province = { destroy_or_downgrade_duchy_effect_lotr = { BUILDING = glory_specialization } } 
				### Holding
				title_province = { downgrade_tier_ten_holding = { HOLDING = dwarven_depths } }
			}
		}
	}
	else = { ### Decrease development + buildings | Goblins
		if = {
			limit = { is_orc = yes }
			every_in_list = { 
				list = $LIST$ 
			
				county = {
					### In-case underground county has dwarven buildings, due to being conquered earlier
					title_province = { remove_building_tier_ten_effect = { BUILDING = dwarven_ale_house } } 
					title_province = { remove_building_tier_ten_effect = { BUILDING = dwarven_fungal_farm } } 
					title_province = { remove_building_tier_ten_effect = { BUILDING = dwarven_terrace_farm } } 
					title_province = { remove_building_tier_ten_effect = { BUILDING = iron_mines } }
					title_province = { remove_building_tier_ten_effect = { BUILDING = tin_mines } }
					title_province = { remove_building_tier_ten_effect = { BUILDING = copper_mines } }
					title_province = { remove_building_tier_ten_effect = { BUILDING = lead_mines } }
					title_province = { remove_building_tier_ten_effect = { BUILDING = silver_mines } }
					title_province = { remove_building_tier_ten_effect = { BUILDING = gold_mines } }
					title_province = { remove_building_tier_ten_effect = { BUILDING = mithril_mines } }
					title_province = { remove_building_tier_ten_effect = { BUILDING = quartz_mines } }
					title_province = { remove_building_tier_ten_effect = { BUILDING = peridot_mines } }
					title_province = { remove_building_tier_ten_effect = { BUILDING = onyx_mines } }
					title_province = { remove_building_tier_ten_effect = { BUILDING = amethyst_mines } }
					title_province = { remove_building_tier_ten_effect = { BUILDING = ruby_mines } }
					title_province = { remove_building_tier_ten_effect = { BUILDING = sapphire_mines } }
					title_province = { remove_building_tier_ten_effect = { BUILDING = emerald_mines } }
					title_province = { remove_building_tier_ten_effect = { BUILDING = diamond_mines } }
					title_province = { remove_building_tier_ten_effect = { BUILDING = dwarven_quarry } } 
					title_province = { remove_building_tier_ten_effect = { BUILDING = dwarven_crafts } } 
					title_province = { remove_building_tier_ten_effect = { BUILDING = dwarven_toolmaker_guild } } 
					title_province = { remove_building_tier_ten_effect = { BUILDING = dwarven_vaults } } 
					title_province = { remove_building_tier_ten_effect = { BUILDING = dwarven_roads } } 
					title_province = { remove_building_tier_ten_effect = { BUILDING = dwarven_armory } } 
					title_province = { remove_building_tier_ten_effect = { BUILDING = dwarven_skirmisher_barracks } } 
					### Buildings with only 5 tiers
					title_province = { remove_building_tier_five_effect = { BUILDING = dwarven_siege_workshop } } 
					title_province = { remove_building_tier_five_effect = { BUILDING = dwarven_hoard } } 

					### Duchy Buildings
					title_province = { destroy_or_downgrade_duchy_effect_lotr = { BUILDING = military_specialization } } 
					title_province = { destroy_or_downgrade_duchy_effect_lotr = { BUILDING = economic_specialization } } 
					title_province = { destroy_or_downgrade_duchy_effect_lotr = { BUILDING = glory_specialization } }

					### Orc Buildings
					title_province = { remove_building_any_level = { BUILDING = raiding_camps } } 
					title_province = { remove_building_any_level = { BUILDING = uruk_pits } } 
					title_province = { remove_building_any_level = { BUILDING = furnaces } } 
					title_province = { remove_building_any_level = { BUILDING = scouting_posts } } 
					title_province = { remove_building_any_level = { BUILDING = warg_pits } } 
					title_province = { remove_building_any_level = { BUILDING = orc_siege_works } } 
					
					### Orc Duchy Buildings
					title_province = { destroy_or_downgrade_duchy_effect_lotr = { BUILDING = liquor_stills } } 
					title_province = { destroy_or_downgrade_duchy_effect_lotr = { BUILDING = orc_barracks } } 
					title_province = { destroy_or_downgrade_duchy_effect_lotr = { BUILDING = loot_houses } }
					title_province = { destroy_or_downgrade_duchy_effect_lotr = { BUILDING = proving_ground } }
					title_province = { destroy_or_downgrade_duchy_effect_lotr = { BUILDING = tunnel_network } }
					title_province = { destroy_or_downgrade_duchy_effect_lotr = { BUILDING = slaughterhouses } }
					title_province = { destroy_or_downgrade_duchy_effect_lotr = { BUILDING = experimental_workshop } }
					title_province = { destroy_or_downgrade_duchy_effect_lotr = { BUILDING = heavy_armoury } }
					title_province = { destroy_or_downgrade_duchy_effect_lotr = { BUILDING = snaga_warrens } }
					### Holding
					title_province = { downgrade_tier_ten_holding = { HOLDING = dwarven_depths } }
				}
			}
		}
	}
}

decrease_county_development = {
	if = {
		limit = { $COUNTY$ = { development_level > 25 } }
		$COUNTY$ = { change_development_level = -5 }
	}
	else_if = { 
		limit = { $COUNTY$ = { development_level > 20 } }
		$COUNTY$ = { change_development_level = -4 }
	}
	else_if = { 
		limit = { $COUNTY$ = { development_level > 15 } }
		$COUNTY$ = { change_development_level = -3 }
	}
	else_if = { 
		limit = { $COUNTY$ = { development_level > 10 } }
		$COUNTY$ = { change_development_level = -2 }
	}
	else = {
		$COUNTY$ = { change_development_level = -1 }
	}
}