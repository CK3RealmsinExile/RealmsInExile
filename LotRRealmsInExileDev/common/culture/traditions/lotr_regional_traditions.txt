###############################
##### Dunedain Traditions #####
###############################
tradition_tales_of_great_deeds = {
	# Replaces Martial Admiration
	category = regional

	layers = {
		0 = martial
		1 = indian
		4 = knight.dds
	}
	
	is_shown = {
		has_cultural_pillar = heritage_dunedain
		NOT = { #Replaces Martial Admiration
			has_cultural_tradition = tradition_martial_admiration
		}
	}
	can_pick = {
		has_cultural_pillar = heritage_dunedain
		NOT = { #Replaces Martial Admiration
			has_cultural_tradition = tradition_martial_admiration
		}
		trigger_if = { #LotR
            limit = {
                scope:replacing ?= culture_tradition:tradition_variag_succession
            }
            custom_tooltip = {
                text = cannot_replace_variag_succession
                NOT = { has_cultural_tradition = tradition_variag_succession } #To prevent stacking after hybridization
            }
        }
	}

	parameters = {
		poet_trait_gives_bonuses = yes
		poet_trait_more_common = yes
		martial_education_more_valued = yes
		prowess_traits_more_valued = yes
		blademaster_trait_bonuses = yes
		craven_and_content_traits_looked_down_upon = yes
		can_duel_rivals = yes
	}
	character_modifier = {
		knight_limit = 2
		negate_prowess_penalty_add = 5 # Wounded knights fight better!
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_courtly_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_knight = {
								count >= 6
								prowess >= 12
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = knights_with_prowess_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = { value = 100 }
}

### Gondorian Traditions ###
tradition_gondorian_legacy = {
	category = regional

	layers = {
		0 = martial
		1 = western
		4 = ship.dds
	}
	
	is_shown = {
		OR = {
			has_cultural_pillar = heritage_dunedain
		}
	}
	
	can_pick = {
		custom_tooltip = {
			text = culture_in_gondor_desc
			any_culture_county = {
				percent >= 0.4
				any_county_province = {
					geographical_region = middleearth_west_gondor
				}
			}
		}
		
		custom_tooltip = {
			text = cannot_have_tradition_fp1_coastal_warriors
			NOT = { culture_tradition:tradition_fp1_coastal_warriors = { is_in_list = traits } }
		}

		trigger_if = { #LotR
            limit = {
                scope:replacing ?= culture_tradition:tradition_variag_succession
            }
            custom_tooltip = {
                text = cannot_replace_variag_succession
                NOT = { has_cultural_tradition = tradition_variag_succession } #To prevent stacking after hybridization
            }
        }
	}
	
	parameters = {
		trade_ports_give_control_growth = yes
		can_travel_along_rivers = yes
		coastal_agriculture_building_bonuses = yes
		coastal_holding_bonuses = yes
	}
	
	character_modifier = {
		army_toughness_mult = 0.05
		army_screen_mult = 0.05
		men_at_arms_recruitment_cost = 0.1
		men_at_arms_maintenance = -0.05
		sea_travel_danger = medium_sea_danger_reduction
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_bureaucratic_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.7
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = high_coastal_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = { # Make stacking a bit less common
			limit = {
				OR = {
					culture_tradition:tradition_maritime_mercantilism = { is_in_list = traits }
					culture_tradition:tradition_fishermen = { is_in_list = traits }
				}
			}
			multiply = 0.75
		}
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.3
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
			}
			multiply = 0
		}
		if = {
			limit = {
				scope:character = {
					any_sub_realm_county = {
						percent >= 0.7
						any_county_province = {
							is_coastal = yes
						}
					}
				}
			}
			multiply = 2
		}
	}
}

tradition_belfalathrim_chivalry = { # Belfalas and Dol Amroth
	category = regional

	layers = {
		0 = diplo
		1 = western
		4 = knight.dds
	}
	
	is_shown = {
		OR = {
			has_cultural_pillar = heritage_dunedain
		}
	}
	
	can_pick = {
		custom_tooltip = {
			text = culture_in_central_fiefs_desc
			any_culture_county = {
				percent >= 0.4
				any_county_province = {
					geographical_region = middleearth_west_gondor_centralfiefdoms
				}
			}
		}

		trigger_if = { #LotR
            limit = {
                scope:replacing ?= culture_tradition:tradition_variag_succession
            }
            custom_tooltip = {
                text = cannot_replace_variag_succession
                NOT = { has_cultural_tradition = tradition_variag_succession } #To prevent stacking after hybridization
            }
        }
	}
	
	parameters = {
		unlock_maa_belfalathric_bowmen = yes
		unlock_maa_swan_knights = yes
		unlock_maa_wardens_tirith_aear = yes
		can_use_sparring_duel = yes
		romance_scheme_bonuses = yes
		romance_scheme_penalty = yes
		ai_romance_scheme_increase = yes
		poet_trait_romance_bonuses = yes
	}
	
	character_modifier = {
		heavy_cavalry_damage_mult = 0.1
		heavy_cavalry_toughness_mult = 0.1
		tyranny_gain_mult = 0.5
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_egalitarian_or_courtly_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_knight = {
								count >= 6
								prowess >= 12
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = knights_with_prowess_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
	}
}

tradition_harondorim_resilience = {
	category = regional

	layers = {
		0 = intrigue
		1 = western
		4 = mountain.dds
	}

	is_shown = {
		NOR = {
			has_cultural_tradition = tradition_highland_warriors
			has_cultural_tradition = tradition_warriors_of_the_dry
		}
		has_cultural_pillar = heritage_dunedain
	}
	can_pick = {
		culture_not_pacifistic_trigger = yes
		custom_description = {
			text = culture_in_desert_desc
			any_culture_county = {
				any_county_province = {
					terrain = desert
				}
			}
		}
		custom_tooltip = {
			text = culture_in_harondor_desc
			any_culture_county = {
				percent >= 0.4
				any_county_province = {
					geographical_region = middleearth_haradwaith_near_harondor
				}
			}
		}
		trigger_if = { #LotR
            limit = {
                scope:replacing ?= culture_tradition:tradition_variag_succession
            }
            custom_tooltip = {
                text = cannot_replace_variag_succession
                NOT = { has_cultural_tradition = tradition_variag_succession } #To prevent stacking after hybridization
            }
        }
	}
	
	parameters = {
		unlock_maa_harondorim_rangers = yes
		unlock_maa_harondorim_palace_guards = yes
		desert_warrior_trait_more_common = yes
		dry_trait_bonuses = yes
		can_recruit_dry_specialist = yes
	}
	
	province_modifier = {
		desert_levy_size = 0.1
		desert_supply_limit_mult = 0.25
	}
	
	character_modifier = {
		supply_capacity_mult = 0.5
		drylands_travel_danger = drylands_medium_danger_reduction
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_communal_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								terrain = desert
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = hill_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.2
							culture = scope:character.culture
							any_county_province = {
								terrain = desert
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_gondor_clans = {
	category = regional

	layers = {
		0 = diplo
		1 = western
		4 = swords.dds
	}

	is_shown = {
		NOR = {
			has_cultural_tradition = tradition_highland_warriors
			#has_cultural_tradition = tradition_upland_skirmishing
		}
		has_cultural_pillar = heritage_dunedain
	}
	can_pick = {
		culture_not_pacifistic_trigger = yes
		custom_description = {
			text = culture_in_hills_desc
			any_culture_county = {
				any_county_province = {
					terrain = hills
				}
			}
		}
		custom_tooltip = {
			text = culture_in_middleearth_west_gondor_whitemountains_desc
			any_culture_county = {
				percent >= 0.4
				any_county_province = {
					geographical_region = middleearth_west_gondor_whitemountains
				}
			}
		}
		trigger_if = { #LotR
            limit = {
                scope:replacing ?= culture_tradition:tradition_variag_succession
            }
            custom_tooltip = {
                text = cannot_replace_variag_succession
                NOT = { has_cultural_tradition = tradition_variag_succession } #To prevent stacking after hybridization
            }
        }
	}
	
	parameters = {
		unlock_maa_gondorian_clansmen = yes
		unlock_maa_orodbedhric_bowmen = yes
		rough_terrain_expert_trait_more_common = yes
		mountain_trait_bonuses = yes
		can_recruit_mountain_specialist = yes
	}
	
	province_modifier = {
		mountains_levy_size = 0.1
		mountains_supply_limit_mult = 0.25
	}
	
	character_modifier = {
		skirmishers_max_size_add = 2
		knight_limit = -1
		hills_travel_danger = hills_medium_danger_reduction
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_bureaucratic_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								terrain = hills
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = hill_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.2
							culture = scope:character.culture
							any_county_province = {
								terrain = hills
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

### Arnorian Traditions ###
tradition_arnorian_legacy = {
	category = regional

	layers = {
		0 = martial
		1 = western
		4 = philosopher.dds
	}
	
	is_shown = {
		OR = {
			has_cultural_pillar = heritage_dunedain
		}
	}
	
	can_pick = {
		custom_tooltip = {
			text = culture_in_arnor_desc
			any_culture_county = {
				percent >= 0.4
				any_county_province = {
					geographical_region = middleearth_west_arnor
				}
			}
		}
		
		custom_tooltip = {
			text = cannot_have_tradition_fp1_coastal_warriors
			NOT = { culture_tradition:tradition_fp1_coastal_warriors = { is_in_list = traits } }
		}

		trigger_if = { #LotR
            limit = {
                scope:replacing ?= culture_tradition:tradition_variag_succession
            }
            custom_tooltip = {
                text = cannot_replace_variag_succession
                NOT = { has_cultural_tradition = tradition_variag_succession } #To prevent stacking after hybridization
            }
        }
	}
	
	parameters = {
		pensive_trait_more_common = yes

	}
	
	character_modifier = {
		army_toughness_mult = 0.1
		learning_per_piety_level = 1
		controlled_province_advantage = 10
		monthly_county_control_growth_add = 0.3
	}

	province_modifier = {
		build_gold_cost = 0.1
		tax_mult = 0.05
	}
	county_modifier = {
		development_growth_factor = -0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_bureaucratic_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.7
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = high_coastal_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = { # Make stacking a bit less common
			limit = {
				OR = {
					culture_tradition:tradition_maritime_mercantilism = { is_in_list = traits }
					culture_tradition:tradition_fishermen = { is_in_list = traits }
				}
			}
			multiply = 0.75
		}
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.3
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
			}
			multiply = 0
		}
		if = {
			limit = {
				scope:character = {
					any_sub_realm_county = {
						percent >= 0.7
						any_county_province = {
							is_coastal = yes
						}
					}
				}
			}
			multiply = 2
		}
	}
}

tradition_arnorian_law = {
	category = regional

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = crown.dds
	}
	
	is_shown = {
		any_parent_culture_or_above = {
			OR = {
				this = culture:arnorian
				this = culture:saralain
			}
		}
	}
	can_pick = {
		any_parent_culture_or_above = {
			OR = {
				this = culture:arnorian
				this = culture:saralain
			}
		}
		scope:character = {
			faith_is_good = yes
		}
	}

	parameters = {
		can_enact_high_partition_succession_law = yes
		cheaper_to_change_laws = yes
		just_trait_more_common = yes
		just_trait_gives_bonuses = yes
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						any_in_list = { list = traits this = flag:ethos_egalitarian }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_egalitarian_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NAND = {
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier >= tier_county
								is_male = yes
							}
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier >= tier_county
								is_female = yes
							}
						}
					}
					trigger_else = {
						always = yes
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = three_gender_rulers_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = { value = 100 }
}

###############################
##### Northmen Traditions #####
###############################

### Rohirrim ###
tradition_riders_of_the_mark = {
	category = regional

	layers = {
		0 = martial
		1 = western
		4 = rider.dds
	}

	is_shown = {
		has_cultural_pillar = heritage_hadorim
		NOT = { has_cultural_tradition = tradition_a_people_reunited }
	}

	can_pick = {
		trigger_if = { #LotR
            limit = {
                scope:replacing ?= culture_tradition:tradition_variag_succession
            }
            custom_tooltip = {
                text = cannot_replace_variag_succession
                NOT = { has_cultural_tradition = tradition_variag_succession } #To prevent stacking after hybridization
            }
        }
	}
		
	parameters = {
		unlock_maa_eotheod_horse_axemen = yes
		unlock_maa_eotheod_horse_archers = yes
		unlock_maa_eotheod_light_horsemen = yes
		can_recruit_open_specialist = yes
	}

	character_modifier = {
		light_cavalry_damage_mult = 0.1
		light_cavalry_toughness_mult = 0.1
		heavy_cavalry_damage_mult = 0.1
		heavy_cavalry_toughness_mult = 0.1
		light_cavalry_max_size_add = 2
		heavy_cavalry_max_size_add = 2
		movement_speed = 0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_communal_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
	}
}

tradition_a_people_reunited = { # Upgraded version of Riders of the Mark
	category = regional

	layers = {
		0 = martial
		1 = western
		4 = rider.dds
	}

	is_shown = {
		always = no # Unlocked by Decision to Unite the Hadorim
	}

	can_pick = {
		trigger_if = { #LotR
            limit = {
                scope:replacing ?= culture_tradition:tradition_variag_succession
            }
            custom_tooltip = {
                text = cannot_replace_variag_succession
                NOT = { has_cultural_tradition = tradition_variag_succession } #To prevent stacking after hybridization
            }
        }
	}
		
	parameters = {
		unlock_maa_eotheod_horse_axemen = yes
		unlock_maa_eotheod_horse_archers = yes
		unlock_maa_eotheod_light_horsemen = yes
		unlock_maa_eotheod_vanguard = yes
		can_recruit_open_specialist = yes
	}

	character_modifier = {
		knight_limit = 2
		light_cavalry_damage_mult = 0.2
		light_cavalry_toughness_mult = 0.2
		heavy_cavalry_damage_mult = 0.2
		heavy_cavalry_toughness_mult = 0.2
		light_cavalry_max_size_add = 4
		heavy_cavalry_max_size_add = 4
		movement_speed = 0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_communal_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
	}
}

### Rhovannorim ###
tradition_a_scattered_people = { # Innate Tradition for Rhovannorim at the WOTR start
	category = regional

	layers = {
		0 = martial
		1 = western
		4 = rider.dds
	}

	is_shown = {
		always = no # Only available on gamestart
	}

	can_pick = {
		always = no
	}
		
	parameters = {
		unlock_maa_rhovanion_freemen = yes
		can_recruit_open_specialist = yes
	}

	character_modifier = {
		army_maintenance_mult = -0.05
		defender_advantage = 5
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_communal_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 100
	}
}

tradition_a_people_reforged = { # Reward for refounding the kingdom of Rhovanion
	category = regional

	layers = {
		0 = martial
		1 = western
		4 = rider.dds
	}

	is_shown = {
		always = no # Unlocked by Decision to Refound the Kingdom of Rhovanion
	}

	can_pick = {
		always = no # Unlocked by Decision to Refound the Kingdom of Rhovanion
	}
		
	parameters = {
		unlock_maa_rhovanion_freemen = yes
		unlock_maa_rhovanion_light_cavalry = yes
		can_recruit_open_specialist = yes
	}

	character_modifier = {
		army_maintenance_mult = -0.05
		defender_advantage = 5
		knight_limit = 1
		light_cavalry_damage_mult = 0.1
		light_cavalry_toughness_mult = 0.1
		light_cavalry_max_size_add = 2
		movement_speed = 0.1
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_communal_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 100
	}
}

tradition_the_people_of_the_plains = { # Upgraded version of Riders of the Mark
	category = regional

	layers = {
		0 = martial
		1 = western
		4 = rider.dds
	}

	is_shown = {
		always = no # Unlocked by Decision to Unite the Hadorim
	}

	can_pick = {
		always = no
	}

	parameters = {
		unlock_maa_rhovanion_freemen = yes
		unlock_maa_rhovanion_light_cavalry = yes
		unlock_maa_rhovanion_heavy_cavalry = yes
		can_recruit_open_specialist = yes
	}

	character_modifier = {
		army_maintenance_mult = -0.05
		defender_advantage = 10
		knight_limit = 2
		light_cavalry_damage_mult = 0.1
		light_cavalry_toughness_mult = 0.1
		light_cavalry_max_size_add = 2
		heavy_cavalry_damage_mult = 0.1
		heavy_cavalry_toughness_mult = 0.1
		heavy_cavalry_max_size_add = 2
		movement_speed = 0.1
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_communal_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 100
	}
}

### Valemen ###
tradition_defended_enclosures = {
	category = regional

	layers = {
		0 = martial
		1 = western
		4 = battle.dds
	}

	is_shown = {
		has_cultural_pillar = heritage_northron
		NOT = { has_cultural_tradition = tradition_a_people_reunited }
	}

	can_pick = {
		trigger_if = { #LotR
            limit = {
                scope:replacing ?= culture_tradition:tradition_variag_succession
            }
            custom_tooltip = {
                text = cannot_replace_variag_succession
                NOT = { has_cultural_tradition = tradition_variag_succession } #To prevent stacking after hybridization
            }
        }
	}

	parameters = {
		unlock_maa_vale_nenedain_pikemen = yes
		hunting_archery_building_bonuses = yes
	}
	
	character_modifier = {
		defender_advantage = 5
		pikemen_toughness_mult = 0.1
		pikemen_maintenance_mult = -0.1
	}
	
	province_modifier = {
		garrison_size = 0.15
	}
	
	ai_will_do = {
		value = 100
	}
}

### Dale Traditions ###
tradition_dale_bow_culture = {
	category = regional
	
	layers = {
		0 = martial
		1 = western
		4 = bow.dds
	}
	
	is_shown = {
		has_cultural_pillar = heritage_northron
	}

	can_pick = {
		culture_not_pacifistic_trigger = yes
		custom_tooltip = {
			text = culture_in_dalelands_desc
			any_culture_county = {
				percent >= 0.6
				any_county_province = {
					geographical_region = middleearth_west_rhovanion_dalelands 
				}
			}
		}
		trigger_if = { #LotR
            limit = {
                scope:replacing ?= culture_tradition:tradition_variag_succession
            }
            custom_tooltip = {
                text = cannot_replace_variag_succession
                NOT = { has_cultural_tradition = tradition_variag_succession } #To prevent stacking after hybridization
            }
        }
		NOT = { has_cultural_tradition = tradition_adaptive_skirmishing } #To prevent stacking
	}
	
	parameters = {
		unlock_maa_dale_bowmen = yes
		unlock_maa_dale_pikes = yes
		hunting_archery_building_bonuses = yes
	}
	county_modifier = {
		hills_levy_size = 0.1
	}
	province_modifier = {
		garrison_size = 0.25
	}
	character_modifier = {
		defender_advantage = 5
		pikemen_damage_mult = 0.05
		pikemen_toughness_mult = 0.1
		pikemen_maintenance_mult = -0.05
		archers_damage_mult = 0.1
		archers_toughness_mult = 0.05
		archers_maintenance_mult = -0.05
		enemy_terrain_advantage = -0.25
		heavy_cavalry_damage_mult = -0.1
		heavy_cavalry_toughness_mult = -0.05
		heavy_infantry_damage_mult = -0.1
		heavy_infantry_toughness_mult = -0.05
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							number_maa_soldiers_of_base_type = {
								type = archers
								value >= 800
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_head_archers_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
	}
}
### Dorwinion Traditions ###
tradition_warriors_of_fame_and_field = {
	category = regional
	
	layers = {
		0 = martial
		1 = western
		4 = farmland.dds
	}
	
	is_shown = {
		has_cultural_pillar = heritage_northron
	}
	can_pick = {
		culture_not_pacifistic_trigger = yes
		custom_tooltip = {
			text = culture_in_dalelands_desc
			any_culture_county = {
				percent >= 0.6
				any_county_province = {
					geographical_region = middleearth_rhun_dorwinion 
				}
			}
		}
		trigger_if = { #LotR
            limit = {
                scope:replacing ?= culture_tradition:tradition_variag_succession
            }
            custom_tooltip = {
                text = cannot_replace_variag_succession
                NOT = { has_cultural_tradition = tradition_variag_succession } #To prevent stacking after hybridization
            }
        }
	}
	
	parameters = {
		unlock_maa_vintner_court_knights = yes
		unlock_maa_thorn_guard = yes
		unlock_maa_vineyard_bowmen = yes
	}

	county_modifier = {
		farmlands_levy_size = 0.1
	}

	province_modifier = {
		hostile_raid_time = 0.1
	}

	character_modifier = {
		vassal_levy_contribution_mult = -0.1
		vassal_tax_contribution_mult = 0.1
		different_culture_opinion = 10
		vassal_limit = 5
		ai_war_chance = -0.5
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_spiritual_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 0
	}
}
tradition_dorwinion_vineyards = { # Based on RICE munya tradition
	category = regional

	layers = {
		0 = steward
		1 = mena
		4 = RICE_luxury_goods.dds
	}

	is_shown = {
		any_culture_county = {
			any_county_province = {
				geographical_region = world_africa
			}
		}
	}

	can_pick = {
		scope:character = {
			capital_province = {
				geographical_region = middleearth_rhun_dorwinion
			}
		}
	}
	
	parameters = {
		unlock_wine_tasting_activity = yes
		#unlock_wine_tasting_activity_cost = yes
		unlock_wine_tasting_activity_private_variety = yes
		unlock_wine_tasting_activity_group_variety = yes
	}

	# culture_modifier = {
	# 	cultural_acceptance_gain_mult = 0.05
	# }

	character_modifier = {
		stress_loss_per_prestige_level = 0.03		
	}	

	county_modifier = {
		development_growth_factor = 0.05
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bureaucratic_courtly_or_egalitarian_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 75
		# if = {
		# 	limit = {
		# 		OR = {
		# 			has_cultural_pillar = heritage_berber
		# 			has_cultural_pillar = heritage_arabic
		# 			has_cultural_pillar = heritage_iberian
		# 			has_cultural_pillar = heritage_israelite
		# 		}
		# 	}
		# 	multiply = 1.5
		# }
		# if = {
		# 	limit = {
		# 		scope:character = {
		# 			religion = religion:islam_religion
		# 		}
		# 	}
		# 	multiply = 1.5
		# }
	}
}

### Woodmen tradition ###
tradition_hidden_refuges = {
	category = regional
	
	layers = {
		0 = martial
		1 = western
		4 = hunter.dds
	}

	is_shown = {
		has_cultural_pillar = heritage_northron
		NOT = { has_cultural_tradition = tradition_a_people_reunited }
	}

	can_pick = {
		trigger_if = { #LotR
            limit = {
                scope:replacing ?= culture_tradition:tradition_variag_succession
            }
            custom_tooltip = {
                text = cannot_replace_variag_succession
                NOT = { has_cultural_tradition = tradition_variag_succession } #To prevent stacking after hybridization
            }
        }
	}

	parameters = {
		unlock_maa_woodmen_huntsmen = yes
		unlock_maa_woodmen_widulingas = yes
		logging_camps_building_bonuses = yes
		can_recruit_forest_specialist = yes
		forest_fighter_trait_more_common = yes
	}

	county_modifier = {
		forest_development_growth_factor = 0.15
		deep_forest_development_growth_factor = 0.15
	}
	character_modifier = {
		forest_travel_danger = forest_medium_danger_reduction
		deep_forest_travel_danger = deep_forest_medium_danger_reduction
		mallorn_forest_travel_danger = mallorn_forest_medium_danger_reduction
		taiga_travel_danger = taiga_medium_danger_reduction
	}
	province_modifier = {
		forest_construction_gold_cost = -0.15
		deep_forest_construction_gold_cost = -0.15
		forest_holding_construction_gold_cost = -0.15
		deep_forest_holding_construction_gold_cost = -0.15
		forest_levy_size = 0.1
		deep_forest_levy_size = 0.1
		forest_supply_limit_mult = 0.25
		deep_forest_supply_limit_mult = 0.25
	}
	
	ai_will_do = {
		value = 100
	}
}

### An-Balkumagan Tradition ###
tradition_prized_perfection = {
	category = regional

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = crown.dds
	}
	
	is_shown = {
		OR = {
			has_cultural_pillar = heritage_southern_adunaic
			scope:character = {
				has_title = title:e_thon_an_kharlokh
			}
		}
	}
	can_pick = {
		has_cultural_pillar = heritage_southern_adunaic
		scope:character = {
			has_title = title:e_thon_an_kharlokh
		}
		custom_tooltip = {
			text = cannot_have_tradition_court_eunuchs
			NOT = { culture_tradition:tradition_court_eunuchs = { is_in_list = traits } }
		}
		custom_tooltip = {
			text = cannot_have_tradition_merciful_blindings
			NOT = { culture_tradition:tradition_merciful_blindings = { is_in_list = traits } }
		}
		trigger_if = { #LotR
            limit = {
                scope:replacing ?= culture_tradition:tradition_variag_succession
            }
            custom_tooltip = {
                text = cannot_replace_variag_succession
                NOT = { has_cultural_tradition = tradition_variag_succession } #To prevent stacking after hybridization
            }
        }
	}
	
	parameters = {
		can_blind_prisoners = yes
		can_castrate_prisoners = yes
		eunuch_trait_bonuses = yes
		can_appoint_chief_eunuch = yes
		physical_disfigurement_blocks_inheritance = yes #Actually only blocks claimants and reduce score in elective. Also includes infertility for tooltip reasons.
	}
	character_modifier = {
		eligible_child_opinion = 20
		short_reign_duration_mult = 0.25
		hostile_scheme_phase_duration_add = -25
		ai_amenity_target_baseline = 0.75
		ai_amenity_spending = 1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_or_communal_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = { value = 100 }
}

### Haradrim Traditions ###
tradition_caravaneers = {
	category = regional

	layers = {
		0 = diplo
		1 = mena
		4 = camel.dds
	}
	
	is_shown = {
		OR = {
			has_cultural_pillar = heritage_northern_apysaic
			has_cultural_pillar = heritage_middle_apysaic
			has_cultural_pillar = heritage_southern_apysaic
		}
	}

	can_pick = {
		trigger_if = { #LotR
            limit = {
                scope:replacing ?= culture_tradition:tradition_variag_succession
            }
            custom_tooltip = {
                text = cannot_replace_variag_succession
                NOT = { has_cultural_tradition = tradition_variag_succession } #To prevent stacking after hybridization
            }
        }
	}
	
	parameters = {
		wanderers_gain_extra_economic_skills = yes
		more_likely_to_leave_court = yes
	}
	
	character_modifier = {
		diplomatic_range_mult = 0.2
		stewardship = 1
		tax_mult = 0.05
		desert_travel_danger = desert_medium_danger_reduction
		drylands_travel_danger = drylands_medium_danger_reduction
		desert_mountains_travel_danger = desert_mountains_medium_danger_reduction
		red_desert_travel_danger = red_desert_medium_danger_reduction
		dune_sea_travel_danger = dune_sea_medium_danger_reduction
		saltflats_travel_danger = saltflats_medium_danger_reduction
		volcanic_plains_travel_danger = volcanic_plains_low_danger_reduction
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_egalitarian_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = { value = 100 }
}

tradition_dune_sea_nomads = {
	category = regional

	layers = {
		0 = learning
		1 = mena
		4 = desert.dds
	}
	
	is_shown = {
		any_culture_county = {
			title_province = {
				geographical_region = custom_dune_sea
			}
		}
	}
	can_pick = {
		any_culture_county = {
			title_province = {
				geographical_region = custom_dune_sea
			}
		}
		trigger_if = { #LotR
            limit = {
                scope:replacing ?= culture_tradition:tradition_variag_succession
            }
            custom_tooltip = {
                text = cannot_replace_variag_succession
                NOT = { has_cultural_tradition = tradition_variag_succession } #To prevent stacking after hybridization
            }
        }
	}
	parameters = {
		unlock_voluntary_laampdom = yes
		more_likely_to_be_laamps = yes
	}
	character_modifier = {
		light_cavalry_maintenance_mult = -0.25
		light_cavalry_recruitment_cost_mult = -0.25
		oasis_development_growth_factor = 0.1
		movement_speed = 0.1
		desert_travel_danger = desert_medium_danger_reduction
		drylands_travel_danger = drylands_medium_danger_reduction
		desert_mountains_travel_danger = desert_mountains_medium_danger_reduction
		red_desert_travel_danger = red_desert_medium_danger_reduction
		dune_sea_travel_danger = dune_sea_medium_danger_reduction
		saltflats_travel_danger = saltflats_medium_danger_reduction
		volcanic_plains_travel_danger = volcanic_plains_low_danger_reduction
	}
	province_modifier = {
		oasis_construction_gold_cost = -0.25
		desert_construction_gold_cost = -0.15
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_stoic_or_spiritual_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = { value = 100 }
}


### Daen Traditions ###
tradition_greatswords = {
	category = regional
	
	layers = {
		0 = martial
		1 = western
		4 = swords.dds
	}

	is_shown = {
		OR = {
			has_cultural_pillar = heritage_daen_coentis
			has_cultural_pillar = heritage_daen_lintis
			has_cultural_pillar = heritage_danan_lin
		}
	}
	can_pick = {
		custom_description = {
			text = culture_not_egalitarian
			NOT = {
				culture_pillar:ethos_egalitarian = { is_in_list = traits }
			}
		}
		trigger_if = { #LotR
            limit = {
                scope:replacing ?= culture_tradition:tradition_variag_succession
            }
            custom_tooltip = {
                text = cannot_replace_variag_succession
                NOT = { has_cultural_tradition = tradition_variag_succession } #To prevent stacking after hybridization
            }
        }
	}
	
	parameters = {
		unlock_maa_clan_swordsmen = yes
		unlock_maa_clan_axemen = yes
		unlock_maa_dunlending_longbowmen = yes
		martial_education_more_valued = yes
		blademaster_trait_bonuses = yes
		craven_and_content_traits_looked_down_upon = yes
	}

	character_modifier = {
		prowess = 1
		knight_effectiveness_mult = 0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_stoic_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_knight = {
								count >= 6
								prowess >= 12
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = knights_with_prowess_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 100
	}
}

tradition_mountain_ruralism = {
	category = regional

	layers = {
		0 = martial
		1 = western
		4 = mountain.dds
	}
	
	is_shown = {
		OR ={
			has_cultural_pillar = heritage_daen_coentis
			has_cultural_pillar = heritage_daen_lintis
			has_cultural_pillar = heritage_danan_lin
		}
	}
	
	can_pick = {
		OR ={
			has_cultural_pillar = heritage_daen_coentis
			has_cultural_pillar = heritage_daen_lintis
			has_cultural_pillar = heritage_danan_lin
		}
		custom_description = {
			text = culture_in_mountains_desc
			any_culture_county = {
				any_county_province = {
					OR = {
						terrain = mountains
						terrain = desert_mountains
						terrain = halls
					}
				}
			}
		}
		trigger_if = { #LotR
            limit = {
                scope:replacing ?= culture_tradition:tradition_variag_succession
            }
            custom_tooltip = {
                text = cannot_replace_variag_succession
                NOT = { has_cultural_tradition = tradition_variag_succession } #To prevent stacking after hybridization
            }
        }
	}
	
	parameters = {
		quarries_building_bonuses = yes
		hill_farms_building_bonuses = yes
		rough_terrain_expert_trait_more_common = yes
		mountain_trait_bonuses = yes
		can_recruit_mountain_specialist = yes
	}
	
	character_modifier = {
		mountains_travel_danger = mountains_medium_danger_reduction
		desert_mountains_travel_danger = desert_mountains_medium_danger_reduction
	}

	county_modifier = {
		hills_development_growth_factor = 0.1
		mountains_development_growth_factor = 0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_stoic_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								terrain = mountains
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = mountain_true_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							culture = scope:character.culture
							any_county_province = {
								OR = {
									terrain = mountains
									terrain = hills
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_strong_kinship = { #There can be only one!
	category = regional

	layers = {
		0 = martial
		1 = western
		4 = conversation.dds
	}

	is_shown = {
		OR = {
			has_cultural_pillar = heritage_daen_coentis
			has_cultural_pillar = heritage_hadorim
			has_cultural_pillar = heritage_daen_lintis
		}
	}
	can_pick = {
		OR = {
			has_cultural_pillar = heritage_daen_coentis
			has_cultural_pillar = heritage_hadorim
			has_cultural_pillar = heritage_daen_lintis
		}
		trigger_if = { #LotR
            limit = {
                scope:replacing ?= culture_tradition:tradition_variag_succession
            }
            custom_tooltip = {
                text = cannot_replace_variag_succession
                NOT = { has_cultural_tradition = tradition_variag_succession } #To prevent stacking after hybridization
            }
        }
	}
	
	parameters = {
		bonuses_from_patriarch_matriarch_trait = yes
		cultural_house_personal_scheme_success_chance = yes
		landing_house_members_give_prestige = yes
		penalty_for_revoking_titles_from_house_members = yes
	}
	character_modifier = {
		dynasty_house_opinion = 15
		opinion_of_liege = -10
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_bureaucratic_desc
				}
			}
			if = {
				limit = {
					exists = scope:character.house
					NOT = {
						scope:character.house = {
							any_house_member = {
								count >= 3
								has_relation_friend = scope:character
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = house_friends_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
	}
}

### Easterling Traditions ###
tradition_warriors_of_rhun = {
	category = regional

	layers = {
		0 = martial
		1 = western
		4 = rider.dds
	}

	can_pick = {
		trigger_if = { #LotR
            limit = {
                scope:replacing ?= culture_tradition:tradition_variag_succession
            }
            custom_tooltip = {
                text = cannot_replace_variag_succession
                NOT = { has_cultural_tradition = tradition_variag_succession } #To prevent stacking after hybridization
            }
        }
		NOT = { has_cultural_tradition = tradition_swords_for_hire }
	}

	is_shown = {
		OR = {
			has_cultural_pillar = heritage_ioriag
			has_cultural_pillar = heritage_igath
		}
	}
		
	parameters = {
		#unlock_maa_easterling_kataphrakt = yes # Now unlocked by innovation
		#unlock_maa_easterling_swordsmen = yes
		#unlock_maa_easterling_pikemen = yes
		can_recruit_open_specialist = yes
		wanderers_gain_extra_combat_skills = yes
		mercenary_courtiers_gain_extra_skills = yes
		more_likely_to_leave_court = yes
		unlock_voluntary_laampdom = yes
		more_likely_to_be_laamps = yes
	}

	character_modifier = {
		prowess = 2
		same_culture_mercenary_hire_cost_mult = -0.4
		levy_size = -0.2 # The Easterlings tend to fight with Mercenaries!
	}
	
	culture_modifier = {
		mercenary_count_mult = 2
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_communal_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
	}
}


### Umbarean Tradition ###
tradition_corsairs_of_umbar = {
	category = regional

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = battle.dds
	}
	
	is_shown = {
		NOR = {
			has_cultural_tradition = tradition_practiced_pirates
		}
		has_cultural_pillar = heritage_northern_adunaic
	}
	
	can_pick = {
		custom_description = {
			text = percentage_of_culture_on_coast_desc
			any_culture_county = {
				percent >= 0.5
				any_county_province = {
					is_coastal = yes
				}
			}
		}
		trigger_if = { #LotR
            limit = {
                scope:replacing ?= culture_tradition:tradition_variag_succession
            }
            custom_tooltip = {
                text = cannot_replace_variag_succession
                NOT = { has_cultural_tradition = tradition_variag_succession } #To prevent stacking after hybridization
            }
        }
	}
	
	parameters = {
		unlock_maa_corsair_warriors = yes
		culture_can_raid_at_sea_even_if_feudal = yes
	}

	character_modifier = {
		max_loot_mult = 0.25
		movement_speed = 0.1
		different_culture_opinion = -20
		sea_travel_danger = medium_sea_danger_reduction
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			# Ethos requirement.
			if = {
				limit = {
					NOT = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_desc
				}
			}
			# Coastal requirement.
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.7
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = high_coastal_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 50
		#if = {
		#	limit = { # Should be fairly rare for cultures outside of a Berber heritage
		#		has_cultural_pillar = heritage_berber
		#	}
		#	multiply = 5
		#}
	}
}

### Nafarati Regional ###
tradition_nafarati_belligerence = {
	category = regional

	layers = {
		0 = martial
		1 = mediterranean
		4 = speech.dds
	}
	
	is_shown = {
		has_cultural_pillar = heritage_nafarati
	}
	
	can_pick = {
		culture_not_pacifistic_trigger = yes
		custom_tooltip = {
			text = culture_in_nafarati_desc
			any_culture_county = {
				percent >= 0.4
				any_county_province = {
					geographical_region = custom_nafarati
				}
			}
		}
		trigger_if = { #LotR
            limit = {
                scope:replacing ?= culture_tradition:tradition_variag_succession
            }
            custom_tooltip = {
                text = cannot_replace_variag_succession
                NOT = { has_cultural_tradition = tradition_variag_succession } #To prevent stacking after hybridization
            }
        }
	}
	
	parameters = {
		unlock_maa_nafarati_marauders = yes
		unlock_maa_mahud_headhunters = yes
		can_use_conquest_cbs = yes
		cb_lower_prestige_level_requirement = yes
		cheaper_cbs = yes
	}
	character_modifier = {
		monthly_county_control_decline_factor = -0.4
		vassal_opinion = -5
		
		ai_honor = -20
		ai_war_chance = 0.5
		ai_war_cooldown = -0.25
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_spiritual_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								is_at_war = yes
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_at_war_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						government_has_flag = government_is_tribal
					}
				}
			}
			multiply = 0.25
		}
		#if = {
		#	limit = {
		#		NOR = {
		#			any_in_list = { list = traits this = flag:heritage_turkic }
		#			any_in_list = { list = traits this = flag:heritage_mongolic }
		#			is_divergent_culture = yes
		#		}
		#	}
		#	multiply = 0
		#}
	}
}

### Bellakarean Tradition ###
tradition_bellakarean_cities = {
	category = regional

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = city.dds
	}
	
	is_shown = {
		has_cultural_pillar = heritage_bellakari
	}
	
	can_pick = {
		culture_not_pacifistic_trigger = yes
		custom_tooltip = {
			text = culture_in_bellakar_desc
			any_culture_county = {
				percent >= 0.4
				any_county_province = {
					geographical_region = custom_bellakar
				}
			}
		}
		trigger_if = { #LotR
            limit = {
                scope:replacing ?= culture_tradition:tradition_variag_succession
            }
            custom_tooltip = {
                text = cannot_replace_variag_succession
                NOT = { has_cultural_tradition = tradition_variag_succession } #To prevent stacking after hybridization
            }
        }
	}
	
	parameters = {
		unlock_maa_bellakarani_phalanx = yes
		unlock_maa_bellakaze_outriders = yes
		unlock_maa_bellanarud_auxiliaries = yes
		can_make_oligarch_vassals = yes
		republican_vassals_pay_more = yes
		city_buildings_more_powerful = yes
		city_buildings_less_control = yes
	}
	
	character_modifier = {
		city_holding_build_gold_cost = -0.1
		city_holding_holding_build_gold_cost = -0.1
		republic_government_vassal_opinion = -20
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_sub_realm_county = {
								percent >= 0.9
								culture = scope:character.culture
								any_county_province = {
									has_holding_type = city_holding
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = 90_percent_cities_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.15
							culture = scope:character.culture
							any_county_province = {
								has_holding_type = city_holding
							}
						}
					}
				}
			}
			multiply = 0
		}
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_vassal = {
							primary_title.tier > tier_county
							government_has_flag = government_is_republic
						}
					}
				}
			}
			multiply = 0
		}
	}
}



#tradition_land_of_the_bow = {
#	category = regional
#
#	layers = {
#		0 = martial
#		1 = mena
#		4 = bow.dds
#	}
#	
#	is_shown = {
#		has_cultural_pillar = heritage_east_african
#	}
#	can_pick = {
#		always = no
#	}
#	
#	parameters = {
#		unlock_maa_archers_of_the_nile = yes
#		hunting_archery_building_bonuses = yes
#	}
#	county_modifier = {
#		floodplains_levy_size = 0.1
#	}
#	province_modifier = {
#		garrison_size = 0.25
#	}
#	character_modifier = {
#		defender_advantage = 5
#	}
#	
#	cost = {
#		prestige = {
#			add = {
#				value = tradition_base_cost
#				desc = BASE
#				format = "BASE_VALUE_FORMAT"
#			}
#			if = {
#				limit = {
#					NOR = {
#						culture_pillar:ethos_bellicose = { is_in_list = traits }
#						culture_pillar:ethos_spiritual = { is_in_list = traits }
#					}
#				}
#				add = {
#					value = tradition_incompatible_ethos_penalty
#					desc = not_bellicose_or_spiritual_desc
#				}
#			}
#			if = {
#				limit = {
#					NOT = {
#						scope:character = {
#							number_maa_soldiers_of_base_type = {
#								type = archers
#								value >= 800
#							}
#						}
#					}
#				}
#				add = {
#					value = tradition_unfulfilled_criteria_penalty
#					desc = culture_head_archers_desc
#				}
#			}
#			
#			multiply = tradition_replacement_cost_if_relevant
#		}
#	}
#
#	ai_will_do = {
#		value = 100
#		if = {
#			limit = {
#				NOT = {
#					scope:character = {
#						any_sub_realm_county = {
#							culture = scope:character.culture
#							any_county_province = {
#								terrain = floodplains
#							}
#						}
#					}
#				}
#			}
#			multiply = 0
#		}
#	}
#}

#tradition_steppe_tolerance = {
#	category = regional
#
#	layers = {
#		0 = intrigue
#		1 = mena
#		4 = greeting.dds
#	}
#	
#	is_shown = {
#		NOR = {
#			any_in_list = { list = traits this = flag:tradition_african_tolerance }
#			any_in_list = { list = traits this = flag:tradition_religion_blending }
#		}
#		OR = {
#			has_cultural_pillar = heritage_mongolic
#			has_cultural_pillar = heritage_turkic
#		}
#	}
#	can_pick = {
#		custom_tooltip = {
#			text = culture_in_steppe_desc
#			any_culture_county = {
#				percent >= 0.4
#				any_county_province = {
#					geographical_region = world_steppe
#				}
#			}
#		}
#	}
#
#	parameters = { #easily convert and don't force conversion
#		more_easily_converted = yes 
#		less_likely_to_force_conversion = yes 
#	}
#
#	character_modifier = { # easier to self-convert and create or reform faith
#		faith_creation_piety_cost_mult = -0.2
#		faith_conversion_piety_cost_mult = -0.2
#		different_faith_opinion = 10
#		different_faith_county_opinion_mult = -0.25 # reduced penalty for different faiths (note this appears confusing in the UI right now)
#	}
#
#	cost = {
#		prestige = {
#			add = {
#				value = tradition_base_cost
#				desc = BASE
#				format = "BASE_VALUE_FORMAT"
#			}
#			if = {
#				limit = {
#					NOR = {
#						culture_pillar:ethos_bellicose = { is_in_list = traits }
#						culture_pillar:ethos_egalitarian = { is_in_list = traits }
#						culture_pillar:ethos_communal = { is_in_list = traits }
#					}
#				}
#				add = {
#					value = tradition_incompatible_ethos_penalty
#					desc = not_bellicose_egalitarian_or_communal_desc
#				}
#			}
#			# No extra cost here, since we have a fairly restrictive can_pick block.
#			
#			multiply = tradition_replacement_cost_if_relevant
#		}
#	}
#	
#	ai_will_do = {
#		value = 100
#		if = {
#			limit = {
#				culture_pillar:ethos_spiritual = { is_in_list = traits }
#			}
#			multiply = 0.25
#		}
#	}
#}

#tradition_polders = { #Dutch Unique Tradition, bonuses to buildings along coastline, Unlocks MAA innovation
#	category = realm
#
#	layers = {
#		0 = steward
#		1 = mena
#		4 = svamp.dds
#	}
#
#	is_shown = {
#		OR = {
#			this = culture:dutch
#			any_parent_culture_or_above = {
#				this = culture:dutch
#			}
#		}
#	}
#	can_pick = {
#		OR = {
#			this = culture:dutch
#			any_parent_culture_or_above = {
#				this = culture:dutch
#			}
#		}
#		custom_description = {
#			text = culture_on_coast_desc
#			any_culture_county = {
#				any_county_province = {
#					is_coastal = yes
#				}
#			}
#		}
#	}
#	
#	parameters = {
#		unlock_adaptive_militia_innovation = yes
#		coastal_agriculture_building_bonuses = yes
#		coastal_holding_bonuses = yes
#	}
#	character_modifier = {
#		skirmishers_damage_mult = 0.05
#		skirmishers_screen_mult = 0.1
#	}
#
#	cost = {
#		prestige = {
#			add = {
#				value = tradition_base_cost
#				desc = BASE
#				format = "BASE_VALUE_FORMAT"
#			}
#			if = {
#				limit = {
#					NOR = {
#						culture_pillar:ethos_communal = { is_in_list = traits }
#						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
#						culture_pillar:ethos_stoic = { is_in_list = traits }
#					}
#				}
#				add = {
#					value = tradition_incompatible_ethos_penalty
#					desc = not_communal_bureaucratic_or_stoic_desc
#				}
#			}
#			if = {
#				limit = {
#					NOT = {
#						any_culture_county = {
#							percent >= 0.3
#							any_county_province = {
#								is_coastal = yes
#							}
#						}
#					}
#				}
#				add = {
#					value = tradition_unfulfilled_criteria_penalty
#					desc = coastal_percentage_desc
#				}
#			}
#			
#			multiply = tradition_replacement_cost_if_relevant
#		}
#	}
#	
#	ai_will_do = {
#		value = 100
#		if = {
#			limit = {
#				NOT = {
#					scope:character = {
#						any_sub_realm_county = {
#							percent >= 0.3
#							any_county_province = {
#								is_coastal = yes
#							}
#						}
#					}
#				}
#			}
#			multiply = 0
#		}
#		if = {
#			limit = {
#				scope:character = {
#					any_sub_realm_county = {
#						percent >= 0.6
#						any_county_province = {
#							is_coastal = yes
#						}
#					}
#				}
#			}
#			multiply = 3
#		}
#	}
#}

# WASTELANDS

tradition_wastelands = {
	category = realm

	layers = {
		0 = learning
		1 = indian
		4 = desert_mountains.dds
	}
	
	county_modifier = {
		development_growth_factor = -1.0
		monthly_county_control_growth_factor = 1.0
		build_speed = -10.0
		monthly_county_control_growth_add = 1
	}
	
	character_modifier = { 
		monthly_county_control_growth_factor = 1.0
		vassal_opinion = 100 
		general_opinion = 1000
		
		ai_greed = -100
		ai_honor = 100
		ai_war_chance = -1
		ai_war_cooldown = 0
	}
	culture_modifier = {
		mercenary_count_mult = -1
	}
	

	
	is_shown = {
		scope:character = {
			has_culture = culture:wastelands
		}
	}

	can_pick = {
		always = yes
	}
	
	ai_will_do = {
		value = 0
	}

}

# Orcs

tradition_legions_of_gundabad = {
	category = realm

	layers = {
		0 = martial
		1 = western
		4 = swords.dds
	}
	
	is_shown = {
		is_orc_culture = yes
		scope:character = {
			has_title = title:c_gundabad
		}
	}

	can_pick = {
		always = yes
	}
	
	parameters = { # replace with gundabad stuff
		#unlock_maa_gundabad_orc_spear_warband = yes
		#unlock_maa_gundabad_orc_berserkers = yes
		unlock_maa_hunter_orcs_on_fell_wargs = yes
		# unlock_maa_gundabad_blackshields = yes
		# unlock_maa_gundabad_war_troll = yes
		#unlock_maa_gundabad_ogres = yes
		strong_traits_more_valued = yes
		strong_traits_more_common = yes
	}
	
	cost = {
		prestige = {
			# Base cost.
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			# Ethos requirement.
			if = {
				limit = {
					culture_pillar:ethos_bellicose = { is_in_list = traits }
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = culture_not_bellicose
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
	}
}
tradition_gorgoroth_plain_dwellers = { # Remade tradition_caucasian_wolves to fit volcanic_plains
	category = regional

	layers = { # needs better picture
		0 = steward
		1 = mena
		4 = mountain.dds
	}
	
	is_shown = {
			is_orc_culture = yes
			any_culture_county = {
				title_province = {
					geographical_region = middleearth_mordor_gorgoroth
				}
			}
		NOR = {
			has_cultural_tradition = tradition_mountaineers
			#has_cultural_tradition = tradition_horn_mountain_skirmishing
		}
	}
	can_pick = {
		custom_description = {
			text = culture_in_volcanic_plains_desc
			any_culture_county = {
				any_county_province = {
					terrain = volcanic_plains
				}
			}
		}
	}
	
	parameters = {
		#unlock_maa_monaspa = no # replace this with an unique Building!
		rough_terrain_expert_trait_more_common = yes
		mountain_trait_bonuses = yes
		can_recruit_mountain_specialist = yes
	}
	province_modifier = {
		mountains_levy_size = 0.1
		volcanic_plains_levy_size = 0.1
		mountains_supply_limit_mult = 0.20
		volcanic_plains_supply_limit_mult = 0.30
	}
	character_modifier = {
		volcanic_plains_travel_danger = volcanic_plains_medium_danger_reduction
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_communal_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								terrain = mountains
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = volcanic_plains_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 1000
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							culture = scope:character.culture
							any_county_province = {
								OR = {
									terrain = mountains
									terrain = volcanic_plains
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_roving_bands = {
	category = regional

	layers = {
		0 = martial
		1 = mediterranean
		4 = fight.dds
	}
	
	is_shown = {
		is_orc_culture = yes
		NOT = {
			has_cultural_tradition = tradition_gorgoroth_plain_dwellers
		}
	}
	
	can_pick = {
		culture_not_pacifistic_trigger = yes

		trigger_if = { #LotR
            limit = {
                scope:replacing ?= culture_tradition:tradition_variag_succession
            }
            custom_tooltip = {
                text = cannot_replace_variag_succession
                NOT = { has_cultural_tradition = tradition_variag_succession } #To prevent stacking after hybridization
            }
        }
	}
	
	parameters = {
		wanderers_gain_extra_combat_skills = yes
		#mercenary_courtiers_gain_extra_skills = yes
		more_likely_to_leave_court = yes
		unlock_voluntary_laampdom = yes
		more_likely_to_be_laamps = yes
	}
	
	character_modifier = {
		character_travel_speed_mult = 0.15
		character_travel_safety_mult = 0.10
		hostile_county_attrition_raiding = -0.25
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_spiritual_or_stoic_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								has_trait = reaver
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_reaver_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
				limit = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.8
							culture = scope:character.culture
							any_county_province = {
								has_holding_type = dwarven_holding
							}
						}
					}			
				}
				multiply = 0
			}
	}
}