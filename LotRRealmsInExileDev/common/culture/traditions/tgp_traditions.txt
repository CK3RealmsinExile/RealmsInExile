tradition_tgp_bushido = {
	category = regional

	layers = {
		0 = martial
		1 = asian
		4 = samurai.dds
	}

	is_shown = {
		culture_head = {
			top_liege = { has_character_flag = shogun_flag }
			has_government = japan_feudal_government
		}
	}
	can_pick = {
		culture_head = {
			top_liege = { has_character_flag = shogun_flag }
			has_government = japan_feudal_government
		}
		# Mutually exclusive with Imperial Peace and other Horse Archer MaA
		NOR = {
			# culture_tradition:tradition_horse_lords = { is_in_list = traits } #LOTR
			culture_tradition:tradition_devoted_horsemanship = { is_in_list = traits }
			culture_tradition:tradition_tgp_imperial_peace = { is_in_list = traits }
			culture_tradition:tradition_tgp_imperial_peace = { is_in_list = traits }
		}
	}

	parameters = {
		unlock_mounted_samurai_units = yes
		unlock_infantry_samurai_units = yes
		must_pledge_loyalty_to_liege = yes
		honorable_trait_bonuses = yes
		prowess_from_martial_education = yes
		stalwart_leader_non_admin_duels = yes
		non_admin_close_family_non_martial_gender_knights_in_defensive_wars = yes
	}

	character_modifier = {
		character_opinion_from_high_prowess_add = 2
		character_opinion_from_low_prowess_add = -1
	}

	cost = {
		prestige = {
			add = {
				value = tradition_double_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
		}
	}

	ai_will_do = {
		value = 1000 # AI should always try to pick this when they can
	}
}

tradition_tgp_rice_cultivators = {
	category = realm

	layers = {
		0 = steward
		1 = asian
		4 = svamp.dds
	}
	
	is_shown = {
		has_tgp_dlc_trigger = yes
		NOT = {
			culture_tradition:tradition_intensive_farming = { is_in_list = traits }
		}
	}
	
	can_pick = {
		custom_tooltip = {
			text = culture_in_terraced_hills_terrain_desc
			any_culture_county = {
				any_county_province = {
					terrain = terraced_hills
				}
			}
		}
	}
	
	parameters = {
		rice_cultivators_next_level_paddy_fields = yes
		rice_cultivators_can_construct_paddy_fields_in_hills_and_jungle = yes
	}

	county_modifier = {
		terraced_hills_development_growth_factor = 0.3
		terraced_hills_construction_gold_cost = -0.1
		terraced_hills_levy_size = 0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					culture_pillar:ethos_bellicose = { is_in_list = traits }
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = culture_not_bellicose
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							count >= 3
							any_county_province = {
								terrain = terraced_hills
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_in_terraced_hills_terrain_count_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 400
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							culture = scope:character.culture
							any_county_province = {
								terrain = terraced_hills
							}
						}
					}
				}
			}
			multiply = 0
		}
		if = {
			limit = {
				scope:character = {
					government_has_flag = government_is_tribal
				}
			}
			multiply = 0
		}
	}
}

tradition_tgp_imperial_peace = {
	category = regional

	layers = {
		0 = martial
		1 = asian
		4 = samurai.dds
	}

	is_shown = {
		has_tgp_dlc_trigger = yes
		culture_head = {
			government_is_japanese_trigger = yes
		}
	}
	
	can_pick = {
		# Mutually exclusive with Bushido and other Horse Archer MaA
		NOR = {
			# culture_tradition:tradition_horse_lords = { is_in_list = traits } #LOTR
			culture_tradition:tradition_devoted_horsemanship = { is_in_list = traits }
			culture_tradition:tradition_tgp_imperial_peace = { is_in_list = traits }
			culture_tradition:tradition_tgp_bushido = { is_in_list = traits }
		}
	}

	parameters = {
		unlock_mounted_samurai_units = yes
		prowess_from_martial_education = yes
		non_admin_close_family_non_martial_gender_knights_in_defensive_wars = yes
		stalwart_leader_non_admin_duels = yes
	}

	character_modifier = {
		defender_holding_advantage = 2
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_double_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 50
		if = {
			# Only Courtly cultures should pick this
			limit = { NOT = { culture_pillar:ethos_courtly = { is_in_list = traits } } }
			multiply = 0
		}
		if = {
		 	# AI should avoid stacking traditions for courtly court positions
			limit = { culture_tradition:tradition_music_theory = { is_in_list = traits } }
			multiply = 0.25
		}
	}
}

tradition_tgp_defiant_ambushers = {
	category = regional

	layers = {
		0 = martial
		1 = asian
		4 = samurai.dds
	}

	is_shown = {
		has_tgp_dlc_trigger = yes
		# has_cultural_pillar = heritage_ainuic # LOTR
		always = no # LOTR
	}
	
	can_pick = {
		# Mutually exclusive with other Horse Archer MaA
		NOR = {
			# culture_tradition:tradition_horse_lords = { is_in_list = traits } #LOTR
			culture_tradition:tradition_devoted_horsemanship = { is_in_list = traits }
			culture_tradition:tradition_tgp_imperial_peace = { is_in_list = traits }
			culture_tradition:tradition_tgp_bushido = { is_in_list = traits }
		}
	}

	parameters = {
		unlock_emishi_horse_archers_units = yes
		harder_to_convert_county_culture = yes
		county_peasant_and_populist_factions_more_common = yes
	}

	character_modifier = {
		movement_speed_land_raiding = 0.2
		raid_speed = 0.1
		levy_reinforcement_rate_even_if_baron = 0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_double_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 50
		if = {
			# Only Courtly cultures should pick this
			limit = { NOT = { culture_pillar:ethos_courtly = { is_in_list = traits } } }
			multiply = 0
		}
		if = {
		 	# AI should avoid stacking traditions for courtly court positions
			limit = { culture_tradition:tradition_music_theory = { is_in_list = traits } }
			multiply = 0.25
		}
	}
}

tradition_tgp_warrior_monks = {
	category = regional

	layers = {
		0 = martial
		1 = asian
		4 = warrior_monk.dds
	}

	is_shown = {
		has_tgp_dlc_trigger = yes
		culture_head = {
			faith = { has_doctrine = special_doctrine_immaterial_harmony }
			# has_religion = religion:buddhism_religion # LOTR
		}
	}
	
	can_pick = {
		# Mutually exclusive with other Warrior Monk
		NOT = {
			culture_tradition:tradition_warrior_monks = { is_in_list = traits }
		}
	}

	parameters = {
		unlock_warrior_monk_units = yes
		prowess_from_religious_traits = yes
		culture_clergy_can_fight = yes
		monastery_prowess_martial_bonus = yes
	}
	character_modifier = {
		prowess_per_piety_level = 1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_double_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 50
		if = {
			# Only Courtly cultures should pick this
			limit = { NOT = { culture_pillar:ethos_courtly = { is_in_list = traits } } }
			multiply = 0
		}
		if = {
		 	# AI should avoid stacking traditions for courtly court positions
			limit = { culture_tradition:tradition_music_theory = { is_in_list = traits } }
			multiply = 0.25
		}
	}
}

tradition_tgp_ephemeral_grace = {
	category = regional

	layers = {
		0 = diplo
		1 = asian
		4 = calligraphy.dds
	}

	is_shown = {
		has_tgp_dlc_trigger = yes
		culture_head = {
			OR = {
				faith = { has_doctrine = special_doctrine_immaterial_harmony }
				# has_religion = religion:shintoism_religion # LOTR
			}
		}
	}
	
	can_pick = {
		# Mutually exclusive with Poetry and Gardening
		NOT = { culture_tradition:tradition_poetry = { is_in_list = traits } }
		NOT = { culture_tradition:tradition_gardening = { is_in_list = traits } }
	}

	parameters = {
		stress_loss_bonus_from_harmonious_traits = yes
		poet_trait_gives_bonuses = yes
		poet_trait_more_common = yes
		can_appoint_court_gardener = yes
		can_recruit_gardeners = yes
		ai_romance_scheme_increase = yes
		poet_trait_romance_bonuses = yes
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_double_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier >= tier_county
								has_trait = lifestyle_poet
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_poet_desc
				}
			}

			if = {
				limit = {
					scope:character = {
						has_variable = tradition_poetry_travel_discount
					}
				}

				add = {
					value = tradition_travel_discount
					desc = tradition_travel_discount_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 50
		if = {
			# Only Courtly cultures should pick this
			limit = { NOT = { culture_pillar:ethos_courtly = { is_in_list = traits } } }
			multiply = 0
		}
		if = {
		 	# AI should avoid stacking traditions for courtly court positions
			limit = { culture_tradition:tradition_music_theory = { is_in_list = traits } }
			multiply = 0.25
		}
	}
}

tradition_tgp_inward_perfection = {
	category = regional

	layers = {
		0 = diplo
		1 = asian
		4 = instrument.dds
	}

	is_shown = {
		has_tgp_dlc_trigger = yes
		has_east_asian_heritage_pillar_trigger = yes
	}
	
	can_pick = {
		# Mutually exclusive with other Isolationist
		NOR = {
			culture_tradition:tradition_isolationist = { is_in_list = traits }
			culture_tradition:tradition_cultural_primacy = { is_in_list = traits }
		}
	}

	parameters = {
		reduced_marriage_acceptance_outside_culture = yes
		reduced_marriage_acceptance_distant_realms = yes
		ai_doesnt_marry_outside_culture = yes
		harder_to_hybridize = yes
		may_challenge_to_board_games = yes
	}

	culture_modifier = {
		culture_innovation_progress_chance_from_spread_add = -20
	}

	character_modifier = {
		character_innovation_progress_chance_from_fascination_add = 10
		monthly_lifestyle_xp_gain_mult = 0.05
		diplomatic_range_mult = -0.25
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_spiritual_communal_or_stoic_desc
				}
			}
		}
	}
	
	ai_will_do = {
		value = 50
	}
}

tradition_cultural_primacy = {
	category = regional

	layers = {
		0 = diplo
		1 = asian
		4 = instrument.dds
	}

	is_shown = {
		has_tgp_dlc_trigger = yes
		scope:character = {
			OR = {
				# culture = { has_cultural_pillar = heritage_chinese } # LOTR
				# has_title = title:h_china #Always available to new emperors # LOTR
			}
		}
	}
	
	can_pick = {
		# Mutually exclusive with other Isolationist
		NOR = {
			culture_tradition:tradition_isolationist = { is_in_list = traits }
			culture_tradition:tradition_tgp_inward_perfection = { is_in_list = traits }
		}
	}

	parameters = {
		innovation_from_learning_traits = yes
		courtiers_less_likely_to_leave_same_culture_court = yes

		reduced_marriage_acceptance_outside_culture = yes
		reduced_marriage_acceptance_distant_realms = yes
		ai_doesnt_marry_outside_culture = yes
		harder_to_hybridize = yes
		may_challenge_to_board_games = yes
	}

	character_modifier = {
		monthly_piety_gain_per_legitimacy_level_add = 0.15
		court_grandeur_baseline_add = 5

		monthly_lifestyle_xp_gain_mult = 0.05
		opinion_of_different_culture = -15
		different_culture_opinion = -15
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_spiritual_communal_or_stoic_desc
				}
			}
		}
	}
	
	ai_will_do = {
		value = 50
	}
}

tradition_maritime_way_of_life = {
	category = regional

	layers = {
		0 = diplo
		1 = asian
		4 = boat.dds
	}

	is_shown = {
		has_tgp_dlc_trigger = yes
		OR = {
			has_cultural_pillar = heritage_sare # LOTR
			# has_cultural_pillar = heritage_austronesian # LOTR
			# scope:character = {
			# 	any_sub_realm_county = {
			# 		culture = {	has_cultural_pillar = heritage_austronesian }
			# 	}
			# }
		}
	}
	
	can_pick = {
		# has_cultural_pillar = heritage_austronesian # LOTR
		custom_description = {
			text = percentage_of_culture_on_coast_desc
			any_culture_county = {
				percent >= 0.5
				any_county_province = {
					is_coastal = yes
				}
			}
		}
	}
	
	parameters = {
		can_travel_along_rivers = yes
		coastal_tribe_bonuses = yes #Maa bonuses for coastal tribal
		# unlock_maa_pesilat = yes
	}
	character_modifier = {
		embarkation_cost_mult = -0.85
		naval_movement_speed_mult = 0.25
		coastal_sea_travel_danger = medium_sea_danger_reduction
		sea_travel_danger = medium_sea_danger_reduction
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_bureaucratic_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.7
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = high_coastal_percentage_desc
				}
			}

			if = {
				limit = {
					scope:character = {
						has_variable = tradition_seafaring_travel_discount
					}
					
				}

				add = {
					value = tradition_travel_discount
					desc = tradition_travel_discount_desc
				}
			}

			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 200
		if = { # Make stacking more less common
			limit = {
				OR = {
					culture_tradition:tradition_maritime_mercantilism = { is_in_list = traits }
					culture_tradition:tradition_fishermen = { is_in_list = traits }
				}
			}
			multiply = 2
		}
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.3
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
			}
			multiply = 0
		}
		else_if = {
			limit = {
				any_culture_county = {
					percent >= 0.6
					any_county_province = {
						is_coastal = yes
					}
				}
			}
			multiply = 8
		}
	}
}

tradition_tgp_hydraulic_builders = {
	category = regional

	layers = {
		0 = steward
		1 = asian
		4 = wat.dds
	}
	
	can_pick = {
		scope:character = { government_has_flag = government_is_mandala }
	}
	
	is_shown = {
		has_tgp_dlc_trigger = yes
		scope:character = { government_has_flag = government_is_mandala }
		OR = {
			# has_cultural_pillar = heritage_mon_khmer # LOTR
			# scope:character = {
			# 	any_sub_realm_county = {
			# 		culture = {	has_cultural_pillar = heritage_mon_khmer }
			# 	}
			# }
		}
	}

	parameters = {
		sacred_pool_additional_bonuses = yes
		may_build_sacred_pools_ahead_of_time = yes
		unlocks_waterworks_buildings = yes
		waterworks_additional_bonuses = yes
	}
	county_modifier = {
		wetlands_development_growth_factor = 0.25
		wetlands_construction_gold_cost = -0.1
		terraced_hills_development_growth_factor = 0.1
		terraced_hills_construction_gold_cost = -0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}

			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_or_spiritual_desc
				}
			}

			if = {
				limit = {
					culture_tradition_reduction_trigger = { TRADITION = tradition_tgp_hydraulic_builders }
				}
				multiply = {
					value = 0.5
					desc = inspired_by_culture_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 400
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							count >= 2
							culture = scope:character.culture
							any_county_province = {
								has_holding_type = temple_citadel_holding
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_tgp_fortified_strongholds = {
	category = regional

	layers = {
		0 = steward
		1 = asian
		4 = wall.dds
	}
	
	is_shown = {
		has_tgp_dlc_trigger = yes
		scope:character = { government_has_flag = government_is_mandala }
		OR = {
			# has_cultural_pillar = heritage_tai # LOTR
			# has_cultural_pillar = heritage_burman
			# scope:character = {
			# 	any_sub_realm_county = {
			# 		culture = {
			# 			OR = {
			# 				has_cultural_pillar = heritage_tai
			# 				has_cultural_pillar = heritage_burman
			# 			}
			# 		}
			# 	}
			# }
		}
	}
	
	parameters = {
		founding_temple_citadels_gives_more_piety = yes
		warmonger_city_founders = yes
		temple_citadel_fort_level_bonus = yes
		temple_citadel_control_bonus = yes
	}
	county_modifier = {
		temple_citadel_holding_holding_build_gold_cost = -0.2
		temple_citadel_holding_holding_build_speed = -0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}

			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_courtly_spiritual_or_stoic_desc
				}
			}

			if = {
				limit = {
					culture_tradition_reduction_trigger = { TRADITION = tradition_tgp_fortified_strongholds }
				}
				multiply = {
					value = 0.5
					desc = inspired_by_culture_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 400
	}
}

tradition_tgp_religious_hospitality = {
	category = regional

	layers = {
		0 = learning
		1 = asian
		4 = wat.dds
	}
	
	is_shown = {
		has_tgp_dlc_trigger = yes
		scope:character = { government_has_flag = government_is_mandala }
	}

	parameters = {
		invite_courtiers_reasons = yes
		less_cost_to_invite_religious_exiles = yes
		development_gain_from_religious_exiles_is_doubled = yes
		ai_uses_religious_exiles = yes
	}
	
	character_modifier = {
		different_faith_opinion = 20
		faith_conversion_piety_cost_mult = -0.25
		different_faith_county_opinion_mult = -0.5
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}

			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_egalitarian_or_spiritual_desc
				}
			}
		
			if = {
				limit = {
					culture_tradition_reduction_trigger = { TRADITION = tradition_tgp_religious_hospitality }
				}
				multiply = {
					value = 0.5
					desc = inspired_by_culture_desc
				}
			}

			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 100
		if = {
			limit = { # Avoid stacking similar traditions
				culture_tradition:tradition_culture_blending = { is_in_list = traits }
				culture_tradition:tradition_xenophilic = { is_in_list = traits }
				culture_tradition:tradition_religion_blending = { is_in_list = traits }
			}
			multiply = 0.25
		}
	}
}

tradition_tgp_esoteric_power = {
	category = regional

	layers = {
		0 = steward
		1 = asian
		4 = kris.dds
	}
	
	is_shown = {
		has_tgp_dlc_trigger = yes
		scope:character = { government_has_flag = government_is_mandala }
		OR = {
			# has_cultural_pillar = heritage_austronesian # LOTR
			# scope:character = {
			# 	any_sub_realm_county = {
			# 		culture = {
			# 			has_cultural_pillar = heritage_austronesian
			# 		}
			# 	}
			# }
		}
	}
	
	parameters = {
		increases_effect_of_mandala_realm_contracts = yes
		may_commission_kris = yes
		piety_level_affect_artifact_quality = yes
		unlock_maa_pesilat = yes
	}
	character_modifier = {
		jungle_travel_danger = jungle_medium_danger_reduction
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}

			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}

			if = {
				limit = {
					culture_tradition_reduction_trigger = { TRADITION = tradition_tgp_esoteric_power }
				}
				multiply = {
					value = 0.5
					desc = inspired_by_culture_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 400 # Good tradition for Mandalas
	}
}

tradition_tgp_barangay_confederations = {
	category = regional

	layers = {
		0 = diplo
		1 = asian
		4 = wall.dds
	}
	
	is_shown = {
		has_tgp_dlc_trigger = yes
		scope:character = { government_has_flag = government_is_tribal }
		OR = {
			# has_cultural_pillar = heritage_austronesian # LOTR
			# scope:character = {
			# 	any_sub_realm_county = {
			# 		culture = {
			# 			has_cultural_pillar = heritage_austronesian
			# 		}
			# 	}
			# }
		}
	}

	parameters = {
		forming_confederations_is_easier = yes
		invite_to_confederation_extra_reasons = yes
		confederation_tribal_authority = yes
		mandala_tributaries = yes
		religious_relations_is_empowered = yes
	}
	character_modifier = {
		fellow_confederation_member_opinion = 10
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}

			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_egalitarian_or_stoic_desc
				}
			}

			if = {
				limit = {
					any_culture_county = {
						percent <= 0.5
						is_coastal_county = yes
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = not_a_coastal_culture
				}
			}

			if = {
				limit = {
					culture_tradition_reduction_trigger = { TRADITION = tradition_tgp_barangay_confederations }
				}
				multiply = {
					value = 0.5
					desc = inspired_by_culture_desc
				}
			}

			multiply = tradition_replacement_cost_if_relevant
		}
	}
	ai_will_do = {
		value = 300
		if = {
			limit = {
				scope:character.primary_title ?= {
					tier = tier_duchy
				}
			}
			multiply = 0.5
		}
		if = {
			limit = {
				scope:character.primary_title ?= {
					tier >= tier_kingdom
				}
			}
			multiply = 0
		}
	}
}

tradition_nudists = {
	category = societal

	layers = {
		0 = diplo
		1 = asian
		4 = jungle.dds
	}
	
	parameters = {
		naked_culture_active = yes
		lustful_trait_less_common = yes
	}
	county_modifier = {
		jungle_development_growth_factor = 0.2
		jungle_supply_limit_mult = 1
		jungle_provisions_use_mult = -0.75
		jungle_barter_goods_mult = 0.15
	}

	character_modifier = {
		stress_gain_mult = -0.1
		jungle_advantage = 5
		jungle_travel_danger = jungle_medium_danger_reduction
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier >= tier_county
								OR = {
									has_completed_inspiration = yes
									any_courtier_or_guest = {
										OR = {
											has_completed_inspiration = yes
											exists = inspiration
										}
									}
								}
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = has_courtier_or_guest_with_inspiration_desc
				}
			}

			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 0
	}
}

tradition_tgp_mountain_island = {
	category = regional

	layers = {
		0 = steward
		1 = asian
		4 = mountain.dds
	}
	
	is_shown = { # Reconsider assigning to a LotR culture in the future with adapted loc
		always = no #LotR TODO Assign to appropriate culture with changed localization
		NOR = { #This is replaced by Himalayan Settlers, Mountaineer Ruralism and Mountain Herding. 
			has_cultural_tradition = tradition_himalayan_settlers
			has_cultural_tradition = tradition_mountaineer_ruralism
			has_cultural_tradition = tradition_mountain_homes
			# has_cultural_pillar = heritage_arabic
			# has_cultural_pillar = heritage_berber
			# has_cultural_pillar = heritage_tibetan
			# has_cultural_pillar = heritage_qiangic
			# has_cultural_pillar = heritage_west_slavic
			# any_culture_county = {
			# 	title_province = {
			# 		geographical_region = world_himalaya
			# 	}
			# }
		}
		# any_culture_county = {
		# 	title_province = {
		# 		geographical_region = world_asia_japan
		# 	}
		# }
	}
	can_pick = {
		custom_description = {
			text = culture_in_mountains_desc
			any_culture_county = {
				any_county_province = {
					OR = {
						terrain = mountains
						terrain = desert_mountains
					}
				}
			}
		}
		# Mutually exclusive with other Mountaineers
		NOT = {
			culture_tradition:tradition_mountaineers = { is_in_list = traits }
		}
	}

	parameters = {
		prestige_gain_on_building_complete_in_mountains_forest = yes
	}
	character_modifier = {
		coastal_sea_travel_danger = medium_sea_danger_reduction
		mountains_travel_danger = mountains_medium_danger_reduction
		hills_travel_danger = hills_medium_danger_reduction
		forest_travel_danger = forest_medium_danger_reduction
	}
	county_modifier = {
		hills_development_growth_factor = 0.05
		mountains_development_growth_factor = 0.2
	}
	province_modifier = {
		mountains_construction_gold_cost = -0.1
		mountains_holding_construction_gold_cost = -0.1
		forest_construction_gold_cost = -0.1
		forest_holding_construction_gold_cost = -0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					culture_pillar:ethos_bellicose = { is_in_list = traits }
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = culture_not_bellicose
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								OR = {
									terrain = mountains
									terrain = desert_mountains
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = mountain_percentage_desc
				}
			}

			if = {
				limit = {
					culture_tradition_reduction_trigger = { TRADITION = tradition_tgp_mountain_island }
				}
				multiply = {
					value = 0.5
					desc = inspired_by_culture_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.2
							culture = scope:character.culture
							any_county_province = { terrain = mountains }
						}
					}
				}
			}
			multiply = 0
		}
		else_if = {
			limit = {
				any_culture_county = {
					percent >= 0.6
					any_county_province = { terrain = mountains }
				}
			}
			multiply = 8
		}
	}
}

tradition_stratified_society = {
	category = regional

	layers = {
		0 = diplo
		1 = asian
		4 = officials.dds
	}

	is_shown = {
		has_tgp_dlc_trigger = yes
		culture_head = {
			government_allows = merit
		}
		# has_cultural_pillar = heritage_korean # LOTR
	}

	parameters = {
		family_shares_merit = yes
		family_skips_exams = yes
		marrying_into_the_ruling_family_gives_influence = yes
		unlock_maa_gakgung_archers = yes
	}

	county_modifier = {
	}

	character_modifier = {
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_spiritual_communal_or_stoic_desc
				}
			}
		}
	}
	
	ai_will_do = {
		value = 50
	}
}

tradition_tgp_art_of_war = {
	category = regional
	
	layers = {
		0 = martial
		1 = asian
		4 = marching_soldiers.dds 
	}

	is_shown = {
		OR = {
			# this = culture:han # LOTR
			# any_parent_culture_or_above = {
			# 	this = culture:han
			# }
			# has_cultural_pillar = heritage_chinese
		}
		# DLC check.
		has_tgp_dlc_trigger = yes
	}
	can_pick = {
	}

	parameters = {
		unlock_shenbigong_innovation = yes
		unlock_zhanmadao = yes
		unlock_burenjia = yes
		unlock_maa_black_armor_cavalry = yes
		guardians_can_transfer_commander_traits = yes
		prowess_from_martial_education = yes
		military_governor_appointment_score = yes
	}

	character_modifier = {
		martial_per_merit_level = 0.35 #Formal Military Education
		monthly_merit_per_title_maa_value = 0.002
		heavy_infantry_max_size_add = 2
		counter_efficiency = 0.1
		men_at_arms_maintenance = 0.2
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
						culture_pillar:ethos_bellicose = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_bureaucratic_desc
				}
			}
			if = { #Teaching a military Curriculum
				limit = {
					NOT = {
						any_culture_county = {
							count >= 5
							any_county_province = {
								has_building_or_higher = examination_hall_01
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = duchies_with_examination_halls_desc
				}
			}

			if = {
				limit = {
					culture_tradition_reduction_trigger = { TRADITION = tradition_tgp_art_of_war }
				}
				multiply = {
					value = 0.5
					desc = inspired_by_culture_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 400
		if = {
			limit = { # Admin should be more into this
				scope:character = {
					government_allows = administrative
				}
			}
			multiply = 2
		}
		else_if = {
			limit = {
				scope:character ?= {
					ai_has_warlike_personality = yes
				}
			}
			multiply = 4
		}
	}

}

tradition_tgp_court_machinations = {
	category = regional

	layers = {
		0 = intrigue
		1 = asian
		4 = officials.dds
	}

	is_shown = {
		has_tgp_dlc_trigger = yes
		# has_cultural_pillar = heritage_chinese # LOTR
		scope:character = {
		#	has_title = title:h_china
			OR = {
				government_has_flag = government_is_administrative
				government_has_flag = government_has_merit
			}
		}
	}
	can_pick = {
		custom_tooltip = {
			text = only_one_marriage_tradition_allowed
			trigger_if = {
				limit = {
					OR = {
						NOT = { exists = scope:replacing }
						NOR = {
							scope:replacing = culture_tradition:tradition_monogamous
							scope:replacing = culture_tradition:tradition_polygamous
							scope:replacing = culture_tradition:tradition_concubines
							scope:replacing = culture_tradition:tradition_court_eunuchs
						}
					}
				}
				NOR = {
					culture_tradition:tradition_monogamous = { is_in_list = traits }
					culture_tradition:tradition_polygamous = { is_in_list = traits }
					culture_tradition:tradition_concubines = { is_in_list = traits }
					culture_tradition:tradition_court_eunuchs = { is_in_list = traits }
				}
			}
		}
		
	}
	
	can_pick_for_hybridization = {
		custom_tooltip = {
			text = only_one_marriage_tradition_allowed
			NOT = { # Only blocks monogamous to avoid duplicate warnings, but is blocked by polygamous
				culture_tradition:tradition_monogamous = { is_in_list = traits }
			}
		}
	}

	parameters = {
		number_of_consorts_hegemony = 20
		number_of_consorts = 3
		number_of_spouses = 1
		can_appoint_chief_eunuch = yes
		court_machinations_eunuch_trait_bonuses = yes
		courtiers_more_likely_to_join_hostile_schemes_in_court = yes
		eunuch_powerful_scheme_agents = yes
		can_castrate_prisoners = yes
		cultrad_unlocks_t4_bounties_for_whispers = yes
	}

	character_modifier = {
		owned_political_scheme_success_chance_add = 10
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_double_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bureaucratic_courtly_or_spiritual_desc
				}
			}
			if = {
				limit = {
					has_dlc_feature = royal_court
					OR = {
						scope:character = { has_royal_court = no }
						NOT = {
							scope:character = {
								court_grandeur_current_level >= very_high_court_grandeur_level
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_head_court_grandeur_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character.faith = {
							OR = {
								has_doctrine = doctrine_polygamy
								has_doctrine = doctrine_concubines
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = cheaper_tradition_from_faith
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 200
		if = {
			limit = { # Admin should be more into this
				scope:character = {
					government_allows = administrative
				}
			}
			multiply = 2
		}
	}
}


#Scholar Officials
tradition_scholar_officials = {
	category = regional

	layers = {
		0 = intrigue
		1 = asian
		4 = confucius.dds
	}

	is_shown = { #Available to Chinese cultures and to cultures influenced by China
		always = no #LotR
		has_tgp_dlc_trigger = yes
		scope:character = {
			OR = {
				# culture = { has_cultural_pillar = heritage_chinese } #LOTR
				has_trait = confucian_education
				government_has_flag = government_has_merit
				# has_title = title:h_china #Always available to new emperors
			}
		}
	}

	can_pick = {
		custom_description = {
			text = culture_not_bellicose
			NOT = {
				culture_pillar:ethos_bellicose = { is_in_list = traits }
			}
		}
		NOT = { has_cultural_tradition = tradition_warrior_culture }
	}

	parameters = {
		can_always_convert_to_confucianism = yes
		can_author_books = yes
 

		wants_to_learn_chinese = yes
		learn_language_success_chance_for_others = yes

		scholar_official_trait_bonuses = yes #Values loyal and confucian education
		loyal_trait_more_common = yes
		doesnt_care_about_culture_faith_in_factions = yes
	}

	character_modifier = {
		monthly_learning_lifestyle_xp_gain_mult = 0.2
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bureaucratic_courtly_or_spiritual_desc
				}
			}
			if = {
				limit = {
					scope:character = {
						has_trait = scholar
					}
				}
				multiply = {
					value = 0.75
					#desc = 
				}
			}
			if = {
				limit = {
					scope:character = {
						has_trait = confucian_education
					}
				}
				multiply = {
					value = 0.5
					#desc = 
				}
			}
		}
	}
}

tradition_sinophilic = {
	category = regional

	layers = {
		0 = intrigue
		1 = asian
		4 = calligraphy.dds
	}

	is_shown = {
		always = no #LoTR
		has_tgp_dlc_trigger = yes
		# NOT = { has_cultural_pillar = heritage_chinese } #Can't be Sinophilic when you're Chinese
		# culture:han.culture_head ?= {
		# 	in_diplomatic_range = scope:character
		# }
	}

	parameters = {
		more_successful_kowtows = yes
		may_adopt_silk_road_innovations = yes
	}

	character_modifier = {
		artifact_decay_reduction_mult = -0.15
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bureaucratic_courtly_or_spiritual_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								has_trait = scholar
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_scholar_desc
				}
			}
		}
	}
}

tradition_tgp_japanese_houses = {
	category = regional

	layers = {
		0 = diplo
		1 = asian
		4 = fan.dds
	}
	
	is_shown = {
		has_tgp_dlc_trigger = yes
		NOT = { 
			has_game_rule = no_adoption
		}
		culture_head = { # Only eastern Buddhists and regional faiths
			faith = { has_doctrine = special_doctrine_immaterial_harmony }
		}
	}

	can_pick = {
		# Mutually exclusive with other Adopters
		NOT = {
			culture_tradition:tradition_noble_adoption = { is_in_list = traits }
			culture_tradition:tradition_ep3_cultivated_sophistication = { is_in_list = traits }
		}
	}
	
	parameters = {
		adultery_always_accepted = yes
		allows_noble_family_adoption = yes
		free_adoption = yes
		wider_adoption = yes
		better_ward_education = yes
		number_of_spouses = 4
	}

	character_modifier = {
		house_relation_change_mult = 0.25
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}

			if = {
				limit = {
					culture_tradition_reduction_trigger = { TRADITION = tradition_tgp_japanese_houses }
				}
				multiply = {
					value = 0.5
					desc = inspired_by_culture_desc
				}
			}

			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 100
	}
}

tradition_cultivation = {
	category = regional

	layers = {
		0 = learning
		1 = asian
		4 = calligraphy.dds
	}

	is_shown = { #Available to Chinese cultures and to cultures influenced by China
		always = no #LotR
		has_tgp_dlc_trigger = yes
		scope:character = {
			OR = {
				# culture = { has_cultural_pillar = heritage_chinese } # LOTR
				has_trait = confucian_education
				government_has_flag = government_has_merit
				# has_title = title:h_china #Always available to new emperors
			}
		}
	}
	
	can_pick = {
		custom_description = {
			text = culture_not_bellicose
			NOT = {
				culture_pillar:ethos_bellicose = { is_in_list = traits }
			}
		}
		NOT = { has_cultural_tradition = tradition_warrior_culture }
	}
	
	parameters = {
		can_always_convert_to_taoism = yes
		mystic_trait_from_education = yes
		mystic_trait_more_common = yes
	}
	character_modifier = {
		life_expectancy = 5
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								has_trait = scholar
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_scholar_desc
				}
			}

			if = {
				limit = {
					scope:character = {
						has_variable = tradition_philosopher_culture_travel_discount
					}
				}

				add = {
					value = tradition_travel_discount
					desc = tradition_travel_discount_desc
				}
			}

			if = {
				limit = {
					culture_tradition_reduction_trigger = { TRADITION = tradition_philosopher_culture }
				}
				multiply = {
					value = 0.5
					desc = inspired_by_culture_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOR = {
					culture_pillar:ethos_communal = { is_in_list = traits }
					culture_pillar:ethos_courtly = { is_in_list = traits }
					culture_pillar:ethos_spiritual = { is_in_list = traits }
				}
			}
			multiply = 0
		}
	}
}


tradition_intensive_farming = {
	category = regional

	layers = {
		0 = steward
		1 = asian
		4 = svamp.dds
	}

	is_shown = {
		has_tgp_dlc_trigger = yes
		OR = {
			# has_cultural_pillar = heritage_chinese # LOTR
			# any_parent_culture_or_above = {
			# 	has_cultural_pillar = heritage_chinese
			# }
		}
		NOR = {
			culture_tradition:tradition_agrarian = { is_in_list = traits }
			culture_tradition:tradition_tgp_rice_cultivators = { is_in_list = traits }
		}
	}
	
	can_pick = {
		custom_tooltip = {
			text = culture_in_farmlands_or_floodplains_terrain_desc
			any_culture_county = {
				county_has_province_with_terrain = {
					terrain = farmlands
					terrain = floodplains
				}
			}
		}
		custom_tooltip = {
			text = cultrad_not_nomadic_government_type
			scope:character = {
				NOT = {
					government_has_flag = government_is_nomadic
				}
			}
		}
	}
	
	parameters = {
		content_trait_more_common = yes
		martial_education_worse_outcomes = yes
		hard_working_traits_more_valued = yes
		rice_cultivators_next_level_paddy_fields = yes
	}
	character_modifier = {
		men_at_arms_recruitment_cost = 0.25
		levy_maintenance = 0.025
	}
	county_modifier = {
		farmlands_development_growth_factor = 0.3
		farmlands_tax_mult = 0.05
		farmlands_levy_size = 0.1
		terraced_hills_development_growth_factor = 0.3
		terraced_hills_tax_mult = 0.05
		terraced_hills_levy_size = 0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					culture_pillar:ethos_bellicose = { is_in_list = traits }
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = culture_not_bellicose
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							count >= 5
							county_has_province_with_terrain = {
								terrain = farmlands
								terrain = floodplains
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_in_farmlands_or_floodplains_terrain_count_desc
				}
			}

			if = {
				limit = {
					culture_tradition_reduction_trigger = { TRADITION = tradition_agrarian }
				}
				multiply = {
					value = 0.5
					desc = inspired_by_culture_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 400
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							count >= 2
							culture = scope:character.culture
							county_has_province_with_terrain = {
								terrain = farmlands
								terrain = floodplains
							}
						}
					}
				}
			}
			multiply = 0
		}
		if = {
			limit = {
				scope:character = {
					government_has_flag = government_is_tribal
				}
			}
			multiply = 0
		}
	}
}
