settle_wilderness_immediately_interaction = {
	category = interaction_debug_realms
	use_diplomatic_range = no
	common_interaction = no
	ignores_pending_interaction_block = yes
	icon = realms_debug
	is_shown = {
		debug_only = yes
		scope:recipient = scope:actor
		scope:recipient = { is_landed = yes }
		scope:actor = {
			any_held_county = {
				title_province = { has_holding_type = settlement_holding }
			}
		}
	}
	
	on_accept = {
		scope:actor = {
			every_held_county = {
				limit = { title_province = { has_holding_type = settlement_holding } title_province = { terrain = halls }}
				title_province = { set_holding_type = dwarven_holding }
				change_development_level = 3
			}
			if = {
				limit = { 
					OR = {
						government_has_flag = government_is_feudal
						government_has_flag = government_is_clan
						government_has_flag = government_is_administrative
					}
				}
				every_held_county = {
					limit = { title_province = { has_holding_type = settlement_holding } }
					title_province = { set_holding_type = castle_holding }
					change_development_level = 3
				}
			} else_if = {
				limit = { government_has_flag = government_is_tribal }
				every_held_county = {
					limit = { title_province = { has_holding_type = settlement_holding } }
					title_province = { set_holding_type = tribal_holding }
					change_development_level = 3
				}
			} else_if = {
				limit = { government_has_flag = government_is_elven }
				every_held_county = {
					limit = { title_province = { has_holding_type = settlement_holding } }
					title_province = { set_holding_type = elven_holding }
					change_development_level = 3
				}
			} else_if = {
				limit = { government_has_flag = government_is_hobbit }
				every_held_county = {
					limit = { title_province = { has_holding_type = settlement_holding } }
					title_province = { set_holding_type = city_holding }
					change_development_level = 3
				}
			}
			
			correct_wastelands_tracker = yes
			remove_upkeep_modifier = yes
			trigger_event = {
				id = wastelands.0007
				days = 1
			}
		}
	}
	
	auto_accept = yes
}

make_tributary_immediately_interaction = {
	category = interaction_debug_realms
	use_diplomatic_range = no
	common_interaction = yes
	ignores_pending_interaction_block = yes
	icon = realms_debug

	is_shown = {
		debug_only = yes
		scope:recipient != scope:actor
		scope:recipient = { is_landed = yes highest_held_title_tier > tier_barony }
		scope:actor = { is_landed = yes highest_held_title_tier > tier_barony }
	}
	
	can_send = {
		always = yes
	}

	# Release vassal as tributary state
	send_option = {		
		flag = tributary_state
		localization = tributary_state
		starts_enabled = { always = yes	}
	}

	# Release vassal as protectorate
	send_option = {		
		flag = protectorate_state
		localization = protectorate_state
	}

	auto_accept = yes

	on_accept = {
		if = {
			limit = { scope:recipient = { is_tributary = yes } }
			scope:recipient = { end_tributary = yes }
		}

		
		# The options (in-game) show up really weird if "else if" is used, so using multiple "if" statements is better in this situation
		if = { # Tributary state
			limit = { scope:tributary_state = yes }
			custom_tooltip = {
				text = lotr_release_as_tributary_state_effect_tt
				scope:recipient = {
					start_tributary = {
						contract_group = tributary_subjugated
						suzerain = scope:actor
					}
				}
			}
		}
		if = { # Protectorate state
			limit = { scope:protectorate_state = yes }
			custom_tooltip = {
				text = lotr_release_as_protectorate_state_effect_tt
				scope:recipient = {
					start_tributary = {
						contract_group = tributary_protectorate
						suzerain = scope:actor
					}
				}
			}
		}
	}
	
	auto_accept = yes
}

change_hope_debug_interaction = { # Gain or Lose 100 Hope
	category = interaction_debug_realms
	use_diplomatic_range = no
	common_interaction = no
	ignores_pending_interaction_block = yes
	icon = realms_debug

	is_shown = {
		debug_only = yes
		scope:recipient = scope:actor
		scope:actor = { is_elf = yes }
	}
	
	send_option = { # Add 100 Hope
		flag = gain_big_hope
		localization = change_hope_debug_interaction.a
	}
	send_option = { # Lose 100 Hope
		flag = lose_big_hope
		localization = change_hope_debug_interaction.b
	}
	on_accept = {
		if = { # Add 100 Hope
			limit = { scope:gain_big_hope = yes }
			scope:actor = { add_elven_hope_debug = yes }
		}
		else_if = { # Lose 100 Hope
			limit = { scope:lose_big_hope = yes }
			scope:actor = { subtract_elven_hope_debug = yes }
		}
	}
	auto_accept = yes
}

lotr_change_every_county = { # Do something in every county
	category = interaction_debug_realms
	use_diplomatic_range = no
	ignores_pending_interaction_block = yes
	icon = alliance

	is_shown = { debug_only = yes }
	send_option = { # Change Culture
		flag = lotr_change_every_county_culture
		localization = lotr_change_every_county.a
	}
	send_option = { # Change Faith
		flag = lotr_change_every_county_faith
		localization = lotr_change_every_county.b
	}
	send_option = { # Add Development
		flag = lotr_change_every_county_gain_dev
		localization = lotr_change_every_county.c
	}
	send_option = { # Remove Development
		flag = lotr_change_every_county_lose_dev
		localization = lotr_change_every_county.d
	}

	on_accept = { 
		if = { # Change Culture
			limit = { scope:lotr_change_every_county_culture = yes }
			scope:recipient = { every_held_county = { set_county_culture = scope:actor.culture } }
		}
		else_if = { # Change Faith
			limit = { scope:lotr_change_every_county_faith = yes }
			scope:recipient = { every_held_county = { set_county_faith = scope:actor.faith } }
		}
		else_if = { # Add Development
			limit = { scope:lotr_change_every_county_gain_dev = yes }
			scope:recipient = { every_held_county = { change_development_level = 10 } }
		}
		else_if = { # Remove Development
			limit = { scope:lotr_change_every_county_lose_dev = yes }
			scope:recipient = { every_held_county = { change_development_level = -10 } }
		}
	}

	auto_accept = yes
	ai_accept = {
		base = 100
	}
}

lotr_change_government_debug = { # Switch to any government
	category = interaction_debug_realms
	use_diplomatic_range = no
	ignores_pending_interaction_block = yes
	icon = independence

	is_shown = { debug_only = yes }
	send_option = { # Orcish
		flag = lotr_change_gov_orcish
		localization = lotr_change_gov.orcish
	}
	send_option = { # Elven
		flag = lotr_change_gov_elven
		localization = lotr_change_gov.elven
	}
	send_option = { # Hobbit
		flag = lotr_change_gov_hobbit
		localization = lotr_change_gov.hobbit
	}
	send_option = { # Oligarchy
		flag = lotr_change_gov_oligarchy
		localization = lotr_change_gov.oligarchy
	}
	send_option = { # Feudal
		flag = lotr_change_gov_feudal
		localization = lotr_change_gov.feudal
	}
	send_option = { # Clan 
		flag = lotr_change_gov_clan
		localization = lotr_change_gov.clan
	}
	send_option = { # Tribal 
		flag = lotr_change_gov_tribal
		localization = lotr_change_gov.tribal
	}
	send_option = { # Wanua 
		is_shown = {
			scope:actor = { has_tgp_dlc_trigger = yes }
		}
		flag = lotr_change_gov_wanua
		localization = lotr_change_gov.wanua
	}
	send_option = { # Mandala 
		is_shown = {
			scope:actor = { has_tgp_dlc_trigger = yes }
		}
		flag = lotr_change_gov_mandala
		localization = lotr_change_gov.mandala
	}
	send_option = { # Admin 
		is_shown = {
			scope:actor = { has_ep3_dlc_trigger = yes }
		}
		flag = lotr_change_gov_admin
		localization = lotr_change_gov.admin
	}
	send_option = { # Meritocratic 
		is_shown = {
			scope:actor = { has_tgp_dlc_trigger = yes }
		}
		flag = lotr_change_gov_meritocratic
		localization = lotr_change_gov.meritocratic
	}
	# send_option = { # Soryo 
		# is_shown = {
			# scope:actor = { has_tgp_dlc_trigger = yes }
		# }
		# flag = lotr_change_gov_soryo
		# localization = lotr_change_gov.soryo
	# }
	# send_option = { # Ritsuryo 
		# is_shown = {
			# scope:actor = { has_tgp_dlc_trigger = yes }
		# }
		# flag = lotr_change_gov_ritsuryo
		# localization = lotr_change_gov.ritsuryo
	# }

	on_accept = { 
		if = { # Orcish
			limit = { scope:lotr_change_gov_orcish = yes }
			scope:recipient = { change_government = orcish_government }
		}
		else_if = { # Elven
			limit = { scope:lotr_change_gov_elven = yes }
			if = { 
				limit = { 
					scope:recipient = {
						OR = {
							has_government = tribal_government
							has_government = wanua_government
						}
					}
				}
				scope:recipient = { convert_whole_realm_to_feudalism_effect = yes }
			}
			scope:recipient = { 
				every_realm_province = {
					limit = {
						has_holding = yes 
						NOT = { has_holding_type = settlement_holding }
					}
					set_holding_type = elven_holding
				}
			}
			scope:recipient = { change_government = elven_government }
		}
		else_if = { # Hobbit
			limit = { scope:lotr_change_gov_hobbit = yes }
			if = { 
				limit = { 
					scope:recipient = {
						OR = {
							has_government = tribal_government
							has_government = wanua_government
						}
					}
				}
				scope:recipient = { convert_whole_realm_to_feudalism_effect = yes }
			}
			scope:recipient = { 
				capital_province = { set_holding_type = city_holding }
			}
			scope:recipient = { change_government = hobbit_government }
		}
		else_if = { # Oligarchy
			limit = { scope:lotr_change_gov_oligarchy = yes }
			if = { 
				limit = { 
					scope:recipient = {
						OR = {
							has_government = tribal_government
							has_government = wanua_government
						}
					}
				}
				scope:recipient = { convert_whole_realm_to_feudalism_effect = yes }
			}
			scope:recipient = { 
				change_government = oligarchy_government 
				primary_title = { add_title_law = oligarchic_elective_succession_law }
				capital_province = {
					if = {
						limit = {
							OR = {
								has_holding_type = tribal_holding
								has_holding_type = herder_holding
								has_holding_type = nomad_holding
								has_holding_type = elven_holding
							}
						}
						set_holding_type = city_holding
					}
				}
			}
		}
		else_if = { # Feudal
			limit = { scope:lotr_change_gov_feudal = yes }
			if = { 
				limit = { 
					scope:recipient = {
						OR = {
							has_government = tribal_government
							has_government = wanua_government
						}
					}
				}
				scope:recipient = { convert_whole_realm_to_feudalism_effect = yes }
			}
			scope:recipient = { 
				change_government = feudal_government
				capital_province = {
					if = {
						limit = {
							OR = {
								has_holding_type = tribal_holding
								has_holding_type = herder_holding
								has_holding_type = nomad_holding
								has_holding_type = elven_holding
							}
						}
						set_holding_type = castle_holding
					}
				}
			}				
		}
		else_if = { # Clan
			limit = { scope:lotr_change_gov_clan = yes }
			if = { 
				limit = { 
					scope:recipient = {
						OR = {
							has_government = tribal_government
							has_government = wanua_government
						}
					}
				}
				scope:recipient = { convert_whole_realm_to_feudalism_effect = yes }
			}
			scope:recipient = { 
				change_government = clan_government 
				capital_province = {
					if = {
						limit = {
							OR = {
								has_holding_type = tribal_holding
								has_holding_type = herder_holding
								has_holding_type = nomad_holding
								has_holding_type = elven_holding
							}
						}
						set_holding_type = castle_holding
					}
				}
			}
		}
		else_if = { # Tribal
			limit = { scope:lotr_change_gov_tribal = yes }
			scope:recipient = { 
				change_government = tribal_government
				hidden_effect = {
					add_character_flag = {
						flag = just_converted_to_tribalism
						years = 5
					}
				}
				every_realm_province = { 
					limit = {
						NOT = { has_holding_type = tribal_holding }
						NOT = { has_holding_type = settlement_holding }
					}
					set_holding_type = tribal_holding 
				}
			}
		}
		else_if = { # Wanua
			limit = { scope:lotr_change_gov_wanua = yes }
			scope:recipient = { 
				change_government = wanua_government
				hidden_effect = {
					add_character_flag = {
						flag = just_converted_to_tribalism
						years = 5
					}
				}
				every_realm_province = { 
					limit = {
						NOT = { has_holding_type = tribal_holding }
						NOT = { has_holding_type = settlement_holding }
					}
					set_holding_type = tribal_holding 
				}
			}
		}
		else_if = { # Mandala
			limit = { scope:lotr_change_gov_mandala = yes }
			if = { 
				limit = { 
					scope:recipient = {
						OR = {
							has_government = tribal_government
							has_government = wanua_government
						}
					}
				}
				hidden_effect = { scope:recipient = { convert_whole_realm_to_feudalism_effect = yes } }
			}
			scope:recipient = { 
				change_to_mandala_government_decree_effect = yes
				set_variable = {
					name = not_subject_to_succession_trials
					value = flag:adopted_mandala_government
				}
				if = {
					limit = { var:not_subject_to_succession_trials ?= flag:adopted_mandala_government }
				}
				show_as_tooltip = {
					change_government = mandala_government
				}
				if = {
					limit = { has_variable = vying_for_mandala_divinity }
					custom_description_no_bullet = { text = because_of_your_divine_happenstance_tt }
					show_as_tooltip = { divine_happenstance_adopt_mandala_effect = yes }
				}
				if = {
					limit = {
						culture = {
							has_cultural_parameter = mandala_tributaries 
						}
						exists = confederation
					}
					custom_tooltip = confederates_to_tributaries_tt
				}
				trigger_event = tgp_east_asia_decision_events.0010
				hidden_effect = {
					every_vassal = {
						trigger_event = {
							id = tgp_east_asia_decision_events.0015
							days = 3
						}
					}
				} 
			}
		}
		else_if = { # Admin
			limit = { scope:lotr_change_gov_admin = yes }
			if = { 
				limit = { 
					scope:recipient = {
						OR = {
							has_government = tribal_government
							has_government = wanua_government
						}
					}
				}
				scope:recipient = { convert_whole_realm_to_feudalism_effect = yes }
			}
			scope:recipient = { 
				change_government = administrative_government
				if = {
					limit = { NOT = { any_held_title = { is_noble_family_title = yes } } }
					create_noble_family_effect = { GOVERNMENT_GIVER = this }
				}
				tgp_domicile_conversion_when_changing_government_type = {
					NEW_DOMICILE_TYPE = estate
					NEW_GOVERNMENT_TYPE = administrative_government
				}
				capital_province = {
					if = {
						limit = {
							OR = {
								has_holding_type = tribal_holding
								has_holding_type = herder_holding
								has_holding_type = nomad_holding
								has_holding_type = elven_holding
							}
						}
						set_holding_type = castle_holding
					}
				}
			}
		}
		else_if = { # Meritocratic
			limit = { scope:lotr_change_gov_meritocratic = yes }
			if = { 
				limit = { 
					scope:recipient = {
						OR = {
							has_government = tribal_government
							has_government = wanua_government
						}
					}
				}
				scope:recipient = { convert_whole_realm_to_feudalism_effect = yes }
			}
			scope:recipient = { 
				change_government = meritocratic_government
				if = {
					limit = { NOT = { any_held_title = { is_noble_family_title = yes } } }
					create_noble_family_effect = { GOVERNMENT_GIVER = this }
				}
				tgp_domicile_conversion_when_changing_government_type = {
					NEW_DOMICILE_TYPE = east_asian_estate
					NEW_GOVERNMENT_TYPE = meritocratic_government
				}
				capital_province = {
					if = {
						limit = {
							OR = {
								has_holding_type = tribal_holding
								has_holding_type = herder_holding
								has_holding_type = nomad_holding
								has_holding_type = elven_holding
							}
						}
						set_holding_type = castle_holding
					}
				}
			}
		}
		# else_if = { # Soryo
			# limit = { scope:lotr_change_gov_soryo = yes }
			# if = { 
				# limit = { 
					# scope:recipient = {
						# OR = {
							# has_government = tribal_government
							# has_government = wanua_government
						# }
					# }
				# }
				# scope:recipient = { convert_whole_realm_to_feudalism_effect = yes }
			# }
			# scope:recipient = { 
				# change_government = japan_feudal_government
				# if = {
					# limit = { NOT = { any_held_title = { is_noble_family_title = yes } } }
					# create_noble_family_effect = { GOVERNMENT_GIVER = this }
				# }
				# tgp_domicile_conversion_when_changing_government_type = {
					# NEW_DOMICILE_TYPE = japanese_manor
					# NEW_GOVERNMENT_TYPE = japan_administrative_government
				# }
				# capital_province = {
					# if = {
						# limit = {
							# OR = {
								# has_holding_type = tribal_holding
								# has_holding_type = herder_holding
								# has_holding_type = nomad_holding
								# has_holding_type = elven_holding
							# }
						# }
						# set_holding_type = castle_holding
					# }
				# }
			# }
		# }
		# else_if = { # Ritsuryo
			# limit = { scope:lotr_change_gov_ritsuryo = yes }
			# if = { 
				# limit = { 
					# scope:recipient = {
						# OR = {
							# has_government = tribal_government
							# has_government = wanua_government
						# }
					# }
				# }
				# scope:recipient = { convert_whole_realm_to_feudalism_effect = yes }
			# }
			# scope:recipient = { 
				# change_government = japan_administrative_government
				# if = {
					# limit = { NOT = { any_held_title = { is_noble_family_title = yes } } }
					# create_noble_family_effect = { GOVERNMENT_GIVER = this }
				# }
				# tgp_domicile_conversion_when_changing_government_type = {
					# NEW_DOMICILE_TYPE = japanese_manor
					# NEW_GOVERNMENT_TYPE = japan_administrative_government
				# }
				# capital_province = {
					# if = {
						# limit = {
							# OR = {
								# has_holding_type = tribal_holding
								# has_holding_type = herder_holding
								# has_holding_type = nomad_holding
								# has_holding_type = elven_holding
							# }
						# }
						# set_holding_type = castle_holding
					# }
				# }
			# }
		# }
	}

	auto_accept = yes
	ai_accept = {
		base = 100
	}
}

lotr_trigger_sunset_invasion = { # Spawn Sunset Invasion
	category = interaction_debug_realms
	use_diplomatic_range = no
	ignores_pending_interaction_block = yes
	icon = icon_combat

	is_shown = { debug_only = yes }
	send_option = { # Eonwe
		flag = sunset_invasion_eonwe
		is_valid = {
			scope:actor = { faith_is_evil = yes }
		}
		localization = sunset_invasion.eonwe
	}
	send_option = { # Pharazôn
		flag = sunset_invasion_pharazon
		is_valid = {
			scope:actor = { faith_is_good = yes }
		}
		localization = sunset_invasion.pharazon
	}
	# send_option = { # Ciryatur
		# flag = sunset_invasion_ciryatur
		# localization = sunset_invasion.ciryatur
	# }
	# send_option = { # Noldor
		# flag = sunset_invasion_noldor
		# localization = sunset_invasion.noldor
	# }
	send_option = { # Amav
		flag = sunset_invasion_amav
		localization = sunset_invasion.amav
	}

	on_accept = { 
        scope:recipient = {
            save_scope_as = largest_realm_ruler
        }
		if = { # Eonwe
			limit = { scope:sunset_invasion_eonwe = yes }
			custom_tooltip = {
				text = sunset_invasion.eonwe.tt
				scope:largest_realm_ruler = { 
					sunset_invasion_general_effect = {
						GEOGRAPHICAL_REGION = valinor_invasion_region
						GRAB_LANDING_COUNTY_EFFECT = valinor_invasion_grab_landing_county
						REVIVE_DEAD_CHARACTER_EFFECT = "#" #Do nothing
						INVASION_LANDING_EFFECT = valinor_invasion_landing_effect
						START_INVASION_WAR_EFFECT = valinor_invasion_start_invasion_war
					}
				}
			}
		}
		else_if = { # Pharazôn
			limit = { scope:sunset_invasion_pharazon = yes }
			custom_tooltip = {
				text = sunset_invasion.pharazon.tt
				scope:largest_realm_ruler = { 
					sunset_invasion_general_effect = {
						GEOGRAPHICAL_REGION = pharazon_invasion_region
						GRAB_LANDING_COUNTY_EFFECT = pharazon_invasion_grab_landing_county
						REVIVE_DEAD_CHARACTER_EFFECT = pharazon_invasion_revive_pharazon
						INVASION_LANDING_EFFECT = pharazon_invasion_landing_effect
						START_INVASION_WAR_EFFECT = pharazon_invasion_start_invasion_war
					}
				}
			}
		}
		else_if = { # Amav
			limit = { scope:sunset_invasion_amav = yes }
			custom_tooltip = {
				text = sunset_invasion.amav.tt
				scope:largest_realm_ruler = { 
					sunset_invasion_general_effect = {
						GEOGRAPHICAL_REGION = amav_invasion_region
						GRAB_LANDING_COUNTY_EFFECT = amav_invasion_grab_landing_county
						REVIVE_DEAD_CHARACTER_EFFECT = amav_invasion_revive_amav
						INVASION_LANDING_EFFECT = amav_invasion_landing_effect
						START_INVASION_WAR_EFFECT = amav_invasion_start_invasion_war
					}
				}
			}
		}
	}

	auto_accept = yes
	ai_accept = {
		base = 100
	}
}

lotr_end_truces = { # Insta-End all Truces between you and target
	category = interaction_debug_realms
	use_diplomatic_range = no
	common_interaction = no
	ignores_pending_interaction_block = yes
	icon = icon_contract_modification_single

	is_shown = {
		debug_only = yes
		scope:recipient = {
			OR = {
				any_truce_holder = {
					this = scope:actor
				}
				any_truce_target = {
					this = scope:actor
				}
			}
		}
	}
	
	on_accept = {
		scope:recipient = { cancel_truce_both_ways = scope:actor }
		hidden_effect = {
			scope:actor = {
				send_interface_toast = {
					type = event_toast_effect_good
					title = lotr_end_truces_notification
					left_icon = scope:actor					
					right_icon = scope:recipient
					scope:recipient = {
						show_as_tooltip = {
							cancel_truce_both_ways = scope:actor
						}
					}
				}
			}
		}
	}
	auto_accept = yes
}