### Sauron Decisions ###
decision_construct_grond = {
	title = decision_construct_grond
	picture = "gfx/interface/illustrations/decisions/decision_grond.dds"
	major = no
	ai_goal = yes
	cooldown = { days = 7300 }
	ai_potential = {
		always = yes
	}
	ai_will_do = {
		base = 100
	}
	selection_tooltip = decision_construct_tool_tip
	desc = decision_construct_desc
	confirm_text = decision_construct_confirm
	is_shown = {
		is_ruler = yes
		is_landed = yes
		has_title = title:e_mordor
		religion = { is_in_family = rf_forcesofevil }
	}
	is_valid = {
		is_independent_ruler = yes	}
	cost = {
		gold = 1000
	}
	effect = {
		custom_tooltip = decision_construct_tool_tip_2
		trigger_event = {
			id = sauron.0511
			days = { 60 365 }
		}
	}
}

decision_invade_gondor = {
	title = decision_invade_gondor
	picture = "gfx/interface/illustrations/decisions/decision_siege_of_gondor.dds"
	major = yes
	ai_goal = yes
	ai_potential = {
		always = yes
	}
	ai_will_do = {
		base = 100
		modifier = { # AI will not attempt unless Gondor is weaker
			factor = 0
			exists = title:e_gondor.holder
			root.total_strength < title:e_gondor.holder.total_strength
		}
		modifier = {
			factor = 0
			exists = title:e_gondor_steward.holder
			root.total_strength < title:e_gondor_steward.holder.total_strength
		}
		modifier = {
			factor = 0
			exists = title:e_castamir.holder
			root.total_strength < title:e_castamir.holder.total_strength
		}
	}
	selection_tooltip = decision_invade_gondor_tooltip
	desc = decision_invade_gondor_desc
	confirm_text = decision_invade_gondor_confirm

	cooldown = { years = 20 }

	is_shown = {
		is_ruler = yes
		is_landed = yes
		has_title = title:e_mordor
		NOR = { #to prevent sauron who conquered gondor already from destroying himself
			has_title = title:e_gondor
			has_title = title:e_castamir
		}
		is_sauron = yes
		#religion = { is_in_family = rf_forcesofevil }
		faith_is_evil = yes
		OR = {
			exists = title:e_gondor
			exists = title:e_gondor_steward
			exists = title:e_castamir
		}
		# NOT = {
		# 	is_target_in_global_variable_list = {
		# 		name = unavailable_unique_decisions
		# 		target = flag:invade_gondor_decision
		# 	}
		# }
	}
	is_valid = {
		prestige_level >= very_high_prestige_level
		completely_controls = title:e_mordor
		completely_controls = title:d_forithilien
		completely_controls = title:d_emyn_arnen
		completely_controls = title:d_harithilien
		completely_controls = title:d_minas_ithil
	}
	is_valid_showing_failures_only = {
		is_imprisoned = no
		is_available_adult = yes
		is_at_war = no
		NOR = {
			AND = {
				exists = title:e_gondor_steward.holder
				has_truce = title:e_gondor_steward.holder
			}
			AND = {
				exists = title:e_gondor.holder
				has_truce = title:e_gondor.holder
			}
			AND = {
				exists = title:e_castamir.holder
				has_truce = title:e_castamir.holder
			}
		}
	}
	effect = {
		custom_tooltip = invade_gondor_decision
		trigger_event = {
			id = sauron.2000
		}
		# add_to_global_variable_list = {
		# 	name = unavailable_unique_decisions
		# 	target = flag:invade_gondor_decision
		# }
	}
}

decision_recall_golden_king = {
	title = decision_recall_golden_king
	picture = "gfx/interface/illustrations/decisions/decision_siege_of_gondor.dds"
	major = yes
	ai_goal = yes
	ai_potential = {
		always = yes
	}
	ai_will_do = {
		base = 100
	}
	selection_tooltip = decision_recall_golden_king_tooltip
	desc = decision_recall_golden_king_desc
	confirm_text = decision_recall_golden_king_confirm
	is_shown = {
		is_ruler = yes
		is_landed = yes
		has_title = title:e_mordor
		religion = { is_in_family = rf_forcesofevil }
		is_sauron = yes
		NOT = {
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:recall_golden_king
			}
		}
		character:goldenking1 = {
			is_alive = yes
			is_independent_ruler = yes
			OR = {
				realm_size > 62
				current_year > 7047
			}
		}
		has_game_rule = golden_king_recallable
	}
	is_valid = {
		trigger_if = {
			limit = { is_ai = yes }
			current_year > 7047 # T.A. 3014, five years before the war of the ring
		}
		trigger_else = {
			always = yes
		}
	}
	
	effect = {
		custom_tooltip = recall_golden_king
		save_scope_as = sauron
		character:goldenking1 = {
			save_scope_as = golden_king
		}
		scope:golden_king = {
			trigger_event = {
				id = sauron.1000
				days = 1
			}
		}
		add_to_global_variable_list = {
			name = unavailable_unique_decisions
			target = flag:recall_golden_king
		}
	}
}