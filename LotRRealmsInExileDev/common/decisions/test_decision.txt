wild_goose_chase_decision = {
	decision_group_type = debug

	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_major_religion.dds"
	}
	is_shown = {
		debug_only = yes
		always = no #LotR
	}

	is_valid_showing_failures_only = {
		is_available_adult_or_is_commanding = yes
	}
	effect = {
		custom_tooltip = wild_goose_chase_decision_effect_tooltip
		remove_short_term_gold = 13
		add_stress = 20
		gain_trait_or_experience_effect = { TRAIT = confucian_education AMOUNT = 5 }
		if = {
			limit = { has_trait = confucian_education }
			add_trait_xp = {
				trait = confucian_education
				value = 5
			}
		}
		else = {
			add_trait = confucian_education
		}
		if = {
			limit = { has_trait = pilgrim }
			add_trait_xp = {
				trait = pilgrim
				value = 5
			}
		}
		else = {
			add_trait = pilgrim
		}
	}

	ai_check_interval = 0
}


# Have our own house become the leading house of the confederation
become_leading_house_of_the_confederation_decision = {
	decision_group_type = debug

	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_dynasty_house.dds"
	}

	is_shown = {
		debug_only = yes
		exists = confederation
		confederation.leading_house != root.house
	}

	effect = {
		confederation = {
			tgp_bloc_set_leading_house_effect = { HOUSE = root.house }
		}
	}

	ai_check_interval = 0
}


# Rid our beloved of any bossy 'leading house'
clear_our_confederations_leading_house_decision = {
	decision_group_type = debug

	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_dynasty_house.dds"
	}

	is_shown = {
		debug_only = yes
		confederation ?= {
			has_leading_house = yes
		}
	}

	effect = {
		confederation = {
			clear_leading_house = yes
		}
	}

	ai_check_interval = 0
}


# Change the cohesion for the confederation/bloc that the acting character is in.
adjust_confederation_cohesion_decision = {
	decision_group_type = debug

	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_dynasty_house.dds"
	}

	is_shown = {
		always = no # use debug_change_bloc_cohesion
		debug_only = yes
		confederation ?= {
			has_cohesion = yes
		}
	}

	effect = {
		confederation = {
			change_cohesion = 17
			#set_cohesion = 0
			#set_cohesion = 50
			#set_cohesion = 100
			#change_cohesion = 30
			#change_cohesion = -30
			#^ uncomment to test different variants
		}
	}

	ai_check_interval = 0
}


# Change all relations of the acting characters house by one whole step.
change_all_house_relations_decision = {
	decision_group_type = debug
	is_shown = {
		debug_only = yes
	}

	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_dynasty_house.dds"
	}

	widget = {
		gui = "decision_view_widget_option_list_generic"
		controller = decision_option_list_controller
		decision_to_second_step_button = "change_all_house_relations_decision_confirm"
		show_from_start = yes

		# Increase a by full step
		item = {
			value = improve_house_relation_by_full_step
			is_valid = { always = yes }
			localization = improve_house_relation_by_full_step
			icon = "gfx/interface/icons/message_feed/activity.dds"
			ai_chance = { value = 0 }
		}

		# Increase a by two thirds third of a step
		item = {
			value = improve_house_relation_by_two_thirds_of_a_step
			is_valid = { always = yes }
			localization = improve_house_relation_by_two_thirds_of_a_step
			icon = "gfx/interface/icons/message_feed/activity.dds"
			ai_chance = { value = 0 }
		}

		# Deteriorate a by two thirds third of a step
		item = {
			value = deteriorate_house_relation_by_two_thirds_of_a_step
			is_valid = { always = yes }
			localization = deteriorate_house_relation_by_two_thirds_of_a_step
			icon = "gfx/interface/icons/message_feed/activity.dds"
			ai_chance = { value = 0 }
		}

		# Deteriorate a by full step
		item = {
			value = deteriorate_house_relation_by_full_step
			is_valid = { always = yes }
			localization = deteriorate_house_relation_by_full_step
			icon = "gfx/interface/icons/message_feed/activity.dds"
			ai_chance = { value = 0 }
		}
	}

	effect = {
		house = {
			every_house_relation = {
				# Increase a by full step
				if = {
					limit = { scope:improve_house_relation_by_full_step = yes }
					change_house_relation_level = {
						steps = 1
						description = house_relation_changed_by_debug_decision
					}
				}

				# Increase a by two thirds of a step
				else_if = {
					limit = { scope:improve_house_relation_by_two_thirds_of_a_step = yes }
					change_house_relation_level = {
						steps = 0.67
						description = house_relation_changed_by_debug_decision
					}
				}

				# Decrease a by two thirds of a step
				else_if = {
					limit = { scope:deteriorate_house_relation_by_two_thirds_of_a_step = yes }
					change_house_relation_level = {
						steps = -0.67
						description = house_relation_changed_by_debug_decision
					}
				}

				# Decrease a by full step
				else_if = {
					limit = { scope:deteriorate_house_relation_by_full_step = yes }
					change_house_relation_level = {
						steps = -1
						description = house_relation_changed_by_debug_decision
					}
				}
			}
		}
	}

	ai_check_interval = 0
}


chinese_concubines_decision = {
	decision_group_type = debug

	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_major_religion.dds"
	}
	is_shown = {
		debug_only = yes
		allowed_concubines = yes
	}

	is_valid_showing_failures_only = {
		has_title = title:h_china #LotR
	}

	effect = {
		custom_tooltip = {
			text = give_me_concubines.tt
			
			#Since this is a debug decision we don't think too hard about performance


			while = {
				limit = {
					allowed_more_concubines = yes
				}
				random_vassal = {
					limit = {
						any_courtier_or_guest = {
							is_adult = yes
							is_concubine = no
							is_married = no
							trigger_if = {
								limit = { root = { is_female = no } }
								is_female = yes
							}
							trigger_else = {
								is_female = no
							}
						}
					}
					random_courtier_or_guest = {
						limit = {
							is_adult = yes
							is_concubine = no
							is_married = no
							trigger_if = {
								limit = { root = { is_female = no } }
								is_female = yes
							}
							trigger_else = {
								is_female = no
							}
						}
						root = { make_concubine = prev }
					}
				}
			}
		}
	}

	ai_check_interval = 0
}


# Add a random geographical region to a random situation sub-region of 'The Great Steppe'.
add_to_steppe_decision = {
	decision_group_type = debug

	is_shown = {
		debug_only = yes
	}
	is_valid_showing_failures_only = {
		always = yes
	}

	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_misc.dds"
	}

	effect = {
		situation:the_great_steppe = {
			random_situation_sub_region = {
				save_scope_as = the_sub_region
			}
		}

		random_geographical_region = {
			save_scope_as =the_geo_region
		}

		scope:the_sub_region = {
			add_geographical_region =  scope:the_geo_region
		}

		debug_log_scopes = yes
	}

	ai_check_interval = 0
}


# Remove a random geographical region from 'The Great Steppe' to see that things are updated properly.
remove_from_steppe_decision = {
	decision_group_type = debug

	is_shown = {
		debug_only = yes
	}
	is_valid_showing_failures_only = {
		always = yes
	}

	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_misc.dds"
	}

	effect = {
		situation:the_great_steppe = {
			random_situation_sub_region = {
				save_scope_as = the_sub_region
			}
		}

		scope:the_sub_region = {
			random_situation_sub_region_geographical_region = {
				save_scope_as = the_geo_region
			}
		}

		scope:the_sub_region = {
			remove_geographical_region = scope:the_geo_region
		}

		debug_log_scopes = yes
	}

	ai_check_interval = 0
}
