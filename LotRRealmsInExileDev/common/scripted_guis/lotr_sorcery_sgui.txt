lotr_sorcery_start_variables = {
	effect = {
		if = {
			limit = { is_available_adult = yes }
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		}
	}
}

###########################
###						###
###		Death Spels 	###
###						###
###########################

######################
### Life Extension ###
######################

life_extension_01 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		has_perk = 1_perk
		is_available_adult = yes
		is_nazgul = no
		is_istari = no
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

life_extension_02 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 1_perk
		has_trait_xp = {
			trait = sorcerer_trait
			track = death_magic
			value >= 65
		}
		is_nazgul = no
		is_istari = no
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

life_extension_03 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 1_perk
		has_trait_xp = {
			trait = sorcerer_trait
			track = death_magic
			value >= 100
		}
		is_nazgul = no
		is_istari = no
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

###########################
### Raise Undead Hordes ###
###########################

raise_undead_hordes_01 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 13_perk
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

raise_undead_hordes_02 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 13_perk
		has_trait_xp = {
			trait = sorcerer_trait
			track = death_magic
			value >= 65
		}
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

raise_undead_hordes_03 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 13_perk
		has_trait_xp = {
			trait = sorcerer_trait
			track = death_magic
			value >= 100
		}
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

##################
### Pestilence ###
##################

pestilence_01 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 22_perk
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

pestilence_02 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 22_perk
		has_trait_xp = {
			trait = sorcerer_trait
			track = death_magic
			value >= 65
		}
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

pestilence_03 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 22_perk
		has_trait_xp = {
			trait = sorcerer_trait
			track = death_magic
			value >= 100
		}
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

#######################
### Blighting Lands ###
#######################

blighting_lands_01 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 25_perk
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

blighting_lands_02 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 25_perk
		has_trait_xp = {
			trait = sorcerer_trait
			track = death_magic
			value >= 65
		}
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

blighting_lands_03 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 25_perk
		has_trait_xp = {
			trait = sorcerer_trait
			track = death_magic
			value >= 100
		}
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

###########################
###						###
###	  Deception Spels   ###
###						###
###########################

##################
### Corrutpion ###
##################

corruption_01 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 2_perk
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

corruption_02 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 2_perk
		has_trait_xp = {
			trait = sorcerer_trait
			track = deception_magic
			value >= 65
		}
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

corruption_03 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 2_perk
		has_trait_xp = {
			trait = sorcerer_trait
			track = deception_magic
			value >= 100
		}
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

###################
### Fair Visage ###
###################

fair_visage_01 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 19_perk
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

fair_visage_02 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 19_perk
		has_trait_xp = {
			trait = sorcerer_trait
			track = deception_magic
			value >= 65
		}
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

fair_visage_03 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 19_perk
		has_trait_xp = {
			trait = sorcerer_trait
			track = deception_magic
			value >= 100
		}
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

####################
### Enfeeblement ###
####################

enfeeblement_01 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 20_perk
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

enfeeblement_02 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 20_perk
		has_trait_xp = {
			trait = sorcerer_trait
			track = deception_magic
			value >= 65
		}
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

enfeeblement_03 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 20_perk
		has_trait_xp = {
			trait = sorcerer_trait
			track = deception_magic
			value >= 100
		}
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

######################
### Dark Influence ###
######################

dark_influence_01 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 23_perk
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

dark_influence_02 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 23_perk
		has_trait_xp = {
			trait = sorcerer_trait
			track = deception_magic
			value >= 65
		}
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

dark_influence_03 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 23_perk
		has_trait_xp = {
			trait = sorcerer_trait
			track = deception_magic
			value >= 100
		}
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

#############################
###						  ###
###	  Destruction Spels   ###
###						  ###
#############################

########################
### Dark Empowerment ###
########################

dark_empowerment_01 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 3_perk
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

dark_empowerment_02 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 3_perk
		has_trait_xp = {
			trait = sorcerer_trait
			track = destruction_magic
			value >= 65
		}
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

dark_empowerment_03 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 3_perk
		has_trait_xp = {
			trait = sorcerer_trait
			track = destruction_magic
			value >= 100
		}
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

########################
### Invoke Watchers ###
########################

invoke_watchers_01 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 18_perk
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

invoke_watchers_02 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 18_perk
		has_trait_xp = {
			trait = sorcerer_trait
			track = destruction_magic
			value >= 65
		}
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

invoke_watchers_03 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 18_perk
		has_trait_xp = {
			trait = sorcerer_trait
			track = destruction_magic
			value >= 100
		}
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

#######################
### Endless Hordes  ###
#######################

endless_hordes_01 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 21_perk
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

endless_hordes_02 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 21_perk
		has_trait_xp = {
			trait = sorcerer_trait
			track = destruction_magic
			value >= 65
		}
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

endless_hordes_03 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 21_perk
		has_trait_xp = {
			trait = sorcerer_trait
			track = destruction_magic
			value >= 100
		}
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

###################
### Dark Beasts ###
###################

dark_beasts_01 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 26_perk
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

dark_beasts_02 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 26_perk
		has_trait_xp = {
			trait = sorcerer_trait
			track = destruction_magic
			value >= 65
		}
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}

dark_beasts_03 = {
	saved_scopes = { spell_scope }
	is_shown = {
		trigger_if = {
			limit = { has_variable = spell_selected }
			var:spell_selected = scope:spell_scope
		} trigger_else = { always = no }
	}
	is_valid = {
		is_available_adult = yes
		has_perk = 26_perk
		has_trait_xp = {
			trait = sorcerer_trait
			track = destruction_magic
			value >= 100
		}
	}
	effect = {
		if = {
			limit = {
				has_variable = spell_selected
				var:spell_selected = scope:spell_scope
			}
			remove_variable = spell_selected
			set_variable = {
				name = spell_selected
				value = flag:default
			}
		} else = { 
			remove_variable = spell_selected
			set_variable = { name = spell_selected value = scope:spell_scope }
		}
	}
}