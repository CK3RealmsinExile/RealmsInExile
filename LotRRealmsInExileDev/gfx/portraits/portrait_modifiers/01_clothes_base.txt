# Valid culture inputs

# CULTURE_INPUT = dde_abbasid
# CULTURE_INPUT = dde_hre
# CULTURE_INPUT = byzantine
# CULTURE_INPUT = indian
# CULTURE_INPUT = mena
# CULTURE_INPUT = northern
# CULTURE_INPUT = western
# CULTURE_INPUT = western_era1
# CULTURE_INPUT = western_era2
# CULTURE_INPUT = western_era3
# CULTURE_INPUT = western_era4
# CULTURE_INPUT = steppe

# CULTURE_INPUT = fp1_norse
# CULTURE_INPUT = fp2_iberian_christian
# CULTURE_INPUT = fp2_iberian_muslim


clothes_effect = { # Gene modifers to apply for characters wearing or not wearing clothes
    usage = game
    selection_behavior = max
    fallback = unclothed_body
    priority = 1

    clothed_body = {
        dna_modifiers = {
            morph = {
                mode = modify_multiply
                gene = gene_bs_bust
                value = 0.8 # Setting this lower to reduce the exaggerated effect of large bust size when wearing clothes
                template = bust_clothes
            }            
        }
        weight = {
            base = 0
            modifier = {
                add = 1000
                NOR = {
                    should_be_fully_naked_portrait_trigger = yes
                    should_be_topless_portrait_trigger = yes
                }
            }  
        }    
    }

    unclothed_body = {
        dna_modifiers = {          
        }
        weight = {
            base = 10
        }
    }
}

clothes = { # Special group for the ruler designer only. The game expects this to be named "clothes"

    usage = game
    selection_behavior = weighted_random
    priority = 20

    ruler_designer_clothes = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = western_bedchamber
                range = { 0 1 }
            }
            morph = {
                mode = modify_multiply
                gene = gene_bs_bust
                value = 0.8 # Setting this lower to reduce the exaggerated effect of large bust size when wearing clothes
                template = bust_clothes
            }    
        }   
        weight = {
            base = 0
            modifier = {
                add = 100
                portrait_ruler_designer_trigger = yes
            }
        }
    }    
}

clothes_base = { # The lowest priority group of clothes with triggers based on rank and culture. All clothes triggers are found in 00_clothing_triggers.txt

    usage = game
    selection_behavior = weighted_random
    fallback = default_clothes
    priority = 1


    default_clothes = { # LotR: Uruk Clothes to make pre-conversion generated Maiar and Istari characters blend in better...
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = western_bedchamber
                range = { 0 1 } # For the randomness to work correctly
            }
	        morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average_clothed
			}
        }   
        outfit_tags = { no_clothes }
        weight = {
            base = -100
        }
    }

	## DDE HRE ##

    dde_hre_commoners = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = dde_hre_commoner_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 20
				has_dlc = "Garments of the Holy Roman Empire"
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = adunai # CULTURE_INPUT gets added into the trigger referenced in 00_clothing_triggers.txt so it's important the input is a correct match to an existing culture trigger
                }
            }
            # modifier = {
            #     factor = 0       # Should NOT show up if EP2 is active and we're not in the right era
            #     has_ep2_dlc_trigger = yes   
            #     NOT = { portrait_era3_trigger = yes } 
            # }
        }
    }
    
    dde_hre_low_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = dde_hre_low_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
			has_dlc = "Garments of the Holy Roman Empire"
            court_fashion_level_4_modifier = { INPUT_PARAMETER = adunai } # common/scripted_modifiers/00_portrait_modifiers.txt
            modifier = {
                add = 50
                portrait_low_nobles_clothing_trigger = {  
                    CULTURE_INPUT = adunai # CULTURE_INPUT gets added into the trigger referenced in 00_clothing_triggers.txt so it's important the input is a correct match to an existing culture trigger
                }
            }
            # modifier = {
            #     factor = 0       # Should NOT show up if EP2 is active and we're not in the right era
            #     has_ep2_dlc_trigger = yes   
            #     NOT = { portrait_era3_trigger = yes } 
            # }
        }
    }

    dde_hre_high_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = dde_hre_high_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
			has_dlc = "Garments of the Holy Roman Empire"
            court_fashion_level_5_modifier = { INPUT_PARAMETER = adunai } 
            modifier = {
                add = 50
                portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = adunai
                }
            }
            # modifier = {
            #     factor = 0       # Should NOT show up if EP2 is active and we're not in the right era
            #     has_ep2_dlc_trigger = yes   
            #     NOT = { portrait_era3_trigger = yes } 
            # }
        }
    }
    

	## Western ##

    western_commoners = {

        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = western_commoner_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        outfit_tags = { western_commoner_outfit }
        weight = {
            base = 0
            modifier = {
                add = 20
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = elven
                }
            }       
        }
    }

    # ep2_western_era1_commoners = {
    #     dna_modifiers = {
    #         accessory = {
    #             mode = add
    #             gene = clothes
    #             template = ep2_western_era1_low_nobility_clothes
    #             range = { 0 1 } # For the randomness to work correctly
    #         }
    #     }   
    #     weight = {
    #         base = 0
    #         modifier = {
    #             add = 50
    #             portrait_commoner_clothing_trigger = { 
    #                 CULTURE_INPUT = elven
    #             } 
    #             has_ep2_dlc_trigger = yes   
    #             # portrait_era1_trigger = yes     
    #         }
    #     }
    # }

    # ep2_western_era2_commoners = {
    #     dna_modifiers = {
    #         accessory = {
    #             mode = add
    #             gene = clothes
    #             template = western_commoner_clothes
    #             range = { 0 1 } # For the randomness to work correctly
    #         }
    #     }   
    #     weight = {
    #         base = 0
    #         modifier = {
    #             add = 50
    #             portrait_commoner_clothing_trigger = { 
    #                 CULTURE_INPUT = elven
    #             } 
    #             has_ep2_dlc_trigger = yes   
    #             # portrait_era2_trigger = yes     
    #         }
    #     }
    # }

    # ep2_western_era3_commoners = {
    #     dna_modifiers = {
    #         accessory = {
    #             mode = add
    #             gene = clothes
    #             template = western_commoner_clothes
    #             range = { 0 1 } # For the randomness to work correctly
    #         }
    #     }   
    #     weight = {
    #         base = 0
    #         modifier = {
    #             add = 50
    #             portrait_commoner_clothing_trigger = { 
    #                 CULTURE_INPUT = elven
    #             } 
    #             has_ep2_dlc_trigger = yes 
    #             # OR = {
    #             # 	portrait_era3_trigger = yes  
    #             # 	portrait_era4_trigger = yes  
    #             # }     
    #         }
    #     }
    # }
 
    western_low_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = western_low_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
		    modifier = {
		        add = 50
		        court_fashion_level_4_trigger = {
		            CULTURE_INPUT = elven
		        }
		    }
            modifier = {
                add = 50
                portrait_low_nobles_clothing_trigger = { 
                    CULTURE_INPUT = elven
                }      
            }
            # modifier = {
            #     factor = 0       
            #     has_ep2_dlc_trigger = yes   
            # }
        }
    }

    # ep2_western_era1_low_nobles = {
    #     dna_modifiers = {
    #         accessory = {
    #             mode = add
    #             gene = clothes
    #             template = ep2_western_era1_low_nobility_clothes
    #             range = { 0 1 } # For the randomness to work correctly
    #         }
    #     }   
    #     weight = {
    #         base = 0
	# 	    modifier = {
	# 	        add = 50
	# 	        court_fashion_level_4_trigger = {
	# 	            CULTURE_INPUT = elven
	# 	        }
	# 	        has_ep2_dlc_trigger = yes 
	# 	        portrait_era1_trigger = yes 
	# 	    }
    #         modifier = {
    #             add = 50
    #             portrait_low_nobles_clothing_trigger = { 
    #                 CULTURE_INPUT = elven
    #             } 
    #             has_ep2_dlc_trigger = yes   
    #             # portrait_era1_trigger = yes     
    #         }
    #     }
    # }

    # ep2_western_era2_low_nobles = {
    #     dna_modifiers = {
    #         accessory = {
    #             mode = add
    #             gene = clothes
    #             template = western_low_nobility_clothes
    #             range = { 0 1 } # For the randomness to work correctly
    #         }
    #     }   
    #     weight = {
    #         base = 0
	# 	    modifier = {
	# 	        add = 50
	# 	        court_fashion_level_4_trigger = {
	# 	            CULTURE_INPUT = elven
	# 	        }
	# 	        has_ep2_dlc_trigger = yes 
	# 	        portrait_era2_trigger = yes 
	# 	    }
    #         modifier = {
    #             add = 50
    #             portrait_low_nobles_clothing_trigger = { 
    #                 CULTURE_INPUT = elven
    #             } 
    #             has_ep2_dlc_trigger = yes   
    #             # portrait_era2_trigger = yes     
    #         }
    #     }
    # }

    # ep2_western_era3_low_nobles = {
    #     dna_modifiers = {
    #         accessory = {
    #             mode = add
    #             gene = clothes
    #             template = ep2_western_era3_low_nobility_clothes
    #             range = { 0 1 } # For the randomness to work correctly
    #         }
    #     }   
    #     weight = {
    #         base = 0
	# 	    modifier = {
	# 	        add = 50
	# 	        court_fashion_level_4_trigger = {
	# 	            CULTURE_INPUT = elven
	# 	        }
	# 	        has_ep2_dlc_trigger = yes 
    #             OR = {
    #             	portrait_era3_trigger = yes  
    #             	portrait_era4_trigger = yes  
    #             } 
	# 	    }
    #         modifier = {
    #             add = 50
    #             portrait_low_nobles_clothing_trigger = { 
    #                 CULTURE_INPUT = elven
    #             } 
    #             has_ep2_dlc_trigger = yes
    #             # OR = {
    #             # 	portrait_era3_trigger = yes  
    #             # 	portrait_era4_trigger = yes  
    #             # }      
    #         }
    #     }
    # }

    western_high_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = western_high_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
		    modifier = {
		        add = 50
		        court_fashion_level_5_trigger = {
		            CULTURE_INPUT = elven
		        }
		    }
            modifier = {
                add = 50
                portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = elven
                } 
            }
            # modifier = {
            #     factor = 0     
            #     has_ep2_dlc_trigger = yes   
            # }
        }
    }

    # ep2_western_era1_high_nobles = {
    #     dna_modifiers = {
    #         accessory = {
    #             mode = add
    #             gene = clothes
    #             template = ep2_western_era1_high_nobility_clothes
    #             range = { 0 1 } # For the randomness to work correctly
    #         }
    #     }   
    #     weight = {
    #         base = 0
	# 	    modifier = {
	# 	        add = 50
	# 	        court_fashion_level_5_trigger = {
	# 	            CULTURE_INPUT = elven
	# 	        }
	# 	        has_ep2_dlc_trigger = yes 
	# 	        # portrait_era1_trigger = yes 
	# 	    }
    #         modifier = {
    #             add = 50
    #             portrait_high_nobles_clothing_trigger = { 
    #                 CULTURE_INPUT = elven
    #             } 
    #             has_ep2_dlc_trigger = yes   
    #             # portrait_era1_trigger = yes     
    #         }
    #     }
    # }

    # ep2_western_era2_high_nobles = {
    #     dna_modifiers = {
    #         accessory = {
    #             mode = add
    #             gene = clothes
    #             template = western_high_nobility_clothes
    #             range = { 0 1 } # For the randomness to work correctly
    #         }
    #     }   
    #     weight = {
    #         base = 0
	# 	    modifier = {
	# 	        add = 50
	# 	        court_fashion_level_5_trigger = {
	# 	            CULTURE_INPUT = elven
	# 	        }
	# 	        has_ep2_dlc_trigger = yes 
	# 	        # portrait_era2_trigger = yes 
	# 	    }
    #         modifier = {
    #             add = 50
    #             portrait_high_nobles_clothing_trigger = { 
    #                 CULTURE_INPUT = elven
    #             } 
    #             has_ep2_dlc_trigger = yes   
    #             # portrait_era2_trigger = yes     
    #         }
    #     }
    # }

    # ep2_western_era3_high_nobles = {
    #     dna_modifiers = {
    #         accessory = {
    #             mode = add
    #             gene = clothes
    #             template = ep2_western_era3_high_nobility_clothes
    #             range = { 0 1 } # For the randomness to work correctly
    #         }
    #     }   
    #     weight = {
    #         base = 0
	# 	    modifier = {
	# 	        add = 50
	# 	        court_fashion_level_5_trigger = {
	# 	            CULTURE_INPUT = elven
	# 	        }
	# 	        has_ep2_dlc_trigger = yes 
    #             # OR = {
    #             # 	portrait_era3_trigger = yes  
    #             # 	portrait_era4_trigger = yes  
    #             # } 
	# 	    }
    #         modifier = {
    #             add = 50
    #             portrait_high_nobles_clothing_trigger = { 
    #                 CULTURE_INPUT = elven
    #             } 
    #             has_ep2_dlc_trigger = yes  
    #             # OR = {
    #             # 	portrait_era3_trigger = yes  
    #             # 	portrait_era4_trigger = yes  
    #             # }    
    #         }
    #     }
    # }

	## Byzantine ##

    byzantine_commoners = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = byzantine_commoner_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 20
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = byzantine_proxy
                }
            }
        }
    }

    byzantine_low_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = byzantine_low_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            court_fashion_level_4_modifier = { INPUT_PARAMETER = byzantine_proxy }
            modifier = {
                add = 50
                portrait_low_nobles_clothing_trigger = { 
                    CULTURE_INPUT = byzantine_proxy
                }  
            }
        }
    }

    byzantine_high_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = byzantine_high_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }       
        weight = {
            base = 0
            court_fashion_level_5_modifier = { INPUT_PARAMETER = byzantine_proxy } 
            modifier = {
                add = 50
                portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = byzantine_proxy
                } 
            }
        }
    }

	## INDIAN ##

    indian_commoners = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = indian_commoner_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 20
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = indian_proxy
                }
            }
        }
    }

    indian_low_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = indian_low_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            court_fashion_level_4_modifier = { INPUT_PARAMETER = indian_proxy }
            modifier = {
                add = 50
                portrait_low_nobles_clothing_trigger = { 
                    CULTURE_INPUT = indian_proxy
                } 
            }
        }
    }

    indian_high_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = indian_high_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }       
        weight = {
            base = 0
            court_fashion_level_5_modifier = { INPUT_PARAMETER = indian_proxy } 
            modifier = {
                add = 50
                portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = indian_proxy
                } 
            }
        }
    }

	## DDE ABBASID ##

    dde_abbasid_commoners = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = dde_abbasid_commoner_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 40
                portrait_commoner_no_mayors_trigger = {
                    CULTURE_INPUT = east_haradrim
                }
            }
        }
    }

    dde_abbasid_low_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = dde_abbasid_low_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            court_fashion_level_4_modifier = { INPUT_PARAMETER = east_haradrim }
            modifier = {
                add = 50
                portrait_low_nobles_clothing_trigger = { 
                    CULTURE_INPUT = east_haradrim
                }   
            }
        }
    }

    dde_abbasid_high_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = dde_abbasid_high_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }       
        weight = {
            base = 0
            court_fashion_level_5_modifier = { INPUT_PARAMETER = east_haradrim } 
            modifier = {
                add = 50
                portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = east_haradrim
                } 
            }
        }
    }

	## MENA ##

    mena_commoners = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = mena_commoner_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        outfit_tags = { mena_commoner_clothes }
        weight = {
            base = 0
            modifier = {
                add = 40
                portrait_commoner_no_mayors_trigger = {
                    CULTURE_INPUT = mena_proxy
                }
            }
        }
    }

    mena_mayors = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = mena_low_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 50
                portrait_mayor_trigger = {
                    CULTURE_INPUT = mena_proxy
                }
            }
        }
    }

    mena_low_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = mena_low_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   

        weight = {
            base = 0
            court_fashion_level_4_modifier = { INPUT_PARAMETER = mena_proxy } 
            modifier = {
                add = 50
                portrait_low_nobles_clothing_trigger = { 
                    CULTURE_INPUT = mena_proxy
                }  
            }
        }
    }

    mena_high_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = mena_high_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }       
        weight = {
            base = 0
            court_fashion_level_5_modifier = { INPUT_PARAMETER = mena_proxy } 
            modifier = {
                add = 50
                portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = mena_proxy
                } 
            }
        }
    }


    

	## Steppe ##

    steppe_commoners = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = steppe_commoner_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 20
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = steppe_proxy
                }
            }
        }
    }

    steppe_low_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = steppe_low_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            court_fashion_level_4_modifier = { INPUT_PARAMETER = steppe_proxy } 
            modifier = {
                add = 50
                portrait_low_nobles_clothing_trigger = { 
                    CULTURE_INPUT = steppe_proxy
                }  
            }
        }
    }

    steppe_high_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = steppe_high_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }       
        weight = {
            base = 0
            court_fashion_level_5_modifier = { INPUT_PARAMETER = steppe_proxy } 
            modifier = {
                add = 50
                portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = steppe_proxy
                } 
            }
        }
    }

	## Northern Pagans ##

    northern_commoners = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = northern_commoner_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 50
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = northern_proxy
                }
				NOT = {
					portrait_commoner_clothing_trigger = {
						CULTURE_INPUT = dalemen
					}
				}
            }
        }
    }

    northern_low_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = northern_low_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            court_fashion_level_4_modifier = { INPUT_PARAMETER = northern_proxy } 
            modifier = {
                add = 50
                portrait_low_nobles_clothing_trigger = { 
                    CULTURE_INPUT = northern_proxy
                }
				NOT = {
					portrait_low_nobles_clothing_trigger = {
						CULTURE_INPUT = dalemen
					}
				}
            }
        }
    }

    northern_high_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = northern_high_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }       
        weight = {
            base = 0
            court_fashion_level_5_modifier = { INPUT_PARAMETER = northern_proxy } 
            modifier = {
                add = 50
                portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = northern_proxy
                }
				NOT = {
					portrait_high_nobles_clothing_trigger = {
						CULTURE_INPUT = dalemen
					}
				}
            }
        }
    }
    
	## FP2 Fate of Iberia ##

    # fp2_iberian_christian_commoners = {
    #     dna_modifiers = {
    #         accessory = {
    #             mode = add
    #             gene = clothes
    #             template = fp2_christian_commoner_clothes
    #             range = { 0 1 } # For the randomness to work correctly
    #         }
    #     }
    #     weight = {
    #         base = 0
    #         modifier = {
    #             add = 41 # Slightly higher
    #             portrait_commoner_clothing_trigger = {
    #                 CULTURE_INPUT = fp2_iberian_christian
    #             }
    #         }
    #     }

    # }

    # fp2_iberian_muslim_commoners = {
    #     dna_modifiers = {
    #         accessory = {
    #             mode = add
    #             gene = clothes
    #             template = fp2_muslim_commoner_clothes
    #             range = { 0 1 } # For the randomness to work correctly
    #         }
    #     }
    #     weight = {
    #         base = 0
    #         modifier = {
    #             add = 41 # Slightly higher
    #             portrait_commoner_no_mayors_trigger = {
    #                 CULTURE_INPUT = fp2_iberian_muslim
    #             }
    #         }
    #     }

    # }

    # fp2_iberian_christian_low_nobles = {
    #     dna_modifiers = {
    #         accessory = {
    #             mode = add
    #             gene = clothes
    #             template = fp2_christian_low_nobility_clothes
    #             range = { 0 1 } # For the randomness to work correctly
    #         }
    #     }       
    #     weight = {
    #         base = 0
    #         court_fashion_level_4_modifier = { INPUT_PARAMETER = fp2_iberian_christian } 
    #         modifier = {
    #             add = 51 # Slightly higher
    #             portrait_low_nobles_clothing_trigger = { 
    #                 CULTURE_INPUT = fp2_iberian_christian
    #             }   
    #         }
    #         modifier = {
    #             factor = 0       # Should NOT show up if EP2 is active and we're not in the right era
    #             has_ep2_dlc_trigger = yes   
    #             portrait_era1_trigger = yes
    #         }
    #     }
    # }

    # fp2_iberian_muslim_low_nobles = {
    #     dna_modifiers = {
    #         accessory = {
    #             mode = add
    #             gene = clothes
    #             template = fp2_muslim_low_nobility_clothes
    #             range = { 0 1 } # For the randomness to work correctly
    #         }
    #     }       
    #     weight = {
    #         base = 0
    #         court_fashion_level_4_modifier = { INPUT_PARAMETER = fp2_iberian_muslim } 
    #         modifier = {
    #             add = 51 # Slightly higher
    #             portrait_low_nobles_clothing_trigger = { 
    #                 CULTURE_INPUT = fp2_iberian_muslim
    #             } 
    #         }
    #     }
    # }

    # fp2_iberian_christian_high_nobles = {
    #     dna_modifiers = {
    #         accessory = {
    #             mode = add
    #             gene = clothes
    #             template = fp2_christian_high_nobility_clothes
    #             range = { 0 1 } # For the randomness to work correctly
    #         }
    #     }       
    #     weight = {
    #         base = 0
    #         court_fashion_level_5_modifier = { INPUT_PARAMETER = fp2_iberian_christian } 
    #         modifier = {
    #             add = 51 # Slightly higher
    #             portrait_high_nobles_clothing_trigger = { 
    #                 CULTURE_INPUT = fp2_iberian_christian
    #             } 
    #         }
    #         modifier = {
    #             factor = 0       # Should NOT show up if EP2 is active and we're not in the right era
    #             has_ep2_dlc_trigger = yes   
    #             portrait_era1_trigger = yes
    #         }
    #     }
    # }

    # fp2_iberian_muslim_high_nobles = {
    #     dna_modifiers = {
    #         accessory = {
    #             mode = add
    #             gene = clothes
    #             template = fp2_muslim_high_nobility_clothes
    #             range = { 0 1 } # For the randomness to work correctly
    #         }
    #     }       
    #     weight = {
    #         base = 0
    #         court_fashion_level_5_modifier = { INPUT_PARAMETER = fp2_iberian_muslim } 
    #         modifier = {
    #             add = 51 # Slightly higher
    #             portrait_high_nobles_clothing_trigger = { 
    #                 CULTURE_INPUT = fp2_iberian_muslim
    #             } 
    #         }
    #     }
    # }

	## FP1 NORSE ##

    fp1_norse_commoners = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = fp1_commoner_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 41 # Slightly higher
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = vale_woodmen
                }
            }
        }
    }

    fp1_norse_low_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = fp1_low_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            court_fashion_level_4_modifier = { INPUT_PARAMETER = vale_woodmen }
            modifier = {
                add = 51 # Slightly higher
                portrait_low_nobles_clothing_trigger = { 
                    CULTURE_INPUT = vale_woodmen
                }
            }
        }
    }

    fp1_norse_high_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = fp1_high_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }       
        weight = {
            base = 0
            court_fashion_level_5_modifier = { INPUT_PARAMETER = vale_woodmen } 
            modifier = {
                add = 51 # Slightly higher
                portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = vale_woodmen
                } 
            }
        }
    }

	## Sub-Saharan Africans ##

    sub_saharan_commoners = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = sub_saharan_commoner_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 50
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = african_proxy
                }
            }
        }
    }

    sub_saharan_low_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = sub_saharan_low_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            court_fashion_level_4_modifier = { INPUT_PARAMETER = african_proxy }
            modifier = {
                add = 50
                portrait_low_nobles_clothing_trigger = { 
                    CULTURE_INPUT = african_proxy
                }
            }
        }
    }

    sub_saharan_high_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = sub_saharan_high_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        outfit_tags = { sub_saharan_high_nobility_clothes }     
        weight = {
            base = 0
            court_fashion_level_5_modifier = { INPUT_PARAMETER = african_proxy } 
            modifier = {
                add = 50
                portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = african_proxy
                } 
            }
        }
    }

	## SP2 Elegance of the Empire ##

    sp2_western_imperial = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = sp2_western_royalty_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 90
                has_dlc_feature = elegance_of_the_empire
				OR = {
					portrait_imperial_trigger = {
						CULTURE_INPUT = adunai
					}
					portrait_imperial_trigger = {
						CULTURE_INPUT = numenorean
					}
				}
            }
            modifier = {
                add = 40
                has_dlc_feature = elegance_of_the_empire
                OR = {
					portrait_royalty_trigger = {
						CULTURE_INPUT = adunai
					}
					portrait_royalty_trigger = {
						CULTURE_INPUT = numenorean
					}
				}                 
            }
            # modifier = {
            #     factor = 0
            #     has_ep2_dlc_trigger = yes  
            #     NOR = {
            #         portrait_era2_trigger = yes   
            #         portrait_era3_trigger = yes 
            #     }             
            # }
        }
    }

	######################## LotR: REALMS IN EXILE CONTENT BELOW HERE ########################

	rohirrim_theoden = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = theoden_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average_clothed
			}
		}		
		weight = {
			base = 0
            modifier = {
                add = 1000
				portrait_wear_armor_trigger = no
				exists = character:6000017 #Theoden
				this = character:6000017 #Theoden
            }		
		}
	}
	
	rohirrim_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = rohirrim_commoner_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average_clothed
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = rohirrim
                }
			}
		}
	}

	rohirrim_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = rohirrim_low_nobility_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average_clothed
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 70
				portrait_low_nobles_clothing_trigger = { 
                    CULTURE_INPUT = rohirrim
                }
			}
		}
	}	

	rohirrim_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = rohirrim_high_nobility_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average_clothed
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 100
				portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = rohirrim
                } 
			}
		}
	}
		
## MAIA ##
	saruman = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = maia_saruman_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
			accessory = {
				mode = add
				gene = headgear
				template = no_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average_clothed
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 1000
				has_character_flag = is_saruman	
			}
		}
	}

	## URUKHAI ##
	uruk_berserker_clothes = { 
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = uruk_berserker_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
	        morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average_clothed
			}
        }   
		weight = {
			base = 0
			modifier = {
				add = 200
				AND = {
					has_trait = urukhai_berserker
					OR = {	
						portrait_mordor_uruk_clothing_trigger = yes		
						portrait_isengard_uruk_clothing_trigger = yes
					}
				}
				is_sauron = no
				is_saruman = no
			}
		}
	}
	
	uruk_generic_clothes = { 
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = uruk_soldier_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
	        morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average_clothed
			}
        }   
		weight = {
			base = 0
			modifier = {
				add = 150
				portrait_isengard_uruk_clothing_trigger = yes
				is_sauron = no
				is_saruman = no
			}
		}
	}
	
	## MORDOR URUK ##
	mordor_uruk_clothes = { 
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = mordor_uruk
                range = { 0 1 } # For the randomness to work correctly
            }
	        morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average_clothed
			}
        }   
		weight = {
			base = 0
			modifier = {
				add = 150
				portrait_mordor_uruk_clothing_trigger = yes
				is_sauron = no
				is_saruman = no
			}
		}
	}

	
	## GONDORIAN ##
	gondorian_commoners = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = gondorian_commoner_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average_clothed
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 30
				portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = gondorian
                }
			}
		}
	}

	gondorian_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = gondorian_low_nobility_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average_clothed
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				portrait_low_nobles_clothing_trigger = { 
                    CULTURE_INPUT = gondorian
                }

			}
		}
	}

	gondorian_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = gondorian_high_nobility_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average_clothed
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				portrait_duchy_clothing_trigger = { 
                    CULTURE_INPUT = gondorian
                } 
			}
		}
	}

	gondorian_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = gondorian_royalty_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average_clothed
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				portrait_royalty_clothing_trigger = { 
                    CULTURE_INPUT = gondorian
                }
			}
		}
	}

	gondorian_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = gondorian_imperial_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average_clothed
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				portrait_imperial_clothing_trigger = { 
                    CULTURE_INPUT = gondorian
                }
			}
		}
	}
	
	# HARONDORIM (Outhame) #

	harondorim_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = harondorim_commoner_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average_clothed
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 30
				portrait_commoner_clothing_trigger = {
					CULTURE_INPUT = harondorim
				}
			}
		}
	}

	harondorim_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = harondorim_low_nobility_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average_clothed
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				portrait_low_nobles_clothing_trigger = { 
					CULTURE_INPUT = harondorim
				}

			}
		}
	}

	harondorim_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = harondorim_high_nobility_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average_clothed
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = harondorim
                } 
			}
		}
	}
	
	dale_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = dale_commoner_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average_clothed
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					portrait_commoner_clothing_trigger = {
						CULTURE_INPUT = dalemen
					}
					portrait_commoner_clothing_trigger = {
						CULTURE_INPUT = dorwinion
					}
				}
			}
		}
	}
	
	dale_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = dale_low_nobility_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average_clothed
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					portrait_low_nobles_clothing_trigger = {
						CULTURE_INPUT = dalemen
					}
					portrait_low_nobles_clothing_trigger = {
						CULTURE_INPUT = dorwinion
					}
				}
			}
		}
	}

	dale_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = dale_high_nobility_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average_clothed
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					portrait_high_nobles_clothing_trigger = {
						CULTURE_INPUT = dalemen
					}
					portrait_high_nobles_clothing_trigger = {
						CULTURE_INPUT = dorwinion
					}
				}
			}
		}
	}

	## NAZGUL ##	
	nazgul = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = nazgul_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average_clothed
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 1000
				has_trait = nazgul
			}
			modifier = {
				add = 2000
				exists = character:lineofsauron #Sauron
				this = character:lineofsauron #Sauron
				has_game_rule = crispy_sauron
			}
		}
	}
	
	## SAURON ##
	sauron = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = sauron_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average_clothed
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 1000
				has_character_flag = is_sauron
				NOT = { has_game_rule = crispy_sauron }
			}
		}		
	}

	

	## WASTELANDS
	# wastelands_no_clothes = { # Disabling to render characters for events
	# 	dna_modifiers = {
	# 		accessory = {
	# 			mode = add
	# 			gene = clothes
	# 			template = wastelands_no_clothes
	# 			range = { 0 1 } # For the randomness to work correctly
	# 		}
	# 		accessory = {
	# 			mode = add
	# 			gene = headgear
	# 			template = no_headgear
	# 			range = { 0 1 } # For the randomness to work correctly
	# 		}			
	# 	}	
	# 	weight = {
	# 		base = 0			
	# 		modifier = {
	# 			add = 1000
	# 			portrait_wastelands_clothing_trigger = yes
	# 		}
	# 	}	
	# }
}
