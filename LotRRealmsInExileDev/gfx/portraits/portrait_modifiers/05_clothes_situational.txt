 clothes_situational = { # All clothes triggers are found in 00_clothing_triggers.txt

    usage = game
    selection_behavior = weighted_random
    priority = 5

## Base ##

    base_no_nudity = {#just base clothes
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = no_headgear
                range = { 0 1 } # For the randomness to work correctly
            }
            accessory = {
                mode = add
                gene = cloaks
                template = no_cloak
                range = { 0 1 } # For the randomness to work correctly
            }
		}	
        outfit_tags = { no_clothes nightgown }
        weight = {
            base = 0
            modifier = {
                add = 110
                should_show_nudity = no
                should_be_naked_trigger = yes
            }
            modifier = {
                add = -1000
                should_show_nudity = yes
            }
        }
    }


    base_peasant = {#base clothes with no headgear or cloak
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = no_headgear
                range = { 0 1 } # For the randomness to work correctly
            }
            accessory = {
                mode = add
                gene = cloaks
                template = no_cloak
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 500
                has_character_flag = peasant_outfit
                OR = {
                    portrait_western_proxy_clothing_trigger = yes
                    portrait_northern_proxy_clothing_trigger = yes
                    portrait_byzantine_proxy_clothing_trigger = yes
                    portrait_mena_proxy_clothing_trigger = yes
                    portrait_indian_proxy_clothing_trigger = yes
                    portrait_steppe_proxy_clothing_trigger = yes
                    portrait_african_proxy_clothing_trigger = yes
                }
            }
        }
    }

    base_prison = {#prison outfit with no headgear, no legwear, no cloak
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = prison_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
            accessory = {
                mode = add
                gene = headgear
                template = no_headgear
                range = { 0 1 } # For the randomness to work correctly
            }
            accessory = {
                mode = add
                gene = cloaks
                template = no_cloak
                range = { 0 1 } # For the randomness to work correctly
            }
            accessory = {
                mode = add
                gene = legwear
                template = no_legwear
                range = { 0 1 } # For the randomness to work correctly
            }						
        }   
        outfit_tags = { beggar_rags }
        weight = {
            base = 0
            modifier = {
                add = 120
                portrait_prisoner_trigger = yes
            }
            modifier = {
                add = 500
                portrait_poverty_robes_trigger = yes
            }				
            modifier = { #LotR
                add = -5000
                OR = {
                    is_nazgul = yes
                    is_sauron = yes
                }
            }
        }
    }

    western_stealth = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = stealth_clothes
                range = { 0.0 0.49 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 210
                portrait_stealth_trigger = yes
                OR = {
                    portrait_byzantine_proxy_clothing_trigger = yes
                    portrait_northern_proxy_clothing_trigger = yes
                    portrait_western_proxy_clothing_trigger = yes
                }
            }
            modifier = { #LotR
                add = -5000
                OR = {
                    is_nazgul = yes
                    is_sauron = yes
                }
            }
        }
    }

    mena_stealth = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = stealth_clothes
                range = { 0.50 1.0 } # For the randomness to work correctly
            }
        }
        outfit_tags = { mena_stealth }
        weight = {
            base = 0
            modifier = {
                add = 210
                portrait_stealth_trigger = yes
                OR = {
                    portrait_mena_proxy_clothing_trigger = yes
                    portrait_indian_proxy_clothing_trigger = yes
                    portrait_steppe_proxy_clothing_trigger = yes
                    portrait_african_proxy_clothing_trigger = yes
                }
            }
            modifier = { #LotR
                add = -5000
                OR = {
                    is_nazgul = yes
                    is_sauron = yes
                }
            }
        }
    }

## Other ##

    ep1_jester = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = ep1_jester_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = -100
            modifier = {
                add = 1000
                OR = {
					has_court_position = court_jester_court_position
					has_character_flag = jester_outfit
				}
            }
            modifier = {
                factor = 0
                OR = {
                    is_adult = no
                    should_be_naked_trigger = yes
                }
            }    
            modifier = { #LotR
                add = -5000
                OR = {
                    is_nazgul = yes
                    is_sauron = yes
                }
            }       
        }
    }
    
    western_court_physician = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = physician_clothes
                range = { 0 1 }
            }
            accessory = {
                mode = add
                gene = headgear
                template = dorwinion_low_headgear
                value = 0.5
            }
            accessory = {
                mode = add
                gene = legwear
                template = dunedain_common_legwear
                range = { 0 1 }
            }
            accessory = {
                mode = add
                gene = cloaks
                template = no_cloak
                range = { 0 1 }
            }						
        }
        weight = {
            base = 0
            modifier = {
                add = 1000
                # LotR Changed
                is_married = no
                has_court_position = court_physician_court_position
                has_ce1_dlc_trigger = yes
                portrait_western_proxy_clothing_trigger = yes
            }
            modifier = {
                add = 20
                has_ce1_dlc_trigger = yes
                portrait_western_clothing_trigger = yes
				government_has_flag = government_is_landless_adventurer
				OR = {
					has_realm_law = camp_purpose_scholars
					liege ?= {  has_realm_law = camp_purpose_scholars }
				}
            }
            modifier = {
                factor = 0
                OR = {
                    is_adult = no
                    should_be_naked_trigger = yes
                }
            } 
            modifier = { #LotR
                add = -5000
                OR = {
                    is_nazgul = yes
                    is_sauron = yes
                }
            }
        } 
    }

    # Charioteer - Blue
    charioteer_blue = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = anbalukkhori_war_clothes
                range = { 0 1 }
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 1000
                has_ep3_dlc_trigger = yes
                has_trait = charioteer_blue
                is_ruler = no
            }
            modifier = {
                factor = 0
                OR = {
                    is_adult = no
                    should_be_naked_trigger = yes
                }
            } 
            modifier = { #LotR
                add = -5000
                OR = {
                    is_nazgul = yes
                    is_sauron = yes
                }
            }
        } 
    }

    # Charioteer - Green
    charioteer_green = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = anbalukkhori_war_clothes
                range = { 0 1 }
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 1000
                has_ep3_dlc_trigger = yes
                has_trait = charioteer_green
            }
            modifier = {
                factor = 0
                OR = {
                    is_adult = no
                    is_ruler = yes 
                    should_be_naked_trigger = yes
                }
            } 
            modifier = { #LotR
                add = -5000
                OR = {
                    is_nazgul = yes
                    is_sauron = yes
                }
            }
        } 
    }

    # Charioteer - White
    charioteer_white = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = anbalukkhori_war_clothes
                range = { 0 1 }
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 1000
                has_ep3_dlc_trigger = yes
                has_trait = charioteer_white
            }
            modifier = {
                factor = 0
                OR = {
                    is_adult = no
                    is_ruler = yes
                    should_be_naked_trigger = yes
                }
            } 
            modifier = { #LotR
                add = -5000
                OR = {
                    is_nazgul = yes
                    is_sauron = yes
                }
            }
        } 
    }

    # Charioteer - Red
    charioteer_red = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = anbalukkhori_war_clothes
                range = { 0 1 }
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 1000
                has_ep3_dlc_trigger = yes
                has_trait = charioteer_red
            }
            modifier = {
                factor = 0
                OR = {
                    is_adult = no
                    is_ruler = yes
                    should_be_naked_trigger = yes
                }
            } 
            modifier = { #LotR
                add = -5000
                OR = {
                    is_nazgul = yes
                    is_sauron = yes
                }
            }
        } 
    }
	
	gondor_prince = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = no_headgear
                value = { 0 1 }
            }
        }
		outfit_tags = { gondor_prince }
        weight = {
            base = 0           
        }
    }
	
	gondor_war_prince = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = gondorian_war_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
			accessory = {
                mode = add
                gene = headgear
                template = gondorian_war_headgear
                value = { 0 1 }
            }
        }
		
        weight = {
            base = 0          
        }
    }
}