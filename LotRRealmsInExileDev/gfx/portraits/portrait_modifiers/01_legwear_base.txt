legwear = {
	# interface_position = 1
	usage = game
	selection_behavior = max
	
	no_legwear = {
		usage = game 
		dna_modifiers = {
			accessory = {
				mode = add
		
				gene = legwear
				template = no_legwear
				value = 0
			}
		}
        outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 1000
				OR = {
					# Deliberately not the "fully naked" one since you'll wear a nightgown if we don't allow full nudity
					should_be_naked_trigger = yes
					has_trait = nazgul
					AND = {
						portrait_mordor_uruk_clothing_trigger = yes
						NOT = {
							has_trait = urukhai_berserker
						}
					}
				}
			}
		}
	}

## No Leg wear for children under 4 ## 

	children_no_headgear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = no_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				scope:age < 4
			}
		}
	}

	default_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = elven_common_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 1
		}

	}

	elven_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = elven_common_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				portrait_elven_clothing_trigger = yes
			}
		}
	}

	elven_war_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = elven_war_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				portrait_wear_armor_trigger = yes
				OR = {
					portrait_elven_clothing_trigger = yes
				}
			}
		}
	}

	elven_war_noldor_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = elven_war_noldor_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 110
				portrait_wear_armor_trigger = yes
				OR = {
					portrait_noldor_clothing_trigger = yes
				}
			}
            modifier = {
               add = 201
				portrait_wear_armor_trigger = yes
 				exists = liege				
				liege.culture = {
					has_clothing_gfx = noldor_clothing_gfx
				}
			}			
		}
	}
	
	elven_war_galadhrim_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = elven_war_galadhrim_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 500
				portrait_wear_armor_trigger = yes
				OR = {
					portrait_sindar_clothing_trigger = yes
					portrait_falathrim_clothing_trigger = yes					
				}
			}
            modifier = {
               add = 110
				portrait_wear_armor_trigger = yes
				is_elf = yes				
 				exists = liege				
				liege.culture = {
					has_clothing_gfx = sindar_clothing_gfx
				}			
			}						
            modifier = {
               add = 201
				portrait_wear_armor_trigger = yes
				is_elf = yes				
 				exists = liege				
				liege.culture = {
					has_clothing_gfx = falathrim_clothing_gfx
				}			
			}						
		}
	}
	
	elven_war_silvan_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = elven_war_silvan_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
                add = 110
				highest_held_title_tier <= tier_duchy
                OR = {
                    portrait_commoner_armor_trigger = { 
                        CULTURE_INPUT = lasgalendrim
                    }
                    portrait_low_nobles_armor_trigger = { 
                        CULTURE_INPUT = lasgalendrim
                    }
					portrait_high_nobles_armor_trigger = { 
						CULTURE_INPUT = lasgalendrim
					}
                }
            }
            modifier = {
				add = 201
				portrait_wear_armor_trigger = yes
 				exists = liege
				liege.culture = {
					has_clothing_gfx = lasgalendrim_clothing_gfx
				}			
			}						
		}
	}
	
	elven_war_silvan_king_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = elven_war_silvan_king_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
                add = 500
                highest_held_title_tier > tier_duchy				
                portrait_high_nobles_armor_trigger = { 
                    CULTURE_INPUT = lasgalendrim
                }
            }
		}
	}

	dwarf_common_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = generic_boots_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				AND = {
					portrait_dwarf_clothing_trigger = yes
				}
			}
		}
	}

	blacklock_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = haradrim_war_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 120
				portrait_dwarf_clothing_trigger = yes
				culture = { has_cultural_pillar = heritage_blacklock }
			}		
		}
	}

	numenorean_common_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = numenorean_common_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					portrait_numenorean_clothing_trigger = yes
				}
			}
		}
	}

	numenorean_war_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = numenorean_war_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				portrait_wear_armor_trigger = yes
				OR = {
					portrait_arnorian_clothing_trigger = yes
					portrait_numenorean_clothing_trigger = yes
				}
				
			}
		}
	}

	dunedain_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = dunedain_common_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 80
				OR = {
					portrait_dunedain_clothing_trigger = yes
				}
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 100
				portrait_wear_armor_trigger = yes
				OR = {
					portrait_uialdain_clothing_trigger = yes
				}
			}
		}
	}

	uialdain_common_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = elven_common_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 80
				AND = {
					portrait_uialdain_clothing_trigger = yes
				}
			}
		}
	}

	gondorian_legwear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = gondorian_common_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 65
                OR = {
                    portrait_gondorian_clothing_trigger = yes
                    portrait_harondorim_clothing_trigger = yes
                }
			}
		}
	}

	gondorian_war_legwear_low = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = chainmail_war_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
                add = 101
                OR = {
	                portrait_commoner_armor_trigger = { 
                        CULTURE_INPUT = gondorian
                    }
                    portrait_commoner_armor_trigger = { 
                        CULTURE_INPUT = harondorim
                    }
                    portrait_low_nobles_armor_trigger = { 
                        CULTURE_INPUT = harondorim
                    }					
                }
            }
            modifier = {
                add = 80        # So priests who are actively serving in a raised army as a commander or knight wear armor instead of priest robes
                OR = {
                    portrait_commoner_armor_in_army_trigger = { 
                        CULTURE_INPUT = gondorian
                    }
                    portrait_commoner_armor_in_army_trigger = { 
                        CULTURE_INPUT = harondorim
                    }
                    portrait_low_nobles_armor_in_army_trigger = { 
                        CULTURE_INPUT = harondorim
                    }
                }
            }
		}
	}

	gondorian_war_legwear_high = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = gondorian_war_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
                add = 102
                OR = {
                    portrait_low_nobles_armor_trigger = { 
                        CULTURE_INPUT = gondorian
                    }
                    portrait_high_nobles_armor_trigger = { 
                        CULTURE_INPUT = gondorian
                    }
                    portrait_high_nobles_armor_trigger = { 
                        CULTURE_INPUT = harondorim
                    }
                }
            }
            modifier = {
                add = 80        # So priests who are actively serving in a raised army as a commander or knight wear armor instead of priest robes
                OR = {
                    portrait_low_nobles_armor_in_army_trigger = { 
                        CULTURE_INPUT = gondorian
                    }
                    portrait_high_nobles_armor_in_army_trigger = { 
                        CULTURE_INPUT = gondorian
                    }
                    portrait_high_nobles_armor_in_army_trigger = { 
                        CULTURE_INPUT = harondorim
                    }
                }
            }
		}
	}	

	adunai_low_nobility_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = adunai_common_legwear
				range = { 0.49 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				trigger_if = {
					limit = { exists = this }
					OR = {
						AND = {
							OR = {
								highest_held_title_tier > tier_county
								AND = {
									government_has_flag = government_is_republic
									primary_title.tier > 1
								}
								AND = { is_ruler = yes government_has_flag = government_is_theocracy }
							}
							NOT = { AND = { is_ruler = yes government_has_flag = government_is_mercenary  } } # Blocked for mercenaries
							OR = {
								portrait_byzantine_proxy_clothing_trigger = yes
								portrait_umbar_clothing_trigger = yes
								portrait_bellakari_clothing_trigger = yes
								portrait_anbalukkhori_clothing_trigger = yes
							}
						}
						AND = {
							exists = primary_spouse
							OR = {
								is_ruler = no
								highest_held_title_tier = tier_barony
							}
							primary_spouse = {
								OR = {
									highest_held_title_tier > tier_county
									AND = {
										government_has_flag = government_is_republic
										primary_title.tier > 1
									}
									AND = { is_ruler = yes government_has_flag = government_is_theocracy }
								}
								OR = {
									portrait_byzantine_proxy_clothing_trigger = yes
									portrait_umbar_clothing_trigger = yes
									portrait_bellakari_clothing_trigger = yes
									portrait_anbalukkhori_clothing_trigger = yes
								}
							}
						}
					}
				}
				trigger_else = {
					scope:highest_held_title_tier > tier_county
					OR = {
						portrait_byzantine_proxy_clothing_trigger = yes
						portrait_umbar_clothing_trigger = yes
						portrait_bellakari_clothing_trigger = yes
						portrait_anbalukkhori_clothing_trigger = yes
					}
				}
				has_ep3_dlc_trigger = yes 
			}
		}
	}


	adunai_high_nobility_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = adunai_common_legwear
				range = { 0.49 1.0 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				trigger_if = {
					limit = { exists = this }
					OR = {
						AND = {
							OR = {
								highest_held_title_tier > tier_county
								AND = {
									government_has_flag = government_is_republic
									primary_title.tier > 1
								}
								AND = { is_ruler = yes government_has_flag = government_is_theocracy }
							}
							NOT = { AND = { is_ruler = yes government_has_flag = government_is_mercenary  } } # Blocked for mercenaries
							OR = {
								portrait_byzantine_proxy_clothing_trigger = yes
								portrait_umbar_clothing_trigger = yes
								portrait_bellakari_clothing_trigger = yes
								portrait_anbalukkhori_clothing_trigger = yes
							}
						}
						AND = {
							exists = primary_spouse
							OR = {
								is_ruler = no
								highest_held_title_tier = tier_barony
							}
							primary_spouse = {
								OR = {
									highest_held_title_tier > tier_county
									AND = {
										government_has_flag = government_is_republic
										primary_title.tier > 1
									}
									AND = { is_ruler = yes government_has_flag = government_is_theocracy }
								}
								OR = {
									portrait_byzantine_proxy_clothing_trigger = yes
									portrait_umbar_clothing_trigger = yes
									portrait_bellakari_clothing_trigger = yes
									portrait_anbalukkhori_clothing_trigger = yes
								}
							}
						}
					}
				}
				trigger_else = {
					scope:highest_held_title_tier > tier_county
					OR = {
						portrait_byzantine_proxy_clothing_trigger = yes
						portrait_umbar_clothing_trigger = yes
						portrait_bellakari_clothing_trigger = yes
						portrait_anbalukkhori_clothing_trigger = yes
					}
				}
				has_ep3_dlc_trigger = yes 
			}
		}
	}

	northmen_common_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = northmen_common_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					portrait_vale_woodmen_clothing_trigger = yes
					portrait_gwathiurim_clothing_trigger = yes
				}
			}
		}
	}

	beorning_war_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = no_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
			accessory = {
				mode = add
				gene = legwear
				template = northmen_common_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 1000
				should_be_topless_portrait_trigger = yes
			}
			modifier = {
				add = 1000
				portrait_wear_armor_trigger = yes
				has_trait = skinchanger	
				OR = {
					portrait_vale_woodmen_clothing_trigger = yes
				}
			}
		}
	}

	rohan_war_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = rohan_guard_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
                add = 100
                OR = {
                    portrait_commoner_armor_trigger = { 
                        CULTURE_INPUT = rohirrim
                    }
                    portrait_low_nobles_armor_trigger = { 
                        CULTURE_INPUT = rohirrim
                    }
                    portrait_high_nobles_armor_trigger = { 
                        CULTURE_INPUT = rohirrim
                    }
                }
            }
            modifier = {
                add = 81        # So priests who are actively serving in a raised army as a commander or knight wear armor instead of priest robes
                OR = {
                    portrait_commoner_armor_in_army_trigger = { 
                        CULTURE_INPUT = rohirrim
                    }
                    portrait_low_nobles_armor_in_army_trigger = { 
                        CULTURE_INPUT = rohirrim
                    }
                    portrait_high_nobles_armor_in_army_trigger = { 
                        CULTURE_INPUT = rohirrim
                    }
                }
            }
		}
	}

	dale_common_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = dale_common_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					portrait_dalemen_clothing_trigger = yes
				}
			}
		}
	}

	dale_low_nobles_war = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = dale_war_legwear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
                add = 50
                highest_held_title_tier < tier_duchy
				NOT = { AND = { government_has_flag = government_is_mercenary  } }
                OR = {
                    portrait_commoner_armor_trigger = { 
                        CULTURE_INPUT = dalemen
                    }
                    portrait_low_nobles_armor_trigger = { 
                        CULTURE_INPUT = dalemen
                    }
                }
            }
            modifier = {
                add = 80        # So priests who are actively serving in a raised army as a commander or knight wear armor instead of priest robes
                highest_held_title_tier < tier_duchy
				NOT = { AND = { government_has_flag = government_is_mercenary  } }
                OR = {
                    portrait_commoner_armor_in_army_trigger = { 
                        CULTURE_INPUT = dalemen
                    }
                    portrait_low_nobles_armor_in_army_trigger = { 
                        CULTURE_INPUT = dalemen
                    }
                }
            }
		}
	}

	dale_high_nobles_war = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = dale_war_legwear
				range = { 0.50 1.0 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
                add = 100
                highest_held_title_tier = tier_duchy
				NOT = { AND = { government_has_flag = government_is_mercenary  } }
                OR = {
                    portrait_high_nobles_armor_trigger = { 
                        CULTURE_INPUT = dalemen
                    }
                }
            }
            modifier = {
                add = 80        # So priests who are actively serving in a raised army as a commander or knight wear armor instead of priest robes
                highest_held_title_tier = tier_duchy
				NOT = { AND = { government_has_flag = government_is_mercenary  } }
                OR = {
                    portrait_high_nobles_armor_in_army_trigger = { 
                        CULTURE_INPUT = dalemen
                    }
                }
            }
		}
	}

	dorwinion_common_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = dorwinion_common_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					portrait_dorwinion_clothing_trigger = yes
				}
			}
		}
	}

	dorwinion_low_nobles_war = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = chainmail_war_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
                add = 100
                highest_held_title_tier < tier_duchy
				NOT = { AND = { government_has_flag = government_is_mercenary  } }
                OR = {
                    portrait_commoner_armor_trigger = { 
                        CULTURE_INPUT = dorwinion
                    }
                    portrait_low_nobles_armor_trigger = { 
                        CULTURE_INPUT = dorwinion
                    }
                }
            }
            modifier = {
                add = 80        # So priests who are actively serving in a raised army as a commander or knight wear armor instead of priest robes
                highest_held_title_tier < tier_duchy
				NOT = { AND = { government_has_flag = government_is_mercenary  } }
                OR = {
                    portrait_commoner_armor_in_army_trigger = { 
                        CULTURE_INPUT = dorwinion
                    }
                    portrait_low_nobles_armor_in_army_trigger = { 
                        CULTURE_INPUT = dorwinion
                    }
                }
            }
		}
	}

	dorwinion_high_nobles_war = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = dorwinion_war_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
                add = 100
                highest_held_title_tier = tier_duchy
				NOT = { AND = { government_has_flag = government_is_mercenary  } }
                OR = {
                    portrait_high_nobles_armor_trigger = { 
                        CULTURE_INPUT = dorwinion
                    }
                }
            }
            modifier = {
                add = 80        # So priests who are actively serving in a raised army as a commander or knight wear armor instead of priest robes
                highest_held_title_tier = tier_duchy
				NOT = { AND = { government_has_flag = government_is_mercenary  } }
                OR = {
                    portrait_high_nobles_armor_in_army_trigger = { 
                        CULTURE_INPUT = dorwinion
                    }
                }
            }
		}
	}
	
	dorwinion_war_kings = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = dorwinion_royal_plate_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
                add = 100
                highest_held_title_tier > tier_duchy
                portrait_high_nobles_armor_trigger = { 
                    CULTURE_INPUT = dorwinion
                }
            }
            modifier = {
                add = 80        # So priests who are actively serving in a raised army as a commander or knight wear armor instead of priest robes
                highest_held_title_tier > tier_duchy
                portrait_high_nobles_armor_in_army_trigger = { 
                    CULTURE_INPUT = dorwinion
                }
            }
		}
	}
	
	dorwinion_mercenary = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = mercenary_plate_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
                add = 100
                government_has_flag = government_is_mercenary 
                OR = {
                    portrait_commoner_armor_trigger = { 
                        CULTURE_INPUT = dorwinion
                    }
                    portrait_low_nobles_armor_trigger = { 
                        CULTURE_INPUT = dorwinion
                    }
					portrait_commoner_armor_trigger = { 
                        CULTURE_INPUT = dalemen
                    }
                    portrait_low_nobles_armor_trigger = { 
                        CULTURE_INPUT = dalemen
                    }
                }
            }
            modifier = {
                add = 80        # So priests who are actively serving in a raised army as a commander or knight wear armor instead of priest robes
                government_has_flag = government_is_mercenary 
                OR = {
                    portrait_commoner_armor_in_army_trigger = { 
                        CULTURE_INPUT = dorwinion
                    }
                    portrait_low_nobles_armor_in_army_trigger = { 
                        CULTURE_INPUT = dorwinion
                    }
					portrait_commoner_armor_trigger = { 
                        CULTURE_INPUT = dalemen
                    }
                    portrait_low_nobles_armor_trigger = { 
                        CULTURE_INPUT = dalemen
                    }
                }
            }
		}
	}

	hobbit_legwear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = hobbit_common_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				portrait_hobbit_clothing_trigger = yes
			}
		}
	}
	
	breelander_legwear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = breelander_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 101
				portrait_hobbit_clothing_trigger = yes
				culture = {
					AND = {
						has_cultural_pillar = ethos_communal
						has_cultural_pillar = heritage_eriadorim
					}
				}						
			}		
		}
	}	

	rhunnic_common_legwear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = rhun_common_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				portrait_rhunnic_clothing_trigger = yes
			}		
		}
	}
	
	ioriag_war_low_legwear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = legwear
                template = rhun_war_legwear
				range = { 0.01 0.49 } # For the randomness to work correctly 
            }
        }
        outfit_tags = { military_outfit }
        weight = {
            base = 0
            modifier = {
                add = 130
                OR = {
                    portrait_commoner_armor_trigger = { 
                        CULTURE_INPUT = rhunnic
                    }
                    portrait_low_nobles_armor_trigger = { 
                        CULTURE_INPUT = rhunnic
                    }
                }
				has_ep2_dlc_trigger = yes					
				NOT = { portrait_variag_clothing_trigger = yes }				
				culture = {
					AND = {
						has_cultural_pillar = heritage_ioriag
					}
				}							
            }
            modifier = {
                add = 21        # So priests who are actively serving in a raised army as a commander or knight wear armor instead of priest robes
                OR = {
                    portrait_commoner_armor_in_army_trigger = { 
                        CULTURE_INPUT = rhunnic
                    }
                    portrait_low_nobles_armor_in_army_trigger = { 
                        CULTURE_INPUT = rhunnic
                    }
                }
               has_ep2_dlc_trigger = yes					
				culture = {
					AND = {
						has_cultural_pillar = heritage_ioriag
					}
				}							
            }
            modifier = { #So all soldiers in the army wear the same armor regardless of culture
                add = 130           
                OR = {
                    portrait_commoner_armor_in_army_trigger = { 
                        CULTURE_INPUT = rhunnic
                    }
                    portrait_low_nobles_armor_in_army_trigger = { 
                        CULTURE_INPUT = rhunnic
                    }
                }
				has_ep2_dlc_trigger = yes				
				exists = liege				
				liege.culture = {
					has_cultural_pillar = heritage_ioriag
				}
				NOT = { portrait_variag_clothing_trigger = yes }				
            }			
        }
    }

    ioriag_war_high_legwear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = legwear
                template = rhun_war_legwear
				range = { 0.50 1.0 } # For the randomness to work correctly 
            }
        }
        outfit_tags = { military_outfit }
        weight = {
            base = 0
            modifier = {
                add = 120
                portrait_high_nobles_armor_trigger = {
                    CULTURE_INPUT = rhunnic
                }
				NOT = { portrait_variag_clothing_trigger = yes }
				has_ep2_dlc_trigger = yes				
				culture = {
					AND = {
						has_cultural_pillar = heritage_ioriag
					}
				}							
            }
            modifier = {
                add = 21        # So priests who are actively serving in a raised army as a commander or knight wear armor instead of priest robes
                portrait_high_nobles_armor_in_army_trigger = {
                    CULTURE_INPUT = rhunnic
                }
				has_ep2_dlc_trigger = yes				
				culture = {
					AND = {
						has_cultural_pillar = heritage_ioriag
					}
				}							
            }
            modifier = { #So all soldiers in the army wear the same armor regardless of culture
                add = 200           
                portrait_high_nobles_armor_in_army_trigger = {
                    CULTURE_INPUT = rhunnic
                }
				has_ep2_dlc_trigger = yes				
				exists = liege				
				liege.culture = {
					has_cultural_pillar = heritage_ioriag
				}
				NOT = { portrait_variag_clothing_trigger = yes }				
            }						
        }
    }	

	haradrim_common_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = haradrim_common_legwear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 20
				OR = {
					portrait_mena_proxy_clothing_trigger = yes
					portrait_indian_proxy_clothing_trigger = yes
					portrait_pel_clothing_trigger = yes
					portrait_variag_clothing_trigger = yes
					portrait_khailuza_clothing_trigger = yes					
				}
			}
		}
	}

	
	haradrim_nobility_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = haradrim_common_legwear
				range = { 0.5 1.0 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				trigger_if = {
					limit = { exists = this }
					OR = {
						AND = {
							OR = {
								highest_held_title_tier > tier_county
								AND = {
									government_has_flag = government_is_republic
									primary_title.tier > 1
								}
								AND = { is_ruler = yes government_has_flag = government_is_theocracy }
							}
							NOT = { AND = { is_ruler = yes government_has_flag = government_is_mercenary  } } # Blocked for mercenaries
							OR = {
								portrait_mena_proxy_clothing_trigger = yes
								portrait_indian_proxy_clothing_trigger = yes
								portrait_pel_clothing_trigger = yes
								portrait_variag_clothing_trigger = yes
								portrait_khailuza_clothing_trigger = yes								
							}
						}
						AND = {
							exists = primary_spouse
							OR = {
								is_ruler = no
								highest_held_title_tier = tier_barony
							}
							primary_spouse = {
								OR = {
									highest_held_title_tier > tier_county
									AND = {
										government_has_flag = government_is_republic
										primary_title.tier > 1
									}
									AND = { is_ruler = yes government_has_flag = government_is_theocracy }
								}
								OR = {
									portrait_mena_proxy_clothing_spouse_trigger = yes
									portrait_indian_proxy_clothing_spouse_trigger = yes
									portrait_pel_clothing_trigger = yes
									portrait_variag_clothing_trigger = yes
									portrait_khailuza_clothing_trigger = yes									
								}
							}
						}
					}
				}
				trigger_else = {
					scope:highest_held_title_tier > tier_county
					OR = {
						portrait_mena_proxy_clothing_trigger = yes
						portrait_indian_proxy_clothing_trigger = yes
						portrait_pel_clothing_trigger = yes
						portrait_variag_clothing_trigger = yes	
						portrait_khailuza_clothing_trigger = yes
					}
				}
			}
		}
	}

	haradrim_war_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = haradrim_war_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		outfit_tags = { haradrim_war_legwear }
		weight = {
			base = 0
			modifier = {
				add = 80
				portrait_wear_armor_trigger = yes
				OR = {
					portrait_mena_proxy_clothing_trigger = yes
					portrait_indian_proxy_clothing_trigger = yes
					portrait_african_proxy_clothing_trigger = yes
					portrait_pel_clothing_trigger = yes
					portrait_variag_clothing_trigger = yes
				}
			}
		}
	}

	southron_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = utter_south_common_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 101
				OR = {
					portrait_kirani_clothing_trigger = yes
					portrait_mag_clothing_trigger = yes
				}
			}
		}
	}

	muranian_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = no_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				portrait_muranian_clothing_trigger = yes
			}
		}
	}

	muranian_war_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = uruk_soldier_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				portrait_wear_armor_trigger = yes
				OR = {
					portrait_muranian_clothing_trigger = yes
				}
			}
		}
	}	

	polar_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = polar_common_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				portrait_circumpolar_clothing_trigger = yes
			}
		}
	}
	
	subpolar_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = subpolar_common_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 105
				portrait_dwarf_clothing_trigger = yes
				culture = {
					has_cultural_pillar = heritage_stiffbeard
				}			
			}
		}
	}

	womaw_legwear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = womaw_common_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 30
				portrait_womaw_clothing_trigger = yes
			}
		}
	}

	womaw_war_legwear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = womaw_war_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 101
				portrait_wear_armor_trigger = yes
				portrait_womaw_clothing_trigger = yes
			}
		}
	}

	uruk_berserker_legwear = {
		dna_modifiers = {
			accessory = {
				mode = add	
				gene = legwear
				template = uruk_berserker_legwear
                range = { 0 1 } # For the randomness to work correctly
			}		
		}	
		weight = {
			base = 0
			modifier = {
				add = 200
				AND = {
					has_trait = urukhai_berserker
					OR = {
						portrait_mordor_uruk_clothing_trigger = yes
						portrait_isengard_uruk_clothing_trigger = yes
					}
				}
			}
		}
	}

	gollum_legwear = {
		dna_modifiers = {
			accessory = {
				mode = add	
				gene = special_clothing_accessory
				template = uruk_loincloth
                range = { 0.01 0.40 } # For the randomness to work correctly
			}		
		}	
		weight = {
			base = 0
			modifier = {
				add = 1000
				this ?= character:lineofgollum3
			}
		}
	}
	
	uruk_legwear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = uruk_soldier_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 150
				OR = {
					portrait_isengard_uruk_clothing_trigger = yes
				}
			}
		}
	}
	
	goblin_legwear = {
		dna_modifiers = {
			accessory = {
				mode = add	
				gene = special_clothing_accessory
				template = uruk_loincloth
                range = { 0.01 0.49 } # For the randomness to work correctly
			}		
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				OR = {
				portrait_goblin_clothing_trigger = yes
				portrait_honnin_clothing_trigger = yes				
				}
			}
		}
	}

	black_troll_legwear = {
		dna_modifiers = {
			accessory = {
				mode = add	
				gene = special_clothing_accessory
				template = uruk_loincloth
                range = { 0.55 0.99 } # For the randomness to work correctly
			}		
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				portrait_black_troll_clothing_trigger = yes
			}
		}
	}				

	mountain_orc_legwear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = mountain_orc_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				OR = {
					portrait_mountain_orc_clothing_trigger = yes
					portrait_southern_orc_clothing_trigger = yes					
				}
			}
		}
	}

	moria_orc_legwear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = moria_orc_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				OR = {
					portrait_moria_orc_clothing_trigger = yes
				}
			}
		}
	}
	
	dol_guldur_orc_legwear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = dol_guldur_orc_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				OR = {
					portrait_dolguldur_orc_clothing_trigger = yes
				}
			}
		}
	}	
	
	burgulhai_legwear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = mountain_orc_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				OR = {
					portrait_burgulhai_clothing_trigger = yes
				}
			}
		}
	}

	jester_legwear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = legwear
				template = jester_legwear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = -100
			modifier = {
				add = 1000
				is_male = yes
				has_court_position = court_jester_court_position
			}
			modifier = {
				factor = 0
				OR = {
					is_adult = no
					should_be_naked_trigger = yes
				}
			}			
		}
	}
}	
