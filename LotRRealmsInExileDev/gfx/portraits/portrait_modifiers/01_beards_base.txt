# Make sure the weights here match up best as possible with the custom_beards set
beards = {

	usage = game

    selection_behavior = weighted_random

	no_beard_for_children = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = no_beard
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 10000
                scope:age < 18
                portrait_dwarf_clothing_trigger = no # Dwarven children are bearded
            }
        }
    }

    has_no_beard = { # This is to give a random chance of a clean shaven look
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = no_beard
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 30 
            modifier = {
                add = -50
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
			modifier = { # LotR: Numenoreans are not bearded 
                add = 160
                numenorean_blood_tier >= 5
            }
			modifier = { # LotR: Elves don't have beards 
                add = 160
                is_elf = yes
            }
            modifier = { # LotR: Nazgul don't have beards
                add = 160
				has_trait = nazgul
            }
			modifier = {
                add = 2000
                exists = this
                has_trait = beardless
            }
            modifier = {
                add = 2000
                exists = this
                has_trait = beardless_plague
            }
            modifier = { # LotR: Hobbits be not bearded
                add = 2000
                exists = this
                portrait_hobbit_clothing_trigger = yes
            }
			modifier = { # LotR: Mag tend to not be bearded
                add = 2000
                exists = this
                OR = {
                    portrait_mag_clothing_trigger = yes
                    portrait_honnin_clothing_trigger = yes
                }
            }
            portrait_clean_shaven_clothing_modifier = yes
        }
    }

    western_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = western_beards_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        # outfit_tags = { no_clothes }
        weight = {
            base = 0
            modifier = {
                add = 70
                OR = {
                    NOT = { exists = this }
                    has_gene = {
                        category = gene_hair_type
                        template = hair_straight
                    }       
                    has_gene = {
                        category = gene_hair_type
                        template = hair_wavy
                    }            
                }
                OR = {
                    portrait_western_proxy_clothing_trigger = yes
                    portrait_byzantine_proxy_clothing_trigger = yes
                }
                NOR = {
                    portrait_gondorian_clothing_trigger = yes
                    portrait_numenorean_clothing_trigger = yes
                }
            }
            # modifier = { # Muslims should always have a beard
            #     add = 200
            #     scope:faith.religion = religion:islam_religion
            #     portrait_western_clothing_trigger = yes
            # }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                    is_elf = yes #LotR
                    has_numenorean_trait = yes #LotR
                }
            }
        }
    }

    western_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = western_beards_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        # outfit_tags = { no_clothes }
        weight = {
            base = 0
            modifier = {
                add = 70
                OR = {
                    NOT = { exists = this }
                     has_gene = {
                        category = gene_hair_type
                        template = hair_wavy
                    }       
                     has_gene = {
                        category = gene_hair_type
                        template = hair_curly
                    }            
                }
                OR = {
                    portrait_western_proxy_clothing_trigger = yes
                    portrait_byzantine_proxy_clothing_trigger = yes
                }
                NOR = {
                    portrait_gondorian_clothing_trigger = yes
                    portrait_numenorean_clothing_trigger = yes
                }
            }
            # modifier = { # Muslims should always have a beard
            #     add = 200
            #     scope:faith.religion = religion:islam_religion
            #     portrait_western_clothing_trigger = yes
            # }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                    is_elf = yes #LotR
                    has_numenorean_trait = yes #LotR
                }
            }
        }
    }

    mena_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = mena_beards_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        # outfit_tags = { no_clothes }
        weight = {
            base = 0
            modifier = {
                add = 70
                OR = {
                    NOT = { exists = this }
                     has_gene = {
                        category = gene_hair_type
                        template = hair_straight
                    }       
                    has_gene = {
                        category = gene_hair_type
                        template = hair_wavy
                    }            
                }
				OR = {
					portrait_mena_proxy_clothing_trigger = yes
					portrait_african_proxy_clothing_trigger = yes
				}
            }
            # modifier = { # Muslims should always have a beard
            #     add = 200
            #     scope:faith.religion = religion:islam_religion
            #     OR = {
			# 		portrait_mena_clothing_trigger = yes
			# 		portrait_african_clothing_trigger = yes
			# 	}
            #     NAND = { # The Prophet Muhammad does not have a portrait
            #         exists = this
            #         this = character:33922 # Prophet Muhammad
            #     }
            # }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                    # this = character:33922 # Prophet Muhammad
                    is_elf = yes #LotR
                    has_numenorean_trait = yes #LotR
                }
            }
        }
    }

    mena_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = mena_beards_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        # outfit_tags = { no_clothes }
        weight = {
            base = 0
            modifier = {
                add = 70
                OR = {
                    NOT = { exists = this }
                     has_gene = {
                        category = gene_hair_type
                        template = hair_wavy
                    }       
                    has_gene = {
                        category = gene_hair_type
                        template = hair_curly
                    }            
                }
                OR = {
					portrait_mena_proxy_clothing_trigger = yes
					portrait_african_proxy_clothing_trigger = yes
				}
            }
            # modifier = { # Muslims should always have a beard
            #     add = 200
            #     scope:faith.religion = religion:islam_religion
            #     OR = {
			# 		portrait_mena_clothing_trigger = yes
			# 		portrait_african_clothing_trigger = yes
			# 	}
            #     NAND = { # The Prophet Muhammad does not have a portrait
            #         exists = this
            #         this = character:33922 # Prophet Muhammad
            #     }
            # }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                    # this = character:33922 # Prophet Muhammad
                    is_elf = yes #LotR
                    has_numenorean_trait = yes #LotR
                }
            }
        }
    }

    indian_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = indian_beards_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        # outfit_tags = { no_clothes }
        weight = {
            base = 0
            modifier = {
                add = 70
                OR = {
                    NOT = { exists = this }
                     has_gene = {
                        category = gene_hair_type
                        template = hair_straight
                    }       
                    has_gene = {
                        category = gene_hair_type
                        template = hair_wavy
                    }            
                }
                portrait_indian_proxy_clothing_trigger = yes
            }
            # modifier = { # Muslims should always have a beard
            #     add = 200
            #     scope:faith.religion = religion:islam_religion
            #     portrait_indian_clothing_trigger = yes
            # }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                    is_elf = yes #LotR
                    has_numenorean_trait = yes #LotR
                }
            }
        }
    }

    indian_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = indian_beards_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        # outfit_tags = { no_clothes }
        weight = {
            base = 0
            modifier = {
                add = 70
                OR = {
                    NOT = { exists = this }
                     has_gene = {
                        category = gene_hair_type
                        template = hair_wavy
                    }       
                    has_gene = {
                        category = gene_hair_type
                        template = hair_curly
                    }            
                }
                portrait_indian_proxy_clothing_trigger = yes
            }
            # modifier = { # Muslims should always have a beard
            #     add = 200
            #     scope:faith.religion = religion:islam_religion
            #     portrait_indian_clothing_trigger = yes
            # }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                    is_elf = yes #LotR
                    has_numenorean_trait = yes #LotR
                }
            }
        }
    }

    thin_beards = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = thin_beards_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        # outfit_tags = { no_clothes }
        weight = {
            base = 0
            modifier = {
                add = 70
                exists = this
                has_gene = {
                    category = gene_hair_type
                    template = hair_straight_thin_beard
                }
            }
            # modifier = { # Muslims should always have a beard
            #     add = 200
            #     scope:faith.religion = religion:islam_religion
            #     trigger_if = {
            #         limit = { exists = this }
            #         has_gene = {
            #             category = gene_hair_type
            #             template = hair_straight_thin_beard
            #         }
            #     }
            # }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                    is_elf = yes #LotR
                    has_numenorean_trait = yes #LotR
                }
            }
        }
    }

    steppe_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = steppe_beards_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        # outfit_tags = { no_clothes }
        weight = {
            base = 0
            modifier = {
                add = 50
                OR = {
                    NOT = { exists = this }
                     has_gene = {
                        category = gene_hair_type
                        template = hair_straight
                    }       
                    has_gene = {
                        category = gene_hair_type
                        template = hair_wavy
                    }            
                }
                portrait_steppe_proxy_clothing_trigger = yes
            }
            # modifier = { # Muslims should always have a beard
            #     add = 200
            #     scope:faith.religion = religion:islam_religion
            #     portrait_steppe_clothing_trigger = yes
            # }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                    is_elf = yes #LotR
                    has_numenorean_trait = yes #LotR
                }
            }
        }
    }

    steppe_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = steppe_beards_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        # outfit_tags = { no_clothes }
        weight = {
            base = 0
            modifier = {
                add = 50
                OR = {
                    NOT = { exists = this }
                     has_gene = {
                        category = gene_hair_type
                        template = hair_wavy
                    }       
                    has_gene = {
                        category = gene_hair_type
                        template = hair_curly
                    }            
                }
                portrait_steppe_proxy_clothing_trigger = yes
            }
            # modifier = { # Muslims should always have a beard
            #     add = 200
            #     scope:faith.religion = religion:islam_religion
            #     portrait_steppe_clothing_trigger = yes
            # }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                    is_elf = yes #LotR
                    has_numenorean_trait = yes #LotR
                }
            }
        }
    }

    northern_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = northern_beards_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        # outfit_tags = { no_clothes }
        weight = {
            base = 0
            modifier = {
                add = 50
                OR = {
                    NOT = { exists = this }
                     has_gene = {
                        category = gene_hair_type
                        template = hair_straight
                    }       
                    has_gene = {
                        category = gene_hair_type
                        template = hair_wavy
                    }            
                }
				OR = {
					portrait_northern_proxy_clothing_trigger = yes
					portrait_gwathiurim_clothing_trigger = yes
				}
				portrait_hobbit_clothing_trigger = no
            }
            # modifier = { # Muslims should always have a beard
            #     add = 200
            #     scope:faith.religion = religion:islam_religion
            #     portrait_northern_clothing_trigger = yes
            # }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                    is_elf = yes #LotR
                    has_numenorean_trait = yes #LotR
                }
            }
        }
    }

    northern_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = northern_beards_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        # outfit_tags = { no_clothes }
        weight = {
            base = 0
            modifier = {
                add = 90
                OR = {
                    NOT = { exists = this }
                    has_gene = {
                        category = gene_hair_type
                        template = hair_wavy
                    }       
                    has_gene = {
                        category = gene_hair_type
                        template = hair_curly
                    }            
                }
				OR = {
					portrait_northern_proxy_clothing_trigger = yes
					portrait_gwathiurim_clothing_trigger = yes
					portrait_honnin_clothing_trigger = yes
				}
				portrait_hobbit_clothing_trigger = no
            }
            # modifier = { # Muslims should always have a beard
            #     add = 200
            #     scope:faith.religion = religion:islam_religion
            #     portrait_northern_clothing_trigger = yes
            # }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                    is_elf = yes #LotR
                    has_numenorean_trait = yes #LotR
                }
            }
        }
    }

    african = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = sub_saharan_beards_afro
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        # outfit_tags = { no_clothes }
        weight = {
            base = 0
            modifier = {
                add = 70
                exists = this
                 has_gene = {
                    category = gene_hair_type
                    template = hair_afro
                }              
            }
            # modifier = { # Muslims should always have a beard
            #     add = 200
            #     scope:faith.religion = religion:islam_religion
            #     portrait_african_clothing_trigger = yes
            # }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                    is_elf = yes #LotR
                    has_numenorean_trait = yes #LotR
                }
            }
        }
    }

	### SP2 - Elegance of the Empire ###

	sp2_beards_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = sp2_beards_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 4
                has_dlc_feature = elegance_of_the_empire
                OR = {
                    NOT = { exists = this }
                    has_gene = {
                    	category = gene_hair_type
                    	template = hair_straight
                    }       
                    has_gene = {
                    	category = gene_hair_type
                    	template = hair_wavy
                    }            
                }
				OR = {
					portrait_western_proxy_clothing_trigger = yes 
				}
                NOR = {
                    portrait_gondorian_clothing_trigger = yes
                    portrait_numenorean_clothing_trigger = yes
                }
            }
            # modifier = { # Muslims should always have a beard
            #     add = 200
            #     scope:faith.religion = religion:islam_religion
            #     OR = {
			# 		portrait_sp2_western_clothing_trigger = yes
			# 	}
            # }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                    is_elf = yes #LotR
                    has_numenorean_trait = yes #LotR
                }
            }
        }
    }
    
    ### FP3 Beards ###
	#iranian (variag)
	fp3_iranian_beards_straight = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = fp3_iranian_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}   
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 120
				OR = {
					NOT = { exists = this }
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}       
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}            
				}
				portrait_variag_clothing_trigger = yes
			}
			# modifier = { # Muslims should always have a beard
			#     add = 200
			#     scope:faith.religion = religion:islam_religion
			#     portrait_fp3_iranian_clothing_trigger = yes
			# }
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}

	fp3_iranian_beards_curly = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = fp3_iranian_beards_curly
				range = { 0 1 } # For the randomness to work correctly
			}
		}   
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 120
				OR = {
					NOT = { exists = this }
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}       
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}            
				}
				portrait_variag_clothing_trigger = yes
			}
			# modifier = { # Muslims should always have a beard
			#     add = 200
			#     scope:faith.religion = religion:islam_religion
			#     portrait_fp3_iranian_clothing_trigger = yes
			# }
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}

	#turkic
	fp3_turkic_beards_straight = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = fp3_turkic_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}   
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 100
				OR = {
					NOT = { exists = this }
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}       
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}            
				}
				portrait_fp3_turkic_clothing_trigger = yes
			}
			# modifier = { # Muslims should always have a beard
			#     add = 200
			#     scope:faith.religion = religion:islam_religion
			#     portrait_fp3_turkic_clothing_trigger = yes
			# }
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}

	fp3_turkic_beards_curly = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = fp3_iranian_beards_curly
				range = { 0 1 } # For the randomness to work correctly
			}
		}   
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 100
				OR = {
					NOT = { exists = this }
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}       
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}            
				}
				portrait_fp3_turkic_clothing_trigger = yes
			}
			# modifier = { # Muslims should always have a beard
			#     add = 200
			#     scope:faith.religion = religion:islam_religion
			#     portrait_fp3_turkic_clothing_trigger = yes
			# }
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	
    ### FP2 Beards ###

    fp2_beards_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = fp2_beards_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 70
                OR = {
                    NOT = { exists = this }
                     has_gene = {
                        category = gene_hair_type
                        template = hair_straight
                    }       
                    has_gene = {
                        category = gene_hair_type
                        template = hair_wavy
                    }            
                }
				OR = {
					portrait_pel_clothing_trigger = yes
					portrait_fp2_iberian_christian_clothing_trigger = yes
				}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                    is_elf = yes #LotR
                }
            }
        }
    }

    fp2_beards_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = fp2_beards_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 70
                OR = {
                    NOT = { exists = this }
                     has_gene = {
                        category = gene_hair_type
                        template = hair_wavy
                    }       
                    has_gene = {
                        category = gene_hair_type
                        template = hair_curly
                    }            
                }
				OR = {
					portrait_pel_clothing_trigger = yes
					portrait_fp2_iberian_christian_clothing_trigger = yes
				}
			}
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    ### FP1 Beards ###

    fp1_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = fp1_beards_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        # outfit_tags = { no_clothes }
        weight = {
            base = 0
            modifier = {
                add = 90
                has_fp1_dlc_trigger = yes
                OR = {
                    NOT = { exists = this }
                     has_gene = {
                        category = gene_hair_type
                        template = hair_straight
                    }       
                    has_gene = {
                        category = gene_hair_type
                        template = hair_wavy
                    }            
                }
                portrait_vale_woodmen_clothing_trigger = yes
            }
            # modifier = { # Muslims should always have a beard
            #     add = 200
            #     scope:faith.religion = religion:islam_religion
            #     portrait_fp1_norse_clothing_trigger = yes
            # }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                    is_elf = yes #LotR
                    has_numenorean_trait = yes #LotR
                }
            }
        }
    }

    fp1_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = fp1_beards_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        # outfit_tags = { no_clothes }
        weight = {
            base = 0
            modifier = {
                add = 70
                has_fp1_dlc_trigger = yes
                OR = {
                    NOT = { exists = this }
                     has_gene = {
                        category = gene_hair_type
                        template = hair_wavy
                    }       
                    has_gene = {
                        category = gene_hair_type
                        template = hair_curly
                    }            
                }
                portrait_vale_woodmen_clothing_trigger = yes
            }
            # modifier = { # Muslims should always have a beard
            #     add = 200
            #     scope:faith.religion = religion:islam_religion
            #     portrait_northern_clothing_trigger = yes
            # }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                    is_elf = yes #LotR
                    has_numenorean_trait = yes #LotR
                }
            }
        }
    }

    # orthodox_beards = {
    #     dna_modifiers = {
    #         accessory = {
    #             mode = add
    #             gene = beards
    #             template = orthodox_beards
    #             range = { 0 1 } # For the randomness to work correctly
    #         }
    #     }   
    #     weight = {
    #         base = 0
    #         modifier = { # Orthodox priests
    #             add = 200
    #             exists = this
    #             OR = {
    #                 has_character_flag = need_priest_outfit
    #                 is_theocratic_lessee = yes
    #                 AND = { is_ruler = yes government_has_flag = government_is_theocracy }
    #                 AND = { # Orthodox patriarch
    #                     exists = primary_title
    #                     primary_title = {
    #                         any_controlled_faith = {
    #                             this = faith:orthodox
    #                         }
    #                     }                    
    #                 }
    #             }
    #             OR = {
    #                 faith = faith:orthodox
    #                 faith = faith:armenian_apostolic
    #                 faith = faith:coptic
    #                 faith = faith:messalian
    #                 faith = faith:bogomilist
    #                 faith = faith:paulician
    #                 faith = faith:nestorian
    #             }
    #         }
    #     }
    # }

    ultimate_beards = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = rtt_beards
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 2000
                exists = this
				OR = {
					has_nickname = nick_the_beautiful_beard
					has_nickname = nick_the_bearded
					has_character_flag = mystic_beard_var
				}
            }
        }
    }

    ### EP2 beards ###

    ep2_beards_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = ep2_beards
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
                    NOT = { exists = this }
                    has_gene = {
                        category = gene_hair_type
                        template = hair_straight
                    }
                    has_gene = {
                        category = gene_hair_type
                        template = hair_wavy
                    }
                }
                portrait_western_clothing_trigger = yes
                has_ep2_dlc_trigger = yes
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                    is_elf = yes #LotR
                    has_numenorean_trait = yes #LotR
                }
            }
            # modifier = {
            #     add = 20
            #     portrait_era1_trigger = yes
            # }
            # modifier = {
            #     add = -20
            #     portrait_era2_trigger = yes
            # }
            # modifier = {
            #     add = -40
            #     OR = {
            #         portrait_era3_trigger = yes
            #         portrait_era4_trigger = yes
            #     }                
            # }
        }
    }
	
	### Japanese beards ###
	japanese_generic = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = japanese_beards
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        # outfit_tags = { no_clothes }
        weight = {
            base = 0
            modifier = {
                add = 100
                OR = {
                    NOT = { exists = this }
                    has_gene = {
                        category = gene_hair_type
                        template = hair_straight
                    }       
                    has_gene = {
                        category = gene_hair_type
                        template = hair_wavy
                    }            
                    has_gene = {
                        category = gene_hair_type
                        template = hair_curly
                    }            
                }
                portrait_womaw_clothing_trigger = yes
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

	######################## LotR: REALMS IN EXILE CONTENT BELOW HERE ########################

    tier_1_numenorean_blood_beards = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = tier_1_numenorean_blood_beards
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
			# Blood of Numenor beard chances reduced.
			modifier = {
                add = 190
                has_numenorean_trait = yes
            }
            modifier = {
                add = -200
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                    is_elf = yes #LotR
                }
            }
        }
    }
	
	tier_2_numenorean_blood_beards = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = tier_2_numenorean_blood_beards
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
			# Blood of Numenor beard chances reduced.
			modifier = {
                add = 190
                has_numenorean_trait = yes
            }
            modifier = {
                add = -200
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                    is_elf = yes #LotR
                }
            }
        }
    }
		
    dunedain_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = dunedain_beards_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 70
                OR = {
                    has_gene = {
                        category = gene_hair_type
                        template = hair_straight
                    }       
                    has_gene = {
                        category = gene_hair_type
                        template = hair_wavy
                    }            
                }
                OR = {
                    portrait_gondorian_clothing_trigger = yes
                    portrait_numenorean_clothing_trigger = yes
                }
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                    is_elf = yes #LotR
                    has_numenorean_trait = yes #LotR
                }
            }
        }
    }

    dunedain_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = dunedain_beards_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 70
                OR = {
                     has_gene = {
                        category = gene_hair_type
                        template = hair_wavy
                    }       
                     has_gene = {
                        category = gene_hair_type
                        template = hair_curly
                    }            
                }
                OR = {
                    portrait_gondorian_clothing_trigger = yes
                    portrait_numenorean_clothing_trigger = yes
                }
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                    is_elf = yes #LotR
                    has_numenorean_trait = yes #LotR
                }
            }
        }
    }
			
	rhunnic_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = rhunnic_beards_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 100
                OR = {
                     has_gene = {
                        category = gene_hair_type
                        template = hair_straight
                    }       
                    has_gene = {
                        category = gene_hair_type
                        template = hair_wavy
                    }            
                }
                portrait_rhunnic_clothing_trigger = yes
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                    is_elf = yes #LotR
                    has_numenorean_trait = yes #LotR
                }
            }
        }
    }

    rhunnic_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = rhunnic_beards_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        # outfit_tags = { no_clothes }
        weight = {
            base = 0
            modifier = {
                add = 100
                OR = {
                     has_gene = {
                        category = gene_hair_type
                        template = hair_wavy
                    }       
                    has_gene = {
                        category = gene_hair_type
                        template = hair_curly
                    }            
                }
                portrait_rhunnic_clothing_trigger = yes
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                    is_elf = yes #LotR
                    has_numenorean_trait = yes #LotR
                }
            }
        }
    }

    uruk_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = isengard_urukhai_beards_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 100
                OR = {
                    has_gene = {
                        category = gene_hair_type
                        template = hair_straight
                    }       
                    has_gene = {
                        category = gene_hair_type
                        template = hair_wavy
                    }            
                }
				OR = {	
					portrait_mordor_uruk_clothing_trigger = yes		
					portrait_isengard_uruk_clothing_trigger = yes
					portrait_goblin_clothing_trigger = yes
					portrait_dolguldur_orc_clothing_trigger = yes
					portrait_mountain_orc_clothing_trigger = yes
					portrait_burgulhai_clothing_trigger = yes
					portrait_moria_orc_clothing_trigger = yes
				}
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                    is_elf = yes #LotR
                    has_numenorean_trait = yes #LotR
                }
            }
        }
    }

    uruk_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = isengard_urukhai_beards_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 100
                OR = {
                     has_gene = {
                        category = gene_hair_type
                        template = hair_wavy
                    }       
                     has_gene = {
                        category = gene_hair_type
                        template = hair_curly
                    }            
                }
				OR = {	
					portrait_mordor_uruk_clothing_trigger = yes		
					portrait_isengard_uruk_clothing_trigger = yes
					portrait_goblin_clothing_trigger = yes
					portrait_dolguldur_orc_clothing_trigger = yes
					portrait_mountain_orc_clothing_trigger = yes
					portrait_burgulhai_clothing_trigger = yes
					portrait_moria_orc_clothing_trigger = yes
				}
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                    is_elf = yes #LotR
                    has_numenorean_trait = yes #LotR
                }
            }
        }
    }

    dwarven_males_vanilla = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = dwarven_beards
                range = { 0 0.6 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 1000
                is_male = yes
				portrait_dwarf_clothing_trigger = yes	
            }
        }
    }

    dwarven_males_fp1 = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = dwarven_beards
                range = { 0.6 0.88 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 1000
                is_male = yes
                has_fp1_dlc_trigger = yes
				portrait_dwarf_clothing_trigger = yes	
            }
        }
    }

    dwarven_males_fp2 = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = dwarven_beards
                range = { 0.89 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 1000
                is_male = yes
                has_fp2_dlc_trigger = yes
				portrait_dwarf_clothing_trigger = yes	
            }
        }
    }

    dwarven_females_vanilla_short = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = dwarven_beards
                range = { 0 0.16 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 1000
                is_male = no
                OR = {
                    has_game_rule = short_dwarven_beards
                    has_game_rule = long_and_short_dwarven_beards
                }
				portrait_dwarf_clothing_trigger = yes
            }
        }
    }

    dwarven_females_vanilla_long = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = dwarven_beards
                range = { 0.17 0.47 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 1000
                is_male = no
                OR = {
                    has_game_rule = long_dwarven_beards
                    has_game_rule = long_and_short_dwarven_beards
                }
                portrait_dwarf_clothing_trigger = yes
            }
        }
    }

    dwarven_females_ep2_short = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = dwarven_beards
                range = { 0.48 0.49 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 1000
                is_male = no
                has_ep2_dlc_trigger = yes
                OR = {
                    has_game_rule = short_dwarven_beards
                    has_game_rule = long_and_short_dwarven_beards
                }
				portrait_dwarf_clothing_trigger = yes
            }
        }
    }

    dwarven_females_ep2_long = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = dwarven_beards
                range = { 0.50 0.51 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 1000
                is_male = no
                has_ep2_dlc_trigger = yes
                OR = {
                    has_game_rule = long_dwarven_beards
                    has_game_rule = long_and_short_dwarven_beards
                }
				portrait_dwarf_clothing_trigger = yes
            }
        }
    }

    dwarven_females_fp1_short = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = dwarven_beards
                range = { 0.52 0.55 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 1000
                is_male = no
                has_fp1_dlc_trigger = yes
                OR = {
                    has_game_rule = short_dwarven_beards
                    has_game_rule = long_and_short_dwarven_beards
                }
				portrait_dwarf_clothing_trigger = yes
            }
        }
    }

    dwarven_females_fp1_long = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = dwarven_beards
                range = { 0.57 0.70 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 1000
                is_male = no
                has_fp1_dlc_trigger = yes
                OR = {
                    has_game_rule = long_dwarven_beards
                    has_game_rule = long_and_short_dwarven_beards
                }
				portrait_dwarf_clothing_trigger = yes
            }
        }
    }

    dwarven_females_fp2_short = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = dwarven_beards
                range = { 0.71 0.76 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 1000
                is_male = no
                has_fp2_dlc_trigger = yes
                OR = {
                    has_game_rule = short_dwarven_beards
                    has_game_rule = long_and_short_dwarven_beards
                }
				portrait_dwarf_clothing_trigger = yes
            }
        }
    }

    dwarven_females_fp2_long = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = dwarven_beards
                range = { 0.78 0.88 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 1000
                is_male = no
                has_fp2_dlc_trigger = yes
                OR = {
                    has_game_rule = long_dwarven_beards
                    has_game_rule = long_and_short_dwarven_beards
                }
				portrait_dwarf_clothing_trigger = yes
            }
        }
    }

    dwarven_females_fp3_long = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = dwarven_beards
                range = { 0.89 1.00 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 1000
                is_male = no
                has_fp3_dlc_trigger = yes
                OR = {
                    has_game_rule = long_dwarven_beards
                    has_game_rule = long_and_short_dwarven_beards
                }
				portrait_dwarf_clothing_trigger = yes
            }
        }
    }
	
	dwarven_males_blacklock = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = dwarven_beards_blacklock
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 1010
                is_male = yes
				portrait_dwarf_clothing_trigger = yes
				culture = { has_cultural_pillar = heritage_blacklock }				
            }
        }
    }

    male_beards_for_all = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = all_beards
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 9000
                is_male = yes
                has_game_rule = beards_for_all
            }
        }
    }

    female_beards_for_all = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = all_female_beards
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 9000
                is_male = no
                has_game_rule = beards_for_all
            }
        }
    }
	
	orc_beards = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = orc_beards
                range = { 0.87 0.89 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 1000
                is_male = yes
				portrait_snow_troll_clothing_trigger = yes	
            }
        }
    }
}

