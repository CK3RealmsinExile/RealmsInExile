@baby_hair_age = 5
@african_clothing_no_hair_chance = 6.5

# Make sure the weights here match up best as possible with the custom_hair set
hairstyles = {

    usage = game
    selection_behavior = weighted_random

    # Wastelands clothes
    wastelands_clothing = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                # template = wastelands_hairstyles # ispanets: To decide if we are going to show holder or not
                template = no_hairstyles  
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        # outfit_tags = { no_clothes }
        weight = {
            base = 0
            # modifier = { # Disabling to render characters for events
            #     add = 1000
            #     OR = {					
            #         portrait_wastelands_clothing_trigger = yes
            #     }
            # }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    western_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = western_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
				OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
                OR = {
					portrait_numenorean_clothing_trigger = yes
                    portrait_adunai_clothing_trigger = yes
					portrait_bellakari_clothing_trigger = yes
					portrait_dorwinion_clothing_trigger = yes
                }
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    western_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = western_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                has_gene = {
                    category = gene_hair_type
                    template = hair_wavy
                }
                OR = {
					portrait_numenorean_clothing_trigger = yes
                    portrait_adunai_clothing_trigger = yes
					portrait_bellakari_clothing_trigger = yes
					portrait_dorwinion_clothing_trigger = yes
                }
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    western_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = western_hairstyles_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                has_gene = {
                    category = gene_hair_type
                    template = hair_curly
                }
                OR = {
					portrait_numenorean_clothing_trigger = yes
                    portrait_adunai_clothing_trigger = yes
					portrait_bellakari_clothing_trigger = yes
					portrait_dorwinion_clothing_trigger = yes
                }
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    western_afro = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = western_hairstyles_afro
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                has_gene = {
                    category = gene_hair_type
                    template = hair_afro
                }
                OR = {
					portrait_numenorean_clothing_trigger = yes
                    portrait_adunai_clothing_trigger = yes
					portrait_bellakari_clothing_trigger = yes
					portrait_dorwinion_clothing_trigger = yes
                }
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }
#
#    mena_straight = {
#        dna_modifiers = {
#            accessory = {
#                mode = add
#                gene = hairstyles
#                template = mena_hairstyles_straight
#                range = { 0 1 } # For the randomness to work correctly
#            }
#        }   
#        weight = {
#            base = 0
#            modifier = {
#                add = 55
#                OR = {
#					has_gene = {
#						category = gene_hair_type
#						template = hair_straight
#					}
#					has_gene = {
#						category = gene_hair_type
#						template = hair_straight_thin_beard
#					}
#				}
#                portrait_mena_clothing_trigger = yes
#            }
#            modifier = {
#                add = -100
#                OR = {
#                    is_from_ruler_designer = yes
#                    has_character_flag = has_scripted_appearance
#                }
#            }
#        }
#    }
#
#    mena_wavy = {
#        dna_modifiers = {
#            accessory = {
#                mode = add
#                gene = hairstyles
#                template = mena_hairstyles_wavy
#                range = { 0 1 } # For the randomness to work correctly
#            }
#        }   
#        weight = {
#            base = 0
#            modifier = {
#                add = 55
#                has_gene = {
#                    category = gene_hair_type
#                    template = hair_wavy
#                }
#                portrait_mena_clothing_trigger = yes
#            }
#            modifier = {
#                add = -100
#                OR = {
#                    is_from_ruler_designer = yes
#                    has_character_flag = has_scripted_appearance
#                }
#            }
#        }
#    }
#
#    mena_curly = {
#        dna_modifiers = {
#            accessory = {
#                mode = add
#                gene = hairstyles
#                template = mena_hairstyles_curly
#                range = { 0 1 } # For the randomness to work correctly
#            }
#        }   
#        weight = {
#            base = 0
#            modifier = {
#                add = 55
#                has_gene = {
#                    category = gene_hair_type
#                    template = hair_curly
#                }
#                portrait_mena_clothing_trigger = yes
#            }
#            modifier = {
#                add = -100
#                OR = {
#                    is_from_ruler_designer = yes
#                    has_character_flag = has_scripted_appearance
#                }
#            }
#        }
#    }
#
#    mena_afro = {
#        dna_modifiers = {
#            accessory = {
#                mode = add
#                gene = hairstyles
#                template = mena_hairstyles_afro
#                range = { 0 1 } # For the randomness to work correctly
#            }
#        }   
#        weight = {
#            base = 0
#            modifier = {
#                add = 55
#                has_gene = {
#                    category = gene_hair_type
#                    template = hair_afro
#                }
#                portrait_mena_clothing_trigger = yes
#            }
#            modifier = {
#                add = -100
#                OR = {
#                    is_from_ruler_designer = yes
#                    has_character_flag = has_scripted_appearance
#                }
#            }
#        }
#    }
#
#    byzantine_straight = {
#        dna_modifiers = {
#            accessory = {
#                mode = add
#                gene = hairstyles
#                template = byzantine_hairstyles_straight
#                range = { 0 1 } # For the randomness to work correctly
#            }
#        }   
#        weight = {
#            base = 0
#            modifier = {
#                add = 55
#                OR = {
#					has_gene = {
#						category = gene_hair_type
#						template = hair_straight
#					}
#					has_gene = {
#						category = gene_hair_type
#						template = hair_straight_thin_beard
#					}
#				}
#				OR = {
#					portrait_byzantine_clothing_trigger = yes
#					portrait_bellakar_clothing_trigger = yes
#				}
#            }
#            modifier = {
#                add = -100
#                OR = {
#                    is_from_ruler_designer = yes
#                    has_character_flag = has_scripted_appearance
#                }
#            }
#        }
#    }
#
#    byzantine_wavy = {
#        dna_modifiers = {
#            accessory = {
#                mode = add
#                gene = hairstyles
#                template = byzantine_hairstyles_wavy
#                range = { 0 1 } # For the randomness to work correctly
#            }
#        }   
#        weight = {
#            base = 0
#            modifier = {
#                add = 55
#                has_gene = {
#                    category = gene_hair_type
#                    template = hair_wavy
#                }
#                OR = {
#					portrait_byzantine_clothing_trigger = yes
#					portrait_bellakar_clothing_trigger = yes
#				}
#            }
#            modifier = {
#                add = -100
#                OR = {
#                    is_from_ruler_designer = yes
#                    has_character_flag = has_scripted_appearance
#                }
#            }
#        }
#    }
#
#    byzantine_curly = {
#        dna_modifiers = {
#            accessory = {
#                mode = add
#                gene = hairstyles
#                template = byzantine_hairstyles_curly
#                range = { 0 1 } # For the randomness to work correctly
#            }
#        }   
#        weight = {
#            base = 0
#            modifier = {
#                add = 55
#                has_gene = {
#                    category = gene_hair_type
#                    template = hair_curly
#                }
#                OR = {
#					portrait_byzantine_clothing_trigger = yes
#					portrait_bellakar_clothing_trigger = yes
#				}
#            }
#            modifier = {
#                add = -100
#                OR = {
#                    is_from_ruler_designer = yes
#                    has_character_flag = has_scripted_appearance
#                }
#            }
#        }
#    }
#
#    byzantine_afro = {
#        dna_modifiers = {
#            accessory = {
#                mode = add
#                gene = hairstyles
#                template = byzantine_hairstyles_afro
#                range = { 0 1 } # For the randomness to work correctly
#            }
#        }   
#        weight = {
#            base = 0
#            modifier = {
#                add = 55
#                has_gene = {
#                    category = gene_hair_type
#                    template = hair_afro
#                }
#                OR = {
#					portrait_byzantine_clothing_trigger = yes
#					portrait_bellakar_clothing_trigger = yes
#				}
#            }
#            modifier = {
#                add = -100
#                OR = {
#                    is_from_ruler_designer = yes
#                    has_character_flag = has_scripted_appearance
#                }
#            }
#        }
#    }

    indian_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = indian_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
                portrait_rayan_clothing_trigger = yes
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    indian_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = indian_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                has_gene = {
                    category = gene_hair_type
                    template = hair_wavy
                }
                portrait_rayan_clothing_trigger = yes
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    indian_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = indian_hairstyles_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                has_gene = {
                    category = gene_hair_type
                    template = hair_curly
                }
                portrait_rayan_clothing_trigger = yes
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    indian_afro = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = indian_hairstyles_afro
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                has_gene = {
                    category = gene_hair_type
                    template = hair_afro
                }
                portrait_rayan_clothing_trigger = yes
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    steppe_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = steppe_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
                portrait_variag_clothing_trigger = yes
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    steppe_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = steppe_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                has_gene = {
                    category = gene_hair_type
                    template = hair_wavy
                }
                portrait_variag_clothing_trigger = yes
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    steppe_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = steppe_hairstyles_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                has_gene = {
                    category = gene_hair_type
                    template = hair_curly
                }
                portrait_variag_clothing_trigger = yes
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    steppe_afro = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = steppe_hairstyles_afro
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                has_gene = {
                    category = gene_hair_type
                    template = hair_afro
                }
                portrait_variag_clothing_trigger = yes
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    northern_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = northern_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
                OR = {
					portrait_northron_clothing_trigger = yes
					portrait_gwathiurim_clothing_trigger = yes
					portrait_vale_woodmen_clothing_trigger = yes
					portrait_dalemen_clothing_trigger = yes
				}
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    northern_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = northern_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                has_gene = {
                    category = gene_hair_type
                    template = hair_wavy
                }
                OR = {
					portrait_northron_clothing_trigger = yes
					portrait_gwathiurim_clothing_trigger = yes
					portrait_vale_woodmen_clothing_trigger = yes
					portrait_dalemen_clothing_trigger = yes
				}
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    northern_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = northern_hairstyles_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                has_gene = {
                    category = gene_hair_type
                    template = hair_curly
                }
                OR = {
					portrait_northron_clothing_trigger = yes
					portrait_gwathiurim_clothing_trigger = yes
					portrait_vale_woodmen_clothing_trigger = yes
					portrait_dalemen_clothing_trigger = yes
				}
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
            modifier = {
				add = 1000
				portrait_wastelands_clothing_trigger = yes
			}
        }
    }

    northern_afro = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = northern_hairstyles_afro
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                has_gene = {
                    category = gene_hair_type
                    template = hair_afro
                }
                OR = {
					portrait_northron_clothing_trigger = yes
					portrait_gwathiurim_clothing_trigger = yes
					portrait_vale_woodmen_clothing_trigger = yes
					portrait_dalemen_clothing_trigger = yes
				}
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    african_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = sub_saharan_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
                portrait_nafarati_clothing_trigger = yes
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    african_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = sub_saharan_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                has_gene = {
                    category = gene_hair_type
                    template = hair_wavy
                }
                portrait_nafarati_clothing_trigger = yes
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    african_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = sub_saharan_hairstyles_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                has_gene = {
                    category = gene_hair_type
                    template = hair_curly
                }
                portrait_nafarati_clothing_trigger = yes
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    african_afro = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = sub_saharan_hairstyles_afro
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                has_gene = {
                    category = gene_hair_type
                    template = hair_afro
                }
                portrait_nafarati_clothing_trigger = yes
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

	baby_hair = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = western_baby_hairstyles
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        # outfit_tags = { no_clothes }
        weight = {
            base = 0
            modifier = {
                add = 100
                age < @baby_hair_age
                NOT = { portrait_nafarati_clothing_trigger = yes }
            }
        }
    }

    baby_hair_sub_saharan = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = sub_saharan_baby_hairstyles
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        # outfit_tags = { no_clothes }
        weight = {
            base = 0
            modifier = {
                add = 100
                age < @baby_hair_age
                portrait_nafarati_clothing_trigger = yes
            }
        }
    }

    no_hair = { # This is to give a random chance of a clean shaven look
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = no_hairstyles
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = -100
                age < @baby_hair_age
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
            modifier = {
                add = 250
				has_trait = nazgul
            }
            # Different likelyhood of a clean shaven look in different cultures
            #modifier = {
            #    add = @african_clothing_no_hair_chance
            #    portrait_african_clothing_trigger = yes
            #}
        }
    }

    ### FP2 Hair ###

    #fp2_hairstyles_iberian_muslim_straight = {
    #    dna_modifiers = {
    #        accessory = {
    #            mode = add
    #            gene = hairstyles
    #            template = fp2_hairstyles_iberian_muslim_straight
    #            range = { 0 1 } # For the randomness to work correctly
    #        }
    #    }   
    #    weight = {
    #        base = 0
    #        modifier = {
    #            add = 55
    #            OR = {
    #                NOT = { exists = this }
	#				has_gene = {
	#					category = gene_hair_type
	#					template = hair_straight
	#				}
	#				has_gene = {
	#					category = gene_hair_type
	#					template = hair_straight_thin_beard
	#				}
	#			}
    #            portrait_fp2_iberian_muslim_clothing_trigger = yes
    #        }
    #        modifier = {
    #            add = -100
    #            exists = this
    #            is_lowborn = no 
    #            OR = {
    #                is_from_ruler_designer = yes
    #                has_character_flag = has_scripted_appearance
    #            }
    #        }
    #    }
    #}
	#
    # fp2_hairstyles_iberian_muslim_straight_commoners = {
    #    dna_modifiers = {
    #        accessory = {
    #            mode = add
    #            gene = hairstyles
    #            template = fp2_hairstyles_iberian_muslim_straight_common
    #            range = { 0 1 } # For the randomness to work correctly
    #        }
    #    }   
    #    weight = {
    #        base = 0
    #        modifier = {
    #            add = 55
    #            OR = {
    #                NOT = { exists = this }
	#				has_gene = {
	#					category = gene_hair_type
	#					template = hair_straight
	#				}
	#				has_gene = {
	#					category = gene_hair_type
	#					template = hair_straight_thin_beard
	#				}
	#			}
    #            portrait_fp2_iberian_muslim_clothing_trigger = yes
    #        }
    #        modifier = {
    #            add = -100
    #            exists = this
    #            is_lowborn = yes
    #            OR = {
    #                is_from_ruler_designer = yes
    #                has_character_flag = has_scripted_appearance
    #            }
    #        }
    #    }
    #}
	#
    #fp2_hairstyles_iberian_muslim_wavy = {
    #    dna_modifiers = {
    #        accessory = {
    #            mode = add
    #            gene = hairstyles
    #            template = fp2_hairstyles_iberian_muslim_wavy
    #            range = { 0 1 } # For the randomness to work correctly
    #        }
    #    }   
    #    weight = {
    #        base = 0
    #        modifier = {
    #            add = 55
    #            exists = this
    #          	is_lowborn = no 
    #            has_gene = {
    #                category = gene_hair_type
    #                template = hair_wavy
    #            }
    #            portrait_fp2_iberian_muslim_clothing_trigger = yes
    #        }
    #        modifier = {
    #            add = -100
    #            exists = this
    #            OR = {
    #                is_from_ruler_designer = yes
    #                has_character_flag = has_scripted_appearance
    #            }
    #        }
    #    }
    #}
	#
    #fp2_hairstyles_iberian_muslim_wavy_commoners = {
    #    dna_modifiers = {
    #        accessory = {
    #            mode = add
    #            gene = hairstyles
    #            template = fp2_hairstyles_iberian_muslim_wavy_common
    #            range = { 0 1 } # For the randomness to work correctly
    #        }
    #    }   
    #    weight = {
    #        base = 0
    #        modifier = {
    #            add = 55
    #            exists = this
    #          	is_lowborn = yes 
    #            has_gene = {
    #                category = gene_hair_type
    #                template = hair_wavy
    #            }
    #            portrait_fp2_iberian_muslim_clothing_trigger = yes
    #        }
    #        modifier = {
    #            add = -100
    #            exists = this
    #            OR = {
    #                is_from_ruler_designer = yes
    #                has_character_flag = has_scripted_appearance
    #            }
    #        }
    #    }
    #}
	#
    #fp2_hairstyles_iberian_muslim_curly = {
    #    dna_modifiers = {
    #        accessory = {
    #            mode = add
    #            gene = hairstyles
    #            template = fp2_hairstyles_iberian_muslim_curly
    #            range = { 0 1 } # For the randomness to work correctly
    #        }
    #    }   
    #    weight = {
    #        base = 0
    #        modifier = {
    #            add = 55
    #            exists = this
    #            is_lowborn = no
    #            has_gene = {
    #                category = gene_hair_type
    #                template = hair_curly
    #            }
    #            portrait_fp2_iberian_muslim_clothing_trigger = yes
    #        }
    #        modifier = {
    #            add = -100
    #            exists = this
    #            OR = {
    #                is_from_ruler_designer = yes
    #                has_character_flag = has_scripted_appearance
    #            }
    #        }
    #    }
    #}
	#
	#fp2_hairstyles_iberian_muslim_curly_commoners = {
    #    dna_modifiers = {
    #        accessory = {
    #            mode = add
    #            gene = hairstyles
    #            template = fp2_hairstyles_iberian_muslim_curly_common
    #            range = { 0 1 } # For the randomness to work correctly
    #        }
    #    }   
    #    weight = {
    #        base = 0
    #        modifier = {
    #            add = 55
    #            exists = this
    #            is_lowborn = yes 
    #            has_gene = {
    #                category = gene_hair_type
    #                template = hair_curly
    #            }
    #            portrait_fp2_iberian_muslim_clothing_trigger = yes
    #        }
    #        modifier = {
    #            add = -100
    #            exists = this
    #            OR = {
    #                is_from_ruler_designer = yes
    #                has_character_flag = has_scripted_appearance
    #            }
    #        }
    #    }
    #}

    fp2_hairstyles_iberian_christian_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = fp2_hairstyles_iberian_christian_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
				OR = {
                    NOT = { exists = this }
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
                portrait_dorwinion_fp2_clothing_trigger = yes
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    fp2_hairstyles_iberian_christian_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = fp2_hairstyles_iberian_christian_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                has_gene = {
                    category = gene_hair_type
                    template = hair_wavy
                }
                portrait_dorwinion_fp2_clothing_trigger = yes
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    fp2_hairstyles_iberian_christian_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = fp2_hairstyles_iberian_christian_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                has_gene = {
                    category = gene_hair_type
                    template = hair_curly
                }
                portrait_dorwinion_fp2_clothing_trigger = yes
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    gwathiurim_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = fp1_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
                portrait_vale_woodmen_clothing_trigger = yes
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    gwathiurim_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = fp1_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                has_gene = {
                    category = gene_hair_type
                    template = hair_wavy
                }
                portrait_vale_woodmen_clothing_trigger = yes
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

	### LOTR HAIR ###
	
    rohirrim_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = rohirrim_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
                OR = {
					portrait_rohirrim_clothing_trigger = yes
					portrait_northron_clothing_trigger = yes
                    portrait_vale_woodmen_clothing_trigger = yes						
				}
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    rohirrim_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = rohirrim_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                has_gene = {
                    category = gene_hair_type
                    template = hair_wavy
                }
                OR = {
					portrait_rohirrim_clothing_trigger = yes
					portrait_northron_clothing_trigger = yes
                    portrait_vale_woodmen_clothing_trigger = yes
				}
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }
	
    rohirrim_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = rohirrim_hairstyles_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                has_gene = {
                    category = gene_hair_type
                    template = hair_curly
                }
				OR = {
					portrait_rohirrim_clothing_trigger = yes
					portrait_northron_clothing_trigger = yes
                    portrait_vale_woodmen_clothing_trigger = yes
				}
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }
	
   uruk_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = isengard_urukhai_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 100
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
				OR = {
					portrait_mordor_uruk_clothing_trigger = yes		
					portrait_isengard_uruk_clothing_trigger = yes						
				}
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    uruk_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = isengard_urukhai_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 100
                has_gene = {
                    category = gene_hair_type
                    template = hair_wavy
                }
				OR = {
					portrait_mordor_uruk_clothing_trigger = yes		
					portrait_isengard_uruk_clothing_trigger = yes						
				}
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }
	
    uruk_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = isengard_urukhai_hairstyles_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 100
                has_gene = {
                    category = gene_hair_type
                    template = hair_curly
                }
				OR = {
					portrait_mordor_uruk_clothing_trigger = yes		
					portrait_isengard_uruk_clothing_trigger = yes						
				}
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }
	
   gondorian_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = gondorian_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
                OR = {
                    portrait_gondorian_clothing_trigger = yes
                    portrait_harondorim_clothing_trigger = yes
                }
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    gondorian_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = gondorian_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                has_gene = {
                    category = gene_hair_type
                    template = hair_wavy
                }
                OR = {
                    portrait_gondorian_clothing_trigger = yes
                    portrait_harondorim_clothing_trigger = yes
                }
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }
	
    gondorian_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = gondorian_hairstyles_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                has_gene = {
                    category = gene_hair_type
                    template = hair_curly
                }
                OR = {
                    portrait_gondorian_clothing_trigger = yes
                    portrait_harondorim_clothing_trigger = yes
                }
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }
		
   haradrim_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = haradrim_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
				OR = {
					portrait_north_haradrim_clothing_trigger = yes
					portrait_south_haradrim_clothing_trigger = yes
					portrait_east_haradrim_clothing_trigger = yes
				}
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    haradrim_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = haradrim_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                has_gene = {
                    category = gene_hair_type
                    template = hair_wavy
                }
                OR = {
					portrait_north_haradrim_clothing_trigger = yes
					portrait_south_haradrim_clothing_trigger = yes
					portrait_east_haradrim_clothing_trigger = yes
				}
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }
	
    haradrim_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = haradrim_hairstyles_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                has_gene = {
                    category = gene_hair_type
                    template = hair_curly
                }
                OR = {
					portrait_north_haradrim_clothing_trigger = yes
					portrait_south_haradrim_clothing_trigger = yes
					portrait_east_haradrim_clothing_trigger = yes
				}
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }
	
   rhunnic_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = rhunnic_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
				portrait_rhunnic_clothing_trigger = yes
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    rhunnic_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = rhunnic_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                has_gene = {
                    category = gene_hair_type
                    template = hair_wavy
                }
				portrait_rhunnic_clothing_trigger = yes
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }
	
    rhunnic_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = rhunnic_hairstyles_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                has_gene = {
                    category = gene_hair_type
                    template = hair_curly
                }
				portrait_rhunnic_clothing_trigger = yes
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }
    
    elven_vanilla_long = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = elvish_hairstyles_vanilla
                range = { 0 0.37 } # Range of long hair on gene
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                portrait_elven_clothing_trigger = yes
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    elven_vanilla_medium = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = elvish_hairstyles_vanilla
                range = { 0.39 0.74 } # Range of medium hair on gene
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                portrait_elven_clothing_trigger = yes
                OR = {
                    AND = {
                        is_male = yes
                        scope:culture = {
                            NOR = {
                                has_cultural_pillar = heritage_quendi
                                has_cultural_pillar = heritage_calaquendi
                            }
                        }
                    }
                    is_male = no
                }
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    elven_vanilla_short = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = elvish_hairstyles_vanilla
                range = { 0.76 1 } # Range of short hair on gene
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                portrait_elven_clothing_trigger = yes
                OR = {
                    AND = {
                        is_male = yes
                        scope:culture = {
                            has_cultural_pillar = heritage_moriquendi
                        }
                    }
                    is_male = no
                }
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    elven_fp1_long = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = elvish_hairstyles_fp1
                range = { 0 0.59 } # Range of long hair on gene
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                has_fp1_dlc_trigger = yes
                portrait_elven_clothing_trigger = yes
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    elven_fp1_medium = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = elvish_hairstyles_fp1
                range = { 0.61 0.79 } # Range of medium hair on gene
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                has_fp1_dlc_trigger = yes
                portrait_elven_clothing_trigger = yes
                OR = {
                    AND = {
                        is_male = yes
                        scope:culture = {
                            NOR = {
                                has_cultural_pillar = heritage_quendi
                                has_cultural_pillar = heritage_calaquendi
                            }
                        }
                    }
                    is_male = no
                }
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    elven_fp1_short = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = elvish_hairstyles_fp1
                range = { 0.81 1 } # Range of short hair on gene
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                has_fp1_dlc_trigger = yes
                portrait_elven_clothing_trigger = yes
                OR = {
                    AND = {
                        is_male = yes
                        scope:culture = {
                            has_cultural_pillar = heritage_moriquendi
                        }
                    }
                    is_male = no
                }
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    elven_fp2_long = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = elvish_hairstyles_fp2
                range = { 0 0.63 } # Range of long hair on gene
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                has_fp2_dlc_trigger = yes
                portrait_elven_clothing_trigger = yes
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    elven_fp2_medium = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = elvish_hairstyles_fp2
                range = { 0.65 1 } # Range of medium hair on gene
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                has_fp2_dlc_trigger = yes
                portrait_elven_clothing_trigger = yes
                OR = {
                    AND = {
                        is_male = yes
                        scope:culture = {
                            NOR = {
                                has_cultural_pillar = heritage_quendi
                                has_cultural_pillar = heritage_calaquendi
                            }
                        }
                    }
                    is_male = no
                }
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

}