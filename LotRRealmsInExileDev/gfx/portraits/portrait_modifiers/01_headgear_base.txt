# Tags:
# rank_headgear: any headgear that signifies a certain title. crowns, pope hat etc.



headgear = {
	# interface_position = 1
	usage = game
	selection_behavior = weighted_random
	priority = 1
	
	## No Headgear ##

	no_headgear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = no_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		
		weight = {
			## No headgear for children under 16 ## 
			base = 0
			modifier = {
				add = 1000
				age < 16
			}
			# No headgear for characters with an active Vow of Poverty
			modifier = {
				add = 100
				has_character_modifier = vow_of_poverty_modifier
				# Should still wear armor when going to war
				NOT = { portrait_wear_armor_trigger = yes }
			}
			modifier = { # Saruman no wear hat
				add = 1000
				exists = character:lineofsaruman
				this = character:lineofsaruman
			}
			modifier = { # Remove headgear to avoid clipping with disfigured iron mask
				add = 2000
				has_trait = disfigured
			}
			modifier = {
				add = 2000
				exists = character:lineofsauron #Sauron
				this = character:lineofsauron #Sauron
				has_game_rule = fair_sauron
			}
			modifier = { 
				add = 1000
				portrait_gondorian_clothing_trigger = yes
				exists = liege
                OR = {
					liege = { 
						primary_title = title:d_forithilien
					}
					liege = { 
						primary_title = title:d_laamp_rangers_of_ithilien
					}
				}
			}
			modifier = {
				add = 200
 				portrait_rayan_clothing_trigger = yes
				culture = {
					OR = {
						has_cultural_pillar = ethos_stoic						
					}
				}							
			}			
		}
	}
	
	## MAG ##

	mag_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mag_low_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = mag
                }
			}
			modifier = {
				add = 100
                portrait_commoner_no_mayors_trigger = {
                    CULTURE_INPUT = mag
                }
			}
		}
	}

	mag_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mag_low_headgear
				range = { 0.51 0.99 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = mag
                }
			}
		}
	}

	mag_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mag_high_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = mag
                }   
			}
		}
	}

	mag_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mag_high_headgear
				range = { 0.51 0.74 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_royalty_trigger = {
                    CULTURE_INPUT = mag
                }   
			}
		}
	}

	mag_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mag_high_headgear
				range = { 0.76 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_imperial_nobles_headgear_trigger = {
                    CULTURE_INPUT = mag 
                }
			}
		}
	}

	## Womaw ##

	womaw_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = no_headgear
				range = { 0 1 }
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = womaw
                }
			}
			modifier = {
				add = 100
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = womaw
                }
			}
		}
	}

	womaw_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = womaw_low_headgear
				range = { 0 1 }
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = womaw
                }
			}
		}
	}

	womaw_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = womaw_low_headgear
				range = { 0 1 }
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = womaw
                }   
			}
		}
	}

	## GONDORIAN ##

	gondorian_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = gondorian_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = gondorian
                }
			}
			modifier = {
				add = 100
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = gondorian
                }
			}
		}
	}

	gondorian_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = gondorian_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = gondorian
                }
			}
		}
	}

	gondorian_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = gondorian_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = gondorian
                }   
			}
		}
	}

	gondorian_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = gondorian_high_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_royalty_trigger = {
                    CULTURE_INPUT = gondorian
                }   
			}
		}
	}

	gondorian_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = gondorian_high_headgear
				range = { 0.51 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_imperial_nobles_headgear_trigger = {
                    CULTURE_INPUT = gondorian 
                }
			}
		}
	}

	gondorian_wing_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = lotr_unique_headgear
				range = { 0.30 0.31 }
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 101 # always pick the Crown of Gondor crown over the western one
				portrait_crown_of_gondor_trigger = yes
			}
		}
	}
	
	castamiri_wing_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = lotr_unique_headgear
				range = { 0.99 1.0 }
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 102 # always pick the Gilded crown over the Silver one
				has_primary_title = title:e_castamir
			}
		}
	}

	## Harondorim ##

	harondorim_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = harondorim_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = harondorim
                }
			}
			modifier = {
				add = 100
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = harondorim
                }
			}
		}
	}

	harondorim_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = gondorian_high_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = harondorim
                }
			}
		}
	}

	harondorim_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = harondorim_high_headgear
				range = { 0.51 0.99 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = harondorim
                }   
			}
		}
	}

	## Rohirrim ##

	rohirrim_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = rohirrim_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = rohirrim
                }
			}
			modifier = {
				add = 100
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = rohirrim
                }
			}
		}
	}

	rohirrim_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = rohirrim_high_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = rohirrim
                }
			}
		}
	}

	rohirrim_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = rohirrim_high_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = rohirrim
                }   
			}
		}
	}

	rohirrim_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = rohirrim_high_headgear
				range = { 0.51 0.99 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_royalty_trigger = {
                    CULTURE_INPUT = rohirrim
                }   
			}
		}
	}

	## Gwathiurim ##

	gwathiurim_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dunlending_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = gwathiurim
                }
			}
			modifier = {
				add = 50
				OR = {
					portrait_commoner_clothing_trigger = {
						CULTURE_INPUT = gwathiurim
					}
					portrait_low_nobles_clothing_trigger = {
						CULTURE_INPUT = gwathiurim
					}
				}
			}
		}
	}

	gwathiurim_low_nobility = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dunlending_high_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = gwathiurim
                }
			}
		}
	}
	
	gwathiurim_kings = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dunlending_high_headgear
				range = { 0.51 0.74 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_royalty_trigger = {
                    CULTURE_INPUT = gwathiurim
                }   
			}
		}
	}
	
	gwathiurim_emperors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dunlending_high_headgear
				range = { 0.76 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_imperial_trigger = {
                    CULTURE_INPUT = gwathiurim
                }   
			}
		}
	}	

	## Vale / Woodmen ##

	woodmen_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = woodmen_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = vale_woodmen
                }
			}
			modifier = {
				add = 50
				OR = {
					portrait_commoner_clothing_trigger = {
						CULTURE_INPUT = vale_woodmen
					}
					portrait_low_nobles_clothing_trigger = {
						CULTURE_INPUT = vale_woodmen
					}
				}
			}
		}
	}

	woodmen_low_nobility = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = woodmen_high_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100 
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = vale_woodmen
                }
			}	
		}
	}
	
	woodmen_kings = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = woodmen_high_headgear
				range = { 0.51 0.74 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_royalty_trigger = {
                    CULTURE_INPUT = vale_woodmen
                }   
			}
		}
	}
	
	woodmen_emperors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = woodmen_high_headgear
				range = { 0.76 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_imperial_trigger = {
                    CULTURE_INPUT = vale_woodmen
                }   
			}
		}
	}
	
	## Dalemen ##

	dalemen_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dale_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = dalemen
                }
			}
			modifier = {
				add = 50
				portrait_commoner_clothing_trigger = {
					CULTURE_INPUT = dalemen
				}
			}
		}
	}

	dalemen_counts = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dale_high_headgear
				range = { 0.01 0.24 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = dalemen
                }
			}
		}
	}
	
	dalemen_dukes = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dale_high_headgear
				range = { 0.26 0.49 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100 
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = dalemen
                }
			}	
		}
	}
	
	dalemen_kings = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dale_high_headgear
				range = { 0.51 0.74 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_royalty_trigger = {
                    CULTURE_INPUT = dalemen
                }   
			}
		}
	}
	
	dalemen_emperors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dale_high_headgear
				range = { 0.76 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_imperial_trigger = {
                    CULTURE_INPUT = dalemen
                }   
			}
		}
	}
	
	##  Dorwionrim ##

	dorwinion_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dorwinion_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = dorwinion
                }
			}
			modifier = {
				add = 50
				portrait_commoner_clothing_trigger = {
					CULTURE_INPUT = dorwinion
				}
			}
		}
	}

	dorwinion_counts = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dorwinion_high_headgear
				range = { 0.01 0.24 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = dorwinion
                }
			}
		}
	}
	
	dorwinion_dukes = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dorwinion_high_headgear
				range = { 0.26 0.49 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100 
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = dorwinion
                }
			}	
		}		
	}
	
	dorwinion_kings = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dorwinion_high_headgear
				range = { 0.51 0.74 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_royalty_trigger = {
                    CULTURE_INPUT = dorwinion
                }   
			}
		}
	}
	
	dorwinion_emperors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dorwinion_high_headgear
				range = { 0.76 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_imperial_trigger = {
                    CULTURE_INPUT = dorwinion
                }   
			}
		}		
	}

	bellakari_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = bellakari_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = bellakari
                }
			}
			modifier = {
				add = 50
				portrait_commoner_clothing_trigger = {
					CULTURE_INPUT = bellakari
				}
			}
		}
	}

	bellakari_counts = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = bellakari_high_headgear
				range = { 0.01 0.24 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = bellakari
                }
			}
		}
	}

	bellakari_dukes = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = bellakari_high_headgear
				range = { 0.26 0.49 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100 
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = bellakari
                }
			}	
		}	
	}

	bellakari_kings = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = bellakari_high_headgear
				range = { 0.51 0.74 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_royalty_trigger = {
                    CULTURE_INPUT = bellakari
                }   
			}
		}
	}

	bellakari_emperors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = bellakari_high_headgear
				range = { 0.76 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_imperial_trigger = {
                    CULTURE_INPUT = bellakari
                }   
			}
		}	
	}

	## Rayan ##

	rayan_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = rayan_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = rayan
                }
			}
			modifier = {
				add = 50
				portrait_commoner_clothing_trigger = {
					CULTURE_INPUT = rayan
				}
			}
		}
	}

	rayan_counts = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = rayan_high_headgear
				range = { 0.01 0.24 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = rayan
                }
			}
		}
	}

	rayan_dukes = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = rayan_high_headgear
				range = { 0.26 0.49 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100 
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = rayan
                }
			}	
		}	
	}

	rayan_kings = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = rayan_high_headgear
				range = { 0.51 0.74 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_royalty_trigger = {
                    CULTURE_INPUT = rayan
                }   
			}
		}
	}

	rayan_emperors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = rayan_high_headgear
				range = { 0.76 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_imperial_trigger = {
                    CULTURE_INPUT = rayan
                }   
			}
		}		
	}

	## Sirayni ##

	#sirayni_commoners = {
	#	dna_modifiers = {
	#		accessory = {
	#			mode = add
	#			gene = headgear
	#			template = sirayni_low_headgear
	#			range = { 0.01 0.49 } # For the randomness to work correctly
	#		}
	#	}	
	#	weight = {
	#		base = 0
	#		modifier = {
	#			add = 80
    #            portrait_commoner_headgear_fallback_trigger = {
    #                CULTURE_INPUT = sirayni
    #            }
	#		}
	#		modifier = {
	#			add = 50
	#			portrait_commoner_clothing_trigger = {
	#				CULTURE_INPUT = sirayni
	#			}
	#		}
	#	}
	#}
	#
	#sirayni_counts = {
	#	dna_modifiers = {
	#		accessory = {
	#			mode = add
	#			gene = headgear
	#			template = sirayni_low_headgear
	#			range = { 0.51 0.99 } # For the randomness to work correctly
	#		}
	#	}	
	#	weight = {
	#		base = 0
	#		modifier = {
	#			add = 100
    #            portrait_low_nobles_clothing_trigger = {
    #                CULTURE_INPUT = sirayni
    #            }
	#		}
	#	}
	#}
	#
	#sirayni_dukes = {
	#	dna_modifiers = {
	#		accessory = {
	#			mode = add
	#			gene = headgear
	#			template = sirayni_high_headgear
	#			range = { 0.01 0.49 } # For the randomness to work correctly
	#		}
	#	}	
	#	weight = {
	#		base = 0
	#		modifier = {
	#			add = 100 
    #            portrait_high_nobles_headgear_trigger = {
    #                CULTURE_INPUT = sirayni
    #            }
	#		}	
	#	}	
	#}
	#
	#sirayni_kings = {
	#	dna_modifiers = {
	#		accessory = {
	#			mode = add
	#			gene = headgear
	#			template = sirayni_high_headgear
	#			range = { 0.51 0.74 } # For the randomness to work correctly
	#		}
	#	}	
	#	weight = {
	#		base = 0
	#		modifier = {
	#			add = 100
    #            portrait_royalty_trigger = {
    #                CULTURE_INPUT = sirayni
    #            }   
	#		}
	#	}
	#}
	#
	#sirayni_emperors = {
	#	dna_modifiers = {
	#		accessory = {
	#			mode = add
	#			gene = headgear
	#			template = sirayni_high_headgear
	#			range = { 0.76 0.99 } # For the randomness to work correctly
	#		}
	#	}	
	#	weight = {
	#		base = 0
	#		modifier = {
	#			add = 100
    #            portrait_imperial_trigger = {
    #                CULTURE_INPUT = sirayni
    #            }   
	#		}
	#	}	
	#}	

	## North Haradrim ##

	north_haradrim_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = haradrim_low_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = north_haradrim
                }
			}
			modifier = {
				add = 50
				portrait_commoner_clothing_trigger = {
					CULTURE_INPUT = north_haradrim
				}
			}
		}
	}

	north_haradrim_counts = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = haradrim_high_headgear
				range = { 0.01 0.09 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = north_haradrim
                }
			}
		}
	}

	north_haradrim_dukes = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = haradrim_high_headgear
				range = { 0.11 0.19 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100 
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = north_haradrim
                }
			}	
		}	
	}

	north_haradrim_kings = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = haradrim_high_headgear
				range = { 0.21 0.29 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_royalty_trigger = {
                    CULTURE_INPUT = north_haradrim
                }   
			}
		}
	}

	north_haradrim_emperors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = haradrim_high_headgear
				range = { 0.31 0.39 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_imperial_trigger = {
                    CULTURE_INPUT = north_haradrim
                }   
			}
		}	
	}

	## South Haradrim ##

	south_haradrim_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = haradrim_low_headgear
				range = { 0.51 0.74 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = south_haradrim
                }
			}
			modifier = {
				add = 50
				portrait_commoner_clothing_trigger = {
					CULTURE_INPUT = south_haradrim
				}
			}
		}
	}

	south_haradrim_counts = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = haradrim_low_headgear
				range = { 0.51 0.74 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = south_haradrim
                }
			}
		}
	}

	south_haradrim_dukes = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = haradrim_high_headgear
				range = { 0.41 0.49 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100 
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = south_haradrim
                }
			}	
		}	
	}

	south_haradrim_kings = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = haradrim_high_headgear
				range = { 0.51 0.59 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_royalty_trigger = {
                    CULTURE_INPUT = south_haradrim
                }   
			}
		}
	}

	south_haradrim_emperors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = haradrim_high_headgear
				range = { 0.61 0.69 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_imperial_trigger = {
                    CULTURE_INPUT = south_haradrim
                }   
			}
		}
	}

	## East Haradrim ##

	east_haradrim_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = haradrim_low_headgear
				range = { 0.76 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = east_haradrim
                }
			}
			modifier = {
				add = 50
				portrait_commoner_clothing_trigger = {
					CULTURE_INPUT = east_haradrim
				}
			}
		}
	}

	east_haradrim_counts = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = haradrim_low_headgear
				range = { 0.76 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = east_haradrim
                }
			}
		}
	}

	east_haradrim_dukes = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = haradrim_high_headgear
				range = { 0.71 0.79 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100 
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = east_haradrim
                }
			}	
		}	
	}

	east_haradrim_kings = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = haradrim_high_headgear
				range = { 0.81 0.89 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_royalty_trigger = {
                    CULTURE_INPUT = east_haradrim
                }   
			}
		}
	}

	east_haradrim_emperors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = haradrim_high_headgear
				range = { 0.91 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_imperial_trigger = {
                    CULTURE_INPUT = east_haradrim
                }   
			}
		}	
	}


	## Nafarati ##

	nafarati_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = nafarati_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = nafarati
                }
			}
			modifier = {
				add = 50
				portrait_commoner_clothing_trigger = {
					CULTURE_INPUT = nafarati
				}
			}
		}
	}

	nafarati_counts = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = nafarati_high_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = nafarati
                }
			}
		}
	}

	nafarati_dukes = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = nafarati_high_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100 
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = nafarati
                }
			}	
		}	
	}

	nafarati_kings = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = nafarati_high_headgear
				range = { 0.51 0.74 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_royalty_trigger = {
                    CULTURE_INPUT = nafarati
                }   
			}
		}
	}

	nafarati_emperors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = nafarati_high_headgear
				range = { 0.76 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_imperial_trigger = {
                    CULTURE_INPUT = nafarati
                }   
			}
		}	
	}
	
	## Mumakani ##

	mumakani_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mumakani_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = kirani
                }
			}
			modifier = {
				add = 50
				portrait_commoner_clothing_trigger = {
					CULTURE_INPUT = kirani
				}
			}
		}
	}

	mumakani_counts = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = nafarati_high_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = kirani
                }
			}
		}
	}

	mumakani_dukes = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mumakani_high_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100 
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = kirani
                }
			}	
		}
	}

	mumakani_kings = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mumakani_high_headgear
				range = { 0.51 0.74 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_royalty_trigger = {
                    CULTURE_INPUT = kirani
                }   
			}
		}
	}

	mumakani_emperors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mumakani_high_headgear
				range = { 0.76 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_imperial_trigger = {
                    CULTURE_INPUT = kirani
                }   
			}
		}
	}	

	## Variag ##

	variag_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = variag_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = variag
                }
			}
			modifier = {
				add = 50
				portrait_commoner_clothing_trigger = {
					CULTURE_INPUT = variag
				}
			}
		}
	}

	variag_counts = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = variag_high_headgear
				range = { 0.01 0.24 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = variag
                }
			}
		}
	}

	variag_dukes = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = variag_high_headgear
				range = { 0.26 0.49 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100 
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = variag
                }
			}	
		}	
	}

	variag_kings = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = variag_high_headgear
				range = { 0.51 0.74 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_royalty_trigger = {
                    CULTURE_INPUT = variag
                }   
			}
		}
	}

	variag_emperors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = variag_high_headgear
				range = { 0.76 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_imperial_trigger = {
                    CULTURE_INPUT = variag
                }   
			}
		}	
	}
	
	## Nurniag ##

	nurniag_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = nurniag_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 90
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = variag
                }
				culture = {
					AND = {
						has_cultural_pillar = heritage_ioriag
						has_cultural_pillar = ethos_bureaucratic
					}
				}							
			}
			modifier = {
				add = 60
				portrait_commoner_clothing_trigger = {
					CULTURE_INPUT = variag
				}
				culture = {
					AND = {
						has_cultural_pillar = heritage_ioriag
						has_cultural_pillar = ethos_bureaucratic
					}
				}							
			}
		}
	}

	nurniag_counts = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = nurniag_high_headgear
				range = { 0.01 0.24 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 101
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = variag
                }
				culture = {
					AND = {
						has_cultural_pillar = heritage_ioriag
						has_cultural_pillar = ethos_bureaucratic
					}
				}							
			}
		}
	}

	nurniag_dukes = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = nurniag_high_headgear
				range = { 0.26 0.49 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 101 
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = 
                }
				culture = {
					AND = {
						has_cultural_pillar = heritage_ioriag
						has_cultural_pillar = ethos_bureaucratic
					}
				}							
			}	
		}	
	}

	nurniag_kings = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = nurniag_high_headgear
				range = { 0.51 0.74 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 101
                portrait_royalty_trigger = {
                    CULTURE_INPUT = variag
                }
				culture = {
					AND = {
						has_cultural_pillar = heritage_ioriag
						has_cultural_pillar = ethos_bureaucratic
					}
				}					
			}
		}
	}

	nurniag_emperors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = nurniag_high_headgear
				range = { 0.76 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 101
                portrait_imperial_trigger = {
                    CULTURE_INPUT = variag
                }
				culture = {
					AND = {
						has_cultural_pillar = heritage_ioriag
						has_cultural_pillar = ethos_bureaucratic
					}
				}						
			}
		}	
	}

	## Khyan ##

	#khyan_commoners = {
	#	dna_modifiers = {
	#		accessory = {
	#			mode = add
	#			gene = headgear
	#			template = khyan_low_headgear
	#			range = { 0 1 } # For the randomness to work correctly
	#		}
	#	}	
	#	weight = {
	#		base = 0
	#		modifier = {
	#			add = 80
    #            portrait_commoner_headgear_fallback_trigger = {
    #                CULTURE_INPUT = khailuza
    #            }
	#		}
	#		modifier = {
	#			add = 50
	#			portrait_commoner_clothing_trigger = {
	#				CULTURE_INPUT = khailuza
	#			}
	#		}
	#	}
	#}
	#
	#khyan_counts = {
	#	dna_modifiers = {
	#		accessory = {
	#			mode = add
	#			gene = headgear
	#			template = khyan_high_headgear
	#			range = { 0.01 0.49 } # For the randomness to work correctly
	#		}
	#	}	
	#	weight = {
	#		base = 0
	#		modifier = {
	#			add = 100
    #            portrait_low_nobles_clothing_trigger = {
    #                CULTURE_INPUT = khailuza
    #            }
	#		}
	#	}
	#}
	#
	#khyan_dukes = {
	#	dna_modifiers = {
	#		accessory = {
	#			mode = add
	#			gene = headgear
	#			template = khyan_high_headgear
	#			range = { 0.01 0.49 } # For the randomness to work correctly
	#		}
	#	}	
	#	weight = {
	#		base = 0
	#		modifier = {
	#			add = 100 
    #            portrait_high_nobles_headgear_trigger = {
    #                CULTURE_INPUT = khailuza
    #            }
	#		}	
	#	}	
	#}
	#
	#khyan_kings = {
	#	dna_modifiers = {
	#		accessory = {
	#			mode = add
	#			gene = headgear
	#			template = khyan_high_headgear
	#			range = { 0.51 0.74 } # For the randomness to work correctly
	#		}
	#	}	
	#	weight = {
	#		base = 0
	#		modifier = {
	#			add = 100
    #            portrait_royalty_trigger = {
    #                CULTURE_INPUT = khailuza
    #            }   
	#		}
	#	}
	#}
	#
	#khyan_emperors = {
	#	dna_modifiers = {
	#		accessory = {
	#			mode = add
	#			gene = headgear
	#			template = khyan_high_headgear
	#			range = { 0.76 0.99 } # For the randomness to work correctly
	#		}
	#	}	
	#	weight = {
	#		base = 0
	#		modifier = {
	#			add = 100
    #            portrait_imperial_trigger = {
    #                CULTURE_INPUT = khailuza
    #            }   
	#		}
	#	}	
	#}
	#
	### Muranian ##
	#
	#muranian_commoners = {
	#	dna_modifiers = {
	#		accessory = {
	#			mode = add
	#			gene = headgear
	#			template = muranian_low_headgear
	#			range = { 0.01 0.49 } # For the randomness to work correctly
	#		}
	#	}	
	#	weight = {
	#		base = 0
	#		modifier = {
	#			add = 80
    #            portrait_commoner_headgear_fallback_trigger = {
    #                CULTURE_INPUT = muranian
    #            }
	#		}
	#		modifier = {
	#			add = 50
	#			portrait_commoner_clothing_trigger = {
	#				CULTURE_INPUT = muranian
	#			}
	#		}
	#	}
	#}
	#
	#muranian_counts = {
	#	dna_modifiers = {
	#		accessory = {
	#			mode = add
	#			gene = headgear
	#			template = muranian_low_headgear
	#			range = { 0.51 0.99 } # For the randomness to work correctly
	#		}
	#	}	
	#	weight = {
	#		base = 0
	#		modifier = {
	#			add = 100
    #            portrait_low_nobles_clothing_trigger = {
    #                CULTURE_INPUT = muranian
    #            }
	#		}
	#	}
	#}
	#
	#muranian_dukes = {
	#	dna_modifiers = {
	#		accessory = {
	#			mode = add
	#			gene = headgear
	#			template = muranian_high_headgear
	#			range = { 0.01 0.49 } # For the randomness to work correctly
	#		}
	#	}	
	#	weight = {
	#		base = 0
	#		modifier = {
	#			add = 100 
    #            portrait_high_nobles_headgear_trigger = {
    #                CULTURE_INPUT = muranian
    #            }
	#		}	
	#	}	
	#}
	#
	#muranian_kings = {
	#	dna_modifiers = {
	#		accessory = {
	#			mode = add
	#			gene = headgear
	#			template = muranian_high_headgear
	#			range = { 0.51 0.74 } # For the randomness to work correctly
	#		}
	#	}	
	#	weight = {
	#		base = 0
	#		modifier = {
	#			add = 100
    #            portrait_royalty_trigger = {
    #                CULTURE_INPUT = muranian
    #            }   
	#		}
	#	}
	#}
	#
	#muranian_emperors = {
	#	dna_modifiers = {
	#		accessory = {
	#			mode = add
	#			gene = headgear
	#			template = muranian_high_headgear
	#			range = { 0.76 0.99 } # For the randomness to work correctly
	#		}
	#	}	
	#	weight = {
	#		base = 0
	#		modifier = {
	#			add = 100
    #            portrait_imperial_trigger = {
    #                CULTURE_INPUT = muranian
    #            }   
	#		}
	#	}	
	#}		

	## Rhunnic ##

	igath_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = igath_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = rhunnic
                }
				culture = {
					AND = {
						has_cultural_pillar = heritage_igath
					}
				}				
			}
			modifier = {
				add = 50
				portrait_commoner_clothing_trigger = {
					CULTURE_INPUT = rhunnic
				}
				culture = {
					AND = {
						has_cultural_pillar = heritage_igath
					}
				}				
			}
		}
	}
	
	igath_counts = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = igath_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 101
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = rhunnic
                }
				culture = {
					AND = {
						has_cultural_pillar = heritage_igath
					}
				}						
			}
		}
	}

	igath_dukes = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = igath_high_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 101
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = rhunnic
                }
				culture = {
					AND = {
						has_cultural_pillar = heritage_igath
					}
				}						
			}
		}
	}

	igath_kings = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = igath_high_headgear
				range = { 0.51 0.74 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 101
                portrait_royalty_trigger = {
                    CULTURE_INPUT = rhunnic
                }
				culture = {
					AND = {
						has_cultural_pillar = heritage_igath
					}
				}						
			}
		}
	}

	igath_emperors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = igath_high_headgear
				range = { 0.76 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 101
                portrait_imperial_trigger = {
                    CULTURE_INPUT = rhunnic
                }
				culture = {
					AND = {
						has_cultural_pillar = heritage_igath
					}
				}						
			}
		}
	}			
	
	ioriag_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ioriag_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = rhunnic
                }
				culture = {
					AND = {
						has_cultural_pillar = heritage_ioriag
					}
				}					
			}
			modifier = {
				add = 50
				portrait_commoner_clothing_trigger = {
					CULTURE_INPUT = rhunnic
				}
				culture = {
					AND = {
						has_cultural_pillar = heritage_ioriag
					}
				}					
			}
		}
	}
	
	ioriag_counts = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ioriag_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = rhunnic
                }
				culture = {
					AND = {
						has_cultural_pillar = heritage_ioriag
					}
				}						
			}
		}
	}

	ioriag_dukes = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ioriag_high_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = rhunnic
                }
				culture = {
					AND = {
						has_cultural_pillar = heritage_ioriag
					}
				}						
			}
		}
	}		

	ioriag_kings = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ioriag_high_headgear
				range = { 0.51 0.74 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_royalty_trigger = {
                    CULTURE_INPUT = rhunnic
                }   
				culture = {
					AND = {
						has_cultural_pillar = heritage_ioriag
					}
				}
			}	
		}
	}

	ioriag_emperors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ioriag_high_headgear
				range = { 0.76 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_imperial_trigger = {
                    CULTURE_INPUT = rhunnic
                }   
				culture = {
					AND = {
						has_cultural_pillar = heritage_ioriag
					}
				}
			}	
		}
	}
	
	magriag_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = magriag_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 85
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = rhunnic
                }
				culture = {
					AND = {
						has_cultural_pillar = ethos_egalitarian
						has_cultural_pillar = heritage_ioriag
					}
				}					
			}
			modifier = {
				add = 55
				portrait_commoner_clothing_trigger = {
					CULTURE_INPUT = rhunnic
				}
				culture = {
					AND = {
						has_cultural_pillar = ethos_egalitarian
						has_cultural_pillar = heritage_ioriag
					}
				}					
			}
		}
	}

	magriag_counts = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = magriag_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 101
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = rhunnic
                }
				culture = {
					AND = {
						has_cultural_pillar = ethos_egalitarian
						has_cultural_pillar = heritage_ioriag
					}
				}							
			}
		}
	}
	
	magriag_dukes = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = magriag_high_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 101
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = rhunnic
                }
				culture = {
					AND = {
						has_cultural_pillar = ethos_egalitarian
						has_cultural_pillar = heritage_ioriag
					}
				}							
			}
		}
	}

	magriag_kings = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = magriag_high_headgear
				range = { 0.51 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 101
                portrait_royalty_trigger = {
                    CULTURE_INPUT = rhunnic
                }
				culture = {
					AND = {
						has_cultural_pillar = ethos_egalitarian
						has_cultural_pillar = heritage_ioriag
					}
				}							
			}
		}
	}

	magriag_emperors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = magriag_high_headgear
				range = { 0.51 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 101
                portrait_imperial_trigger = {
                    CULTURE_INPUT = rhunnic
                }
				culture = {
					AND = {
						has_cultural_pillar = ethos_egalitarian
						has_cultural_pillar = heritage_ioriag
					}
				}							
			}
		}
	}		

	## Elves ##

	thranduil = {
		usage = game
		dna_modifiers = {
			accessory = {
				mode = add	
				gene = headgear
				template = lotr_unique_headgear
				range = { 0.0 0.01 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 1000
				exists = character:lineoforopher3 #Thranduil
				this = character:lineoforopher3 #Thranduil
			}
		}	
	}

	elven_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = elven_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 80
				OR = {
					portrait_commoner_headgear_fallback_trigger = {
						CULTURE_INPUT = elven
					}
					portrait_commoner_headgear_fallback_trigger = {
						CULTURE_INPUT = lasgalendrim
					}
					portrait_commoner_headgear_fallback_trigger = {
						CULTURE_INPUT = noldor
					}
					portrait_commoner_headgear_fallback_trigger = {
						CULTURE_INPUT = sindar
					}
					portrait_commoner_headgear_fallback_trigger = {
						CULTURE_INPUT = falathrim
					}					
				}
			modifier = {
				add = 50
				OR = {
					portrait_commoner_clothing_trigger = {
						CULTURE_INPUT = elven
					}
					portrait_commoner_clothing_trigger = {
						CULTURE_INPUT = lasgalendrim
					}
					portrait_commoner_clothing_trigger = {
						CULTURE_INPUT = noldor
					}
					portrait_commoner_clothing_trigger = {
						CULTURE_INPUT = sindar
					}
					portrait_commoner_clothing_trigger = {
						CULTURE_INPUT = falathrim
					}					
				}
			}
		}
	}

	elven_counts = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = elven_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				OR = {
					portrait_low_nobles_clothing_trigger = {
						CULTURE_INPUT = elven
					}
					portrait_low_nobles_clothing_trigger = {
						CULTURE_INPUT = lasgalendrim
					}
					portrait_low_nobles_clothing_trigger = {
						CULTURE_INPUT = noldor
					}
					portrait_low_nobles_clothing_trigger = {
						CULTURE_INPUT = sindar
					}
					portrait_low_nobles_clothing_trigger = {
						CULTURE_INPUT = falathrim
					}					
				}
			}
		}
	}

	elven_dukes = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = elven_high_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100 
				OR = {
					portrait_high_nobles_headgear_trigger = {
						CULTURE_INPUT = elven
					}
					portrait_high_nobles_headgear_trigger = {
						CULTURE_INPUT = lasgalendrim
					}
					portrait_high_nobles_headgear_trigger = {
						CULTURE_INPUT = noldor
					}
					portrait_high_nobles_headgear_trigger = {
						CULTURE_INPUT = sindar
					}
					portrait_high_nobles_headgear_trigger = {
						CULTURE_INPUT = falathrim
					}					
				}
			}	
		}		
	}

	elven_kings = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = elven_high_headgear
				range = { 0.51 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				OR = {
					portrait_royalty_trigger = {
						CULTURE_INPUT = elven
					}
					portrait_royalty_trigger = {
						CULTURE_INPUT = lasgalendrim
					}
					portrait_royalty_trigger = {
						CULTURE_INPUT = noldor
					}
					portrait_royalty_trigger = {
						CULTURE_INPUT = sindar
					}
					portrait_royalty_trigger = {
						CULTURE_INPUT = falathrim
					}					
				}
			}
		}
	}

	elven_emperors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = elven_high_headgear
				range = { 0.51 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				OR = {
					portrait_imperial_trigger = {
						CULTURE_INPUT = elven
					}
					portrait_imperial_trigger = {
						CULTURE_INPUT = lasgalendrim
					}
					portrait_imperial_trigger = {
						CULTURE_INPUT = noldor
					}
					portrait_imperial_trigger = {
						CULTURE_INPUT = sindar
					}
					portrait_imperial_trigger = {
						CULTURE_INPUT = falathrim
					}					
				}
			}
		}		
	}

	## Nazgul ##

	nazgul = {
		usage = game
		dna_modifiers = {
			accessory = {
				mode = add		
				gene = headgear
				template = lotr_unique_headgear
				range = { 0.40 0.41 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 1000
				has_trait = nazgul
			}
			modifier = {
				add = 2000
				exists = character:lineofsauron #Sauron
				this = character:lineofsauron #Sauron
				has_game_rule = crispy_sauron
			}
			modifier = {
				add = 2000
				exists = character:lineofsauron #Sauron
				this = character:lineofsauron #Sauron
				has_character_flag = unknown_sauron_flag
			}
		}	
	}
	
	witchking = {
		usage = game
		dna_modifiers = {
			accessory = {
				mode = add		
				gene = headgear
				template = lotr_unique_headgear
				range = { 0.5 0.51 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 1000
				has_character_flag =  witchking
			}
		}	
	}
	
	khamul = {
		usage = game
		dna_modifiers = {
			accessory = {
				mode = add		
				gene = headgear
				template = lotr_unique_headgear
				range = { 0.6 0.61 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 1000
				exists = character:nazgul2 #Khamûl 2nd Nazgul "The Shadow of the East"
				this = character:nazgul2 #Khamûl 2nd Nazgul "The Shadow of the East"
			}
		}
	}
	
	goldenmask = {
		usage = game
		dna_modifiers = {
			accessory = {
				mode = add		
				gene = headgear
				template = lotr_unique_headgear
				range = { 0.7 0.71 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 1000
				exists = character:nazgul3 #Golden King
				this = character:nazgul3 #Golden King
			}
		}
	}
	
	## Sauron ##

	sauron = {
		usage = game
		dna_modifiers = {
			accessory = {
				mode = add	
				gene = headgear
				template = lotr_unique_headgear
				range = { 0.8 0.81 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 1000
				has_character_flag =  is_sauron
			}
		}	
	}
	
	#DWARVES#
	
	dwarf_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dwarf_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = dwarf
                }
			}
			modifier = {
				add = 50
				portrait_commoner_clothing_trigger = {
					CULTURE_INPUT = dwarf
				}
			}
		}
	}
	
	dwarf_counts = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dwarf_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100 
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = dwarf
                }
			}	
		}	
	}	

	dwarf_dukes = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dwarf_high_headgear
				range = { 0.01 0.39 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100 
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = dwarf
                }
			}	
		}	
	}
	
	dwarf_blacklock_dukes = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dwarf_high_headgear
				range = { 0.41 0.49 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 101 
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = dwarf
                }
				culture = {
					AND = {
						has_cultural_pillar = heritage_blacklock
					}
				}				
			}	
		}	
	}	

	dwarf_kings = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dwarf_high_headgear
				range = { 0.51 0.74 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_royalty_trigger = {
                    CULTURE_INPUT = dwarf
                }   
			}
		}
	}
	
	dwarf_blacklock_kings = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dwarf_high_headgear
				range = { 0.75 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 101
                portrait_royalty_trigger = {
                    CULTURE_INPUT = dwarf
                }
				culture = {
					AND = {
						has_cultural_pillar = heritage_blacklock
					}
				}						
			}
		}
	}	
	
	dwarf_emperors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dwarf_high_headgear
				range = { 0.51 0.74 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_imperial_trigger = {
                    CULTURE_INPUT = dwarf
                }   
			}
		}
	}	
	

	##Hobbits##
		hobbit_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = hobbit_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                OR = {
					portrait_commoner_headgear_fallback_trigger = {
					CULTURE_INPUT = hobbit
					}
                    portrait_commoner_clothing_trigger = {
                        CULTURE_INPUT = hobbit
                    }
                    portrait_low_nobles_clothing_trigger = {
                        CULTURE_INPUT = hobbit
                    }
                    portrait_high_nobles_headgear_trigger = {
                        CULTURE_INPUT = hobbit
                    }
                    portrait_royalty_trigger = {
                        CULTURE_INPUT = hobbit
                    }
					portrait_imperial_trigger = {
						CULTURE_INPUT = hobbit
					}
                }
			}	
		}
	}
	
	##Circumpolar##
	circumpolar_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = circumpolar_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = circumpolar
                }
			}
			modifier = {
				add = 50
				portrait_commoner_clothing_trigger = {
					CULTURE_INPUT = circumpolar
				}
			}
		}
	}
	
	circumpolar_counts = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = circumpolar_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = circumpolar
                }
			}
		}
	}

	circumpolar_dukes = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = circumpolar_high_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100 
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = circumpolar
                }
			}	
		}	
	}

	circumpolar_kings_emperors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = circumpolar_high_headgear
				range = { 0.51 0.74 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                OR = {
                    portrait_royalty_trigger = {
                        CULTURE_INPUT = circumpolar
                    }
					portrait_imperial_trigger = {
						CULTURE_INPUT = circumpolar
					}
                }
			}
		}
	}
	
	##Angmarrim##
	angmarrim_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = angmarrim_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = angmarrim
                }
			}
			modifier = {
				add = 50
				portrait_commoner_clothing_trigger = {
					CULTURE_INPUT = angmarrim
				}
			}
		}
	}
	
	angmarrim_counts = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = angmarrim_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = angmarrim
                }
			}
		}
	}

	angmarrim_dukes = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = angmarrim_high_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100 
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = angmarrim
                }
			}	
		}
	}

	angmarrim_kings_emperors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = angmarrim_high_headgear
				range = { 0.51 0.74 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                OR = {
                    portrait_royalty_trigger = {
                        CULTURE_INPUT = angmarrim
                    }
					portrait_imperial_trigger = {
						CULTURE_INPUT = angmarrim
					}
                }
			}
		}
	}	

	## Numenorean ##

	numenorean_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = numenorean_low_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = numenorean
                }
			}
			modifier = {
				add = 50
				portrait_commoner_clothing_trigger = {
					CULTURE_INPUT = numenorean
				}
			}
		}
	}

	numenorean_counts = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = numenorean_low_headgear
				range = { 0.51 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = numenorean
                }
			}
		}
	}

	numenorean_dukes = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = numenorean_high_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100 
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = numenorean
                }
			}	
		}	
	}

	numenorean_kings = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = numenorean_high_headgear
				range = { 0.51 0.74 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_royalty_trigger = {
                    CULTURE_INPUT = numenorean
                }   
			}
		}
	}

	numenorean_emperors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = numenorean_high_headgear
				range = { 0.76 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_imperial_trigger = {
                    CULTURE_INPUT = numenorean
                }   
			}
		}
	}

	## Anbalukkhori ##

	anbalukkhori_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = anbalukkhori_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = anbalukkhori
                }
			}
			modifier = {
				add = 50
				portrait_commoner_clothing_trigger = {
					CULTURE_INPUT = anbalukkhori
				}
			}
		}
	}

	anbalukkhori_counts = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = anbalukkhori_high_headgear
				range = { 0.01 0.24 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = anbalukkhori
                }
			}
		}
	}

	anbalukkhori_dukes = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = anbalukkhori_high_headgear
				range = { 0.26 0.49 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100 
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = anbalukkhori
                }
			}	
		}	
	}

	anbalukkhori_kings = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = anbalukkhori_high_headgear
				range = { 0.51 0.74 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_royalty_trigger = {
                    CULTURE_INPUT = anbalukkhori
                }   
			}
		}
	}

	anbalukkhori_emperors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = anbalukkhori_high_headgear
				range = { 0.76 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_imperial_trigger = {
                    CULTURE_INPUT = anbalukkhori
                }   
			}
		}	
	}
	
	## Umbar ##

	umbar_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = umbar_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				has_trait = peasant_leader
				OR = {
					is_ruler = no
					is_leading_faction_type = peasant_faction
					AND = {
						is_ruler = yes
						is_landed = no
						OR = {
							government_has_flag = government_is_feudal
							government_has_flag = government_is_clan
							
							government_has_flag = government_is_elven
							
						}
					}
				}
				portrait_umbar_clothing_trigger = yes
			}
			modifier = {
				add = 20
				highest_held_title_tier < tier_county
				NOR = {
					AND = {
						exists = primary_spouse
						primary_spouse = {
							highest_held_title_tier > tier_county
						}
					}
					AND = {
						government_has_flag = government_is_republic
						primary_title.tier > 1
					}
					AND = { is_ruler = yes government_has_flag = government_is_theocracy }
				}
				portrait_umbar_clothing_spouse_trigger = yes
			}
		}
	}

	umbar_counts = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = umbar_high_headgear
				range = { 0.01 0.24 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				NAND = {
					has_trait = peasant_leader
					OR = {
						is_ruler = no
						is_leading_faction_type = peasant_faction
						AND = {
							is_ruler = yes
							is_landed = no
							OR = {
								government_has_flag = government_is_feudal
								government_has_flag = government_is_clan
								
								government_has_flag = government_is_elven
								
							}
						}
					}
				}
				OR = {
					AND = {
						highest_held_title_tier = tier_county
						NOR = {
							# has_dynasty = no
							AND = {
								government_has_flag = government_is_republic
								primary_title.tier > 1
							}
							AND = { is_ruler = yes government_has_flag = government_is_theocracy }
						}
						portrait_umbar_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						OR = {
							is_ruler = no
							highest_held_title_tier = tier_barony
						}
						primary_spouse = {
							highest_held_title_tier = tier_county
							NOR = {
								# has_dynasty = no
								AND = {
									government_has_flag = government_is_republic
									primary_title.tier > 1
								}
								AND = { is_ruler = yes government_has_flag = government_is_theocracy }
							}
							portrait_umbar_clothing_spouse_trigger = yes
						}
					}
				}
			}
		}
	}

	umbar_dukes = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = umbar_high_headgear
				range = { 0.26 0.49 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				NAND = {
					has_trait = peasant_leader
					OR = {
						is_ruler = no
						is_leading_faction_type = peasant_faction
						AND = {
							is_ruler = yes
							is_landed = no
							OR = {
								government_has_flag = government_is_feudal
								government_has_flag = government_is_clan
								
								government_has_flag = government_is_elven
								
							}
						}
					}
				}
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_duchy
							AND = {
								government_has_flag = government_is_republic
								primary_title.tier > 2
							}
							AND = { is_ruler = yes government_has_flag = government_is_theocracy }
						}
						NOT = { AND = { is_ruler = yes government_has_flag = government_is_mercenary  } } # Blocked for mercenaries
						portrait_umbar_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						OR = {
							is_ruler = no
							highest_held_title_tier = tier_barony
						}
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_duchy
								AND = {
									government_has_flag = government_is_republic
									primary_title.tier > 2
								}
								AND = { is_ruler = yes government_has_flag = government_is_theocracy }
							}
							portrait_umbar_clothing_spouse_trigger = yes
						}
					}
				}
			}
		}
	}

	umbar_kings = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = umbar_high_headgear
				range = { 0.51 0.74 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				NAND = {
					has_trait = peasant_leader
					OR = {
						is_ruler = no
						is_leading_faction_type = peasant_faction
						AND = {
							is_ruler = yes
							is_landed = no
							OR = {
								government_has_flag = government_is_feudal
								government_has_flag = government_is_clan
								
								government_has_flag = government_is_elven
								
							}
						}
					}
				}
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_kingdom
							AND = { is_ruler = yes government_has_flag = government_is_theocracy }
						}
						NOT = { AND = { is_ruler = yes government_has_flag = government_is_mercenary  } } # Blocked for mercenaries
						NOT = { government_has_flag = government_is_republic }
						portrait_umbar_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						OR = {
							is_ruler = no
							highest_held_title_tier = tier_barony
						}
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_kingdom
								AND = { is_ruler = yes government_has_flag = government_is_theocracy }
							}
							NOT = { AND = { is_ruler = yes government_has_flag = government_is_mercenary  } } # Blocked for mercenaries
							NOT = { government_has_flag = government_is_republic }
							portrait_umbar_clothing_spouse_trigger = yes
						}
					}
				}
			}
		}
	}

	umbar_emperors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = umbar_high_headgear
				range = { 0.76 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				NAND = {
					has_trait = peasant_leader
					OR = {
						is_ruler = no
						is_leading_faction_type = peasant_faction
						AND = {
							is_ruler = yes
							is_landed = no
							OR = {
								government_has_flag = government_is_feudal
								government_has_flag = government_is_clan
								
								government_has_flag = government_is_elven
								
							}
						}
					}
				}
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_empire
							AND = { is_ruler = yes government_has_flag = government_is_theocracy }
						}
						NOT = { AND = { is_ruler = yes government_has_flag = government_is_mercenary  } } # Blocked for mercenaries
						NOT = { government_has_flag = government_is_republic }
						portrait_umbar_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						OR = {
							is_ruler = no
							highest_held_title_tier = tier_barony
						}
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_empire
								AND = { is_ruler = yes government_has_flag = government_is_theocracy }
							}
							NOT = { AND = { is_ruler = yes government_has_flag = government_is_mercenary  } } # Blocked for mercenaries
							NOT = { government_has_flag = government_is_republic }
							portrait_umbar_clothing_spouse_trigger = yes
						}
					}
				}
			}
		}
	}
	
	## Thani_Hazad ##

	thani_hazad_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = thani_hazad_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				has_trait = peasant_leader
				OR = {
					is_ruler = no
					is_leading_faction_type = peasant_faction
					AND = {
						is_ruler = yes
						is_landed = no
						OR = {
							government_has_flag = government_is_feudal
							government_has_flag = government_is_clan
							
							government_has_flag = government_is_elven
							
						}
					}
				}
				portrait_thani_hazad_clothing_trigger = yes
			}
			modifier = {
				add = 20
				highest_held_title_tier < tier_county
				NOR = {
					AND = {
						exists = primary_spouse
						primary_spouse = {
							highest_held_title_tier > tier_county
						}
					}
					AND = {
						government_has_flag = government_is_republic
						primary_title.tier > 1
					}
					AND = { is_ruler = yes government_has_flag = government_is_theocracy }
				}
				portrait_thani_hazad_clothing_spouse_trigger = yes
			}
		}
	}

	thani_hazad_counts = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = thani_hazad_high_headgear
				range = { 0.01 0.24 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				NAND = {
					has_trait = peasant_leader
					OR = {
						is_ruler = no
						is_leading_faction_type = peasant_faction
						AND = {
							is_ruler = yes
							is_landed = no
							OR = {
								government_has_flag = government_is_feudal
								government_has_flag = government_is_clan
								
								government_has_flag = government_is_elven
								
							}
						}
					}
				}
				OR = {
					AND = {
						highest_held_title_tier = tier_county
						NOR = {
							# has_dynasty = no
							AND = {
								government_has_flag = government_is_republic
								primary_title.tier > 1
							}
							AND = { is_ruler = yes government_has_flag = government_is_theocracy }
						}
						portrait_thani_hazad_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						OR = {
							is_ruler = no
							highest_held_title_tier = tier_barony
						}
						primary_spouse = {
							highest_held_title_tier = tier_county
							NOR = {
								# has_dynasty = no
								AND = {
									government_has_flag = government_is_republic
									primary_title.tier > 1
								}
								AND = { is_ruler = yes government_has_flag = government_is_theocracy }
							}
							portrait_thani_hazad_clothing_spouse_trigger = yes
						}
					}
				}
			}
		}
	}

	thani_hazad_dukes = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = thani_hazad_high_headgear
				range = { 0.26 0.49 } # For the randomness to work correctly
			}
		}			
		weight = {
			base = 0
			modifier = {
				add = 100
				NAND = {
					has_trait = peasant_leader
					OR = {
						is_ruler = no
						is_leading_faction_type = peasant_faction
						AND = {
							is_ruler = yes
							is_landed = no
							OR = {
								government_has_flag = government_is_feudal
								government_has_flag = government_is_clan
								
								government_has_flag = government_is_elven
								
							}
						}
					}
				}
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_duchy
							AND = {
								government_has_flag = government_is_republic
								primary_title.tier > 2
							}
							AND = { is_ruler = yes government_has_flag = government_is_theocracy }
						}
						NOT = { AND = { is_ruler = yes government_has_flag = government_is_mercenary  } } # Blocked for mercenaries
						portrait_thani_hazad_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						OR = {
							is_ruler = no
							highest_held_title_tier = tier_barony
						}
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_duchy
								AND = {
									government_has_flag = government_is_republic
									primary_title.tier > 2
								}
								AND = { is_ruler = yes government_has_flag = government_is_theocracy }
							}
							portrait_thani_hazad_clothing_spouse_trigger = yes
						}
					}
				}
			}
		}
	}

	thani_hazad_kings = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = thani_hazad_high_headgear
				range = { 0.51 0.74 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				NAND = {
					has_trait = peasant_leader
					OR = {
						is_ruler = no
						is_leading_faction_type = peasant_faction
						AND = {
							is_ruler = yes
							is_landed = no
							OR = {
								government_has_flag = government_is_feudal
								government_has_flag = government_is_clan
								
								government_has_flag = government_is_elven
								
							}
						}
					}
				}
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_kingdom
							AND = { is_ruler = yes government_has_flag = government_is_theocracy }
						}
						NOT = { AND = { is_ruler = yes government_has_flag = government_is_mercenary  } } # Blocked for mercenaries
						NOT = { government_has_flag = government_is_republic }
						portrait_thani_hazad_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						OR = {
							is_ruler = no
							highest_held_title_tier = tier_barony
						}
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_kingdom
								AND = { is_ruler = yes government_has_flag = government_is_theocracy }
							}
							NOT = { AND = { is_ruler = yes government_has_flag = government_is_mercenary  } } # Blocked for mercenaries
							NOT = { government_has_flag = government_is_republic }
							portrait_thani_hazad_clothing_spouse_trigger = yes
						}
					}
				}
			}
		}
	}

	thani_hazad_emperors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = thani_hazad_high_headgear
				range = { 0.76 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				NAND = {
					has_trait = peasant_leader
					OR = {
						is_ruler = no
						is_leading_faction_type = peasant_faction
						AND = {
							is_ruler = yes
							is_landed = no
							OR = {
								government_has_flag = government_is_feudal
								government_has_flag = government_is_clan
								
								government_has_flag = government_is_elven
								
							}
						}
					}
				}
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_empire
							AND = { is_ruler = yes government_has_flag = government_is_theocracy }
						}
						NOT = { AND = { is_ruler = yes government_has_flag = government_is_mercenary  } } # Blocked for mercenaries
						NOT = { government_has_flag = government_is_republic }
						portrait_thani_hazad_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						OR = {
							is_ruler = no
							highest_held_title_tier = tier_barony
						}
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_empire
								AND = { is_ruler = yes government_has_flag = government_is_theocracy }
							}
							NOT = { AND = { is_ruler = yes government_has_flag = government_is_mercenary  } } # Blocked for mercenaries
							NOT = { government_has_flag = government_is_republic }
							portrait_thani_hazad_clothing_spouse_trigger = yes
						}
					}
				}
			}
		}
	}
	
	##Arnorian##

	arnorian_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = arnorian_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				has_trait = peasant_leader
				OR = {
					is_ruler = no
					is_leading_faction_type = peasant_faction
					AND = {
						is_ruler = yes
						is_landed = no
						OR = {
							government_has_flag = government_is_feudal
							government_has_flag = government_is_clan
							
							government_has_flag = government_is_elven
							
						}
					}
				}
				portrait_arnorian_clothing_trigger = yes
			}
			modifier = {
				add = 20
				highest_held_title_tier < tier_county
				NOR = {
					AND = {
						exists = primary_spouse
						primary_spouse = {
							highest_held_title_tier > tier_county
						}
					}
					AND = {
						government_has_flag = government_is_republic
						primary_title.tier > 1
					}
					AND = { is_ruler = yes government_has_flag = government_is_theocracy }
				}
				portrait_arnorian_clothing_spouse_trigger = yes
			}
		}
	}

	arnorian_counts = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = arnorian_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				NAND = {
					has_trait = peasant_leader
					OR = {
						is_ruler = no
						is_leading_faction_type = peasant_faction
						AND = {
							is_ruler = yes
							is_landed = no
							OR = {
								government_has_flag = government_is_feudal
								government_has_flag = government_is_clan
								
								government_has_flag = government_is_elven
								
							}
						}
					}
				}
				OR = {
					AND = {
						highest_held_title_tier = tier_county
						NOR = {
							# has_dynasty = no
							AND = {
								government_has_flag = government_is_republic
								primary_title.tier > 1
							}
							AND = { is_ruler = yes government_has_flag = government_is_theocracy }
						}
						portrait_arnorian_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						OR = {
							is_ruler = no
							highest_held_title_tier = tier_barony
						}
						primary_spouse = {
							highest_held_title_tier = tier_county
							NOR = {
								# has_dynasty = no
								AND = {
									government_has_flag = government_is_republic
									primary_title.tier > 1
								}
								AND = { is_ruler = yes government_has_flag = government_is_theocracy }
							}
							portrait_arnorian_clothing_spouse_trigger = yes
						}
					}
				}
			}
		}
	}

	arnorian_dukes = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = arnorian_high_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				NAND = {
					has_trait = peasant_leader
					OR = {
						is_ruler = no
						is_leading_faction_type = peasant_faction
						AND = {
							is_ruler = yes
							is_landed = no
							OR = {
								government_has_flag = government_is_feudal
								government_has_flag = government_is_clan
								
								government_has_flag = government_is_elven
								
							}
						}
					}
				}
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_duchy
							AND = {
								government_has_flag = government_is_republic
								primary_title.tier > 2
							}
							AND = { is_ruler = yes government_has_flag = government_is_theocracy }
						}
						NOT = { AND = { is_ruler = yes government_has_flag = government_is_mercenary  } } # Blocked for mercenaries
						portrait_arnorian_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						OR = {
							is_ruler = no
							highest_held_title_tier = tier_barony
						}
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_duchy
								AND = {
									government_has_flag = government_is_republic
									primary_title.tier > 2
								}
								AND = { is_ruler = yes government_has_flag = government_is_theocracy }
							}
							portrait_arnorian_clothing_spouse_trigger = yes
						}
					}
				}
			}
		}
	}

	arnorian_kings = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = arnorian_high_headgear
				range = { 0.51 0.74 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				NAND = {
					has_trait = peasant_leader
					OR = {
						is_ruler = no
						is_leading_faction_type = peasant_faction
						AND = {
							is_ruler = yes
							is_landed = no
							OR = {
								government_has_flag = government_is_feudal
								government_has_flag = government_is_clan
								
								government_has_flag = government_is_elven
								
							}
						}
					}
				}
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_kingdom
							AND = { is_ruler = yes government_has_flag = government_is_theocracy }
						}
						NOT = { AND = { is_ruler = yes government_has_flag = government_is_mercenary  } } # Blocked for mercenaries
						NOT = { government_has_flag = government_is_republic }
						portrait_arnorian_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						OR = {
							is_ruler = no
							highest_held_title_tier = tier_barony
						}
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_kingdom
								AND = { is_ruler = yes government_has_flag = government_is_theocracy }
							}
							NOT = { AND = { is_ruler = yes government_has_flag = government_is_mercenary  } } # Blocked for mercenaries
							NOT = { government_has_flag = government_is_republic }
							portrait_arnorian_clothing_spouse_trigger = yes
						}
					}
				}
			}
		}
	}

	arnorian_emperors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = arnorian_high_headgear
				range = { 0.76 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				NAND = {
					has_trait = peasant_leader
					OR = {
						is_ruler = no
						is_leading_faction_type = peasant_faction
						AND = {
							is_ruler = yes
							is_landed = no
							OR = {
								government_has_flag = government_is_feudal
								government_has_flag = government_is_clan
								
								government_has_flag = government_is_elven
								
							}
						}
					}
				}
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_empire
							AND = { is_ruler = yes government_has_flag = government_is_theocracy }
						}
						NOT = { AND = { is_ruler = yes government_has_flag = government_is_mercenary  } } # Blocked for mercenaries
						NOT = { government_has_flag = government_is_republic }
						portrait_arnorian_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						OR = {
							is_ruler = no
							highest_held_title_tier = tier_barony
						}
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_empire
								AND = { is_ruler = yes government_has_flag = government_is_theocracy }
							}
							NOT = { AND = { is_ruler = yes government_has_flag = government_is_mercenary  } } # Blocked for mercenaries
							NOT = { government_has_flag = government_is_republic }
							portrait_arnorian_clothing_spouse_trigger = yes
						}
					}
				}
			}
		}
	}
	
	##Uialdain##
	
	uialdain_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = uialdain_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				has_trait = peasant_leader
				OR = {
					is_ruler = no
					is_leading_faction_type = peasant_faction
					AND = {
						is_ruler = yes
						is_landed = no
						OR = {
							government_has_flag = government_is_feudal
							government_has_flag = government_is_clan
							
							government_has_flag = government_is_elven
							
						}
					}
				}
				portrait_arnorian_clothing_trigger = yes
			}
			modifier = {
				add = 20
				highest_held_title_tier < tier_county
				NOR = {
					AND = {
						exists = primary_spouse
						primary_spouse = {
							highest_held_title_tier > tier_county
						}
					}
					AND = {
						government_has_flag = government_is_republic
						primary_title.tier > 1
					}
					AND = { is_ruler = yes government_has_flag = government_is_theocracy }
				}
				portrait_arnorian_clothing_spouse_trigger = yes
			}
		}
	}

	uialdain_counts = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = uialdain_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				NAND = {
					has_trait = peasant_leader
					OR = {
						is_ruler = no
						is_leading_faction_type = peasant_faction
						AND = {
							is_ruler = yes
							is_landed = no
							OR = {
								government_has_flag = government_is_feudal
								government_has_flag = government_is_clan
								
								government_has_flag = government_is_elven
								
							}
						}
					}
				}
				OR = {
					AND = {
						highest_held_title_tier = tier_county
						NOR = {
							# has_dynasty = no
							AND = {
								government_has_flag = government_is_republic
								primary_title.tier > 1
							}
							AND = { is_ruler = yes government_has_flag = government_is_theocracy }
						}
						portrait_arnorian_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						OR = {
							is_ruler = no
							highest_held_title_tier = tier_barony
						}
						primary_spouse = {
							highest_held_title_tier = tier_county
							NOR = {
								# has_dynasty = no
								AND = {
									government_has_flag = government_is_republic
									primary_title.tier > 1
								}
								AND = { is_ruler = yes government_has_flag = government_is_theocracy }
							}
							portrait_arnorian_clothing_spouse_trigger = yes
						}
					}
				}
			}
		}
	}

	uialdain_dukes = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = uialdain_high_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				NAND = {
					has_trait = peasant_leader
					OR = {
						is_ruler = no
						is_leading_faction_type = peasant_faction
						AND = {
							is_ruler = yes
							is_landed = no
							OR = {
								government_has_flag = government_is_feudal
								government_has_flag = government_is_clan
								
								government_has_flag = government_is_elven
								
							}
						}
					}
				}
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_duchy
							AND = {
								government_has_flag = government_is_republic
								primary_title.tier > 2
							}
							AND = { is_ruler = yes government_has_flag = government_is_theocracy }
						}
						NOT = { AND = { is_ruler = yes government_has_flag = government_is_mercenary  } } # Blocked for mercenaries
						portrait_arnorian_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						OR = {
							is_ruler = no
							highest_held_title_tier = tier_barony
						}
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_duchy
								AND = {
									government_has_flag = government_is_republic
									primary_title.tier > 2
								}
								AND = { is_ruler = yes government_has_flag = government_is_theocracy }
							}
							portrait_arnorian_clothing_spouse_trigger = yes
						}
					}
				}
			}
		}
	}

	uialdain_kings = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = arnorian_high_headgear
				range = { 0.51 0.74 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				NAND = {
					has_trait = peasant_leader
					OR = {
						is_ruler = no
						is_leading_faction_type = peasant_faction
						AND = {
							is_ruler = yes
							is_landed = no
							OR = {
								government_has_flag = government_is_feudal
								government_has_flag = government_is_clan
								
								government_has_flag = government_is_elven
								
							}
						}
					}
				}
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_kingdom
							AND = { is_ruler = yes government_has_flag = government_is_theocracy }
						}
						NOT = { AND = { is_ruler = yes government_has_flag = government_is_mercenary  } } # Blocked for mercenaries
						NOT = { government_has_flag = government_is_republic }
						portrait_arnorian_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						OR = {
							is_ruler = no
							highest_held_title_tier = tier_barony
						}
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_kingdom
								AND = { is_ruler = yes government_has_flag = government_is_theocracy }
							}
							NOT = { AND = { is_ruler = yes government_has_flag = government_is_mercenary  } } # Blocked for mercenaries
							NOT = { government_has_flag = government_is_republic }
							portrait_arnorian_clothing_spouse_trigger = yes
						}
					}
				}
			}
		}
	}

	uialdain_emperors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = arnorian_high_headgear
				range = { 0.76 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				NAND = {
					has_trait = peasant_leader
					OR = {
						is_ruler = no
						is_leading_faction_type = peasant_faction
						AND = {
							is_ruler = yes
							is_landed = no
							OR = {
								government_has_flag = government_is_feudal
								government_has_flag = government_is_clan
								
								government_has_flag = government_is_elven
								
							}
						}
					}
				}
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_empire
							AND = { is_ruler = yes government_has_flag = government_is_theocracy }
						}
						NOT = { AND = { is_ruler = yes government_has_flag = government_is_mercenary  } } # Blocked for mercenaries
						NOT = { government_has_flag = government_is_republic }
						portrait_arnorian_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						OR = {
							is_ruler = no
							highest_held_title_tier = tier_barony
						}
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_empire
								AND = { is_ruler = yes government_has_flag = government_is_theocracy }
							}
							NOT = { AND = { is_ruler = yes government_has_flag = government_is_mercenary  } } # Blocked for mercenaries
							NOT = { government_has_flag = government_is_republic }
							portrait_arnorian_clothing_spouse_trigger = yes
						}
					}
				}
			}
		}
	}
	
	## Pel ##

	pel_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = pel_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				has_trait = peasant_leader
				OR = {
					is_ruler = no
					is_leading_faction_type = peasant_faction
					AND = {
						is_ruler = yes
						is_landed = no
						OR = {
							government_has_flag = government_is_feudal
							government_has_flag = government_is_clan
							
							government_has_flag = government_is_elven
							
						}
					}
				}
				portrait_pel_clothing_trigger = yes
			}
			modifier = {
				add = 100
				highest_held_title_tier < tier_county
				NOR = {
					AND = {
						exists = primary_spouse
						primary_spouse = {
							highest_held_title_tier > tier_county
						}
					}
					AND = {
						government_has_flag = government_is_republic
						primary_title.tier > 1
					}
					AND = { is_ruler = yes government_has_flag = government_is_theocracy }
				}
				portrait_pel_clothing_spouse_trigger = yes
			}
			#modifier = {
			#	add = -56 # Slightly lower if north african is valid
			#	portrait_commoner_clothing_trigger = { 
			#		CULTURE_INPUT = 
			#	}
			#}
		}
	}

	pel_counts = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = pel_high_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				NAND = {
					has_trait = peasant_leader
					OR = {
						is_ruler = no
						is_leading_faction_type = peasant_faction
						AND = {
							is_ruler = yes
							is_landed = no
							OR = {
								government_has_flag = government_is_feudal
								government_has_flag = government_is_clan
								
								government_has_flag = government_is_elven
								
							}
						}
					}
				}
				OR = {
					AND = {
						highest_held_title_tier = tier_county
						NOR = {
							# has_dynasty = no
							AND = {
								government_has_flag = government_is_republic
								primary_title.tier > 1
							}
							AND = { is_ruler = yes government_has_flag = government_is_theocracy }
						}
						portrait_pel_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						OR = {
							is_ruler = no
							highest_held_title_tier = tier_barony
						}
						primary_spouse = {
							highest_held_title_tier = tier_county
							NOR = {
								# has_dynasty = no
								AND = {
									government_has_flag = government_is_republic
									primary_title.tier > 1
								}
								AND = { is_ruler = yes government_has_flag = government_is_theocracy }
							}
							portrait_pel_clothing_spouse_trigger = yes
						}
					}
				}
			}
			#modifier = {
			#	add = -36 # Slightly lower if north african is valid
			#	portrait_commoner_clothing_trigger = { 
			#		CULTURE_INPUT = 
			#	}
			#}
		}
	}

	pel_dukes = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = pel_high_headgear
				range = { 0.51 0.74 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				NAND = {
					has_trait = peasant_leader
					OR = {
						is_ruler = no
						is_leading_faction_type = peasant_faction
						AND = {
							is_ruler = yes
							is_landed = no
							OR = {
								government_has_flag = government_is_feudal
								government_has_flag = government_is_clan
								
								government_has_flag = government_is_elven
								
							}
						}
					}
				}
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_duchy
							AND = {
								government_has_flag = government_is_republic
								primary_title.tier > 2
							}
							AND = { is_ruler = yes government_has_flag = government_is_theocracy }
						}
						NOT = { AND = { is_ruler = yes government_has_flag = government_is_mercenary  } } # Blocked for mercenaries
						portrait_pel_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						OR = {
							is_ruler = no
							highest_held_title_tier = tier_barony
						}
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_duchy
								AND = {
									government_has_flag = government_is_republic
									primary_title.tier > 2
								}
								AND = { is_ruler = yes government_has_flag = government_is_theocracy }
							}
							portrait_pel_clothing_spouse_trigger = yes
						}
					}
				}
			}
			#modifier = {
			#	add = -36 # Slightly lower if north african is valid
			#	portrait_commoner_clothing_trigger = { 
			#		CULTURE_INPUT = 
			#	}
			#}
		}
	}
	
	pel_kings = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = pel_high_headgear
				range = { 0.76 0.99 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				NAND = {
					has_trait = peasant_leader
					OR = {
						is_ruler = no
						is_leading_faction_type = peasant_faction
						AND = {
							is_ruler = yes
							is_landed = no
							OR = {
								government_has_flag = government_is_feudal
								government_has_flag = government_is_clan
								
								government_has_flag = government_is_elven
								
							}
						}
					}
				}
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_kingdom
							AND = { is_ruler = yes government_has_flag = government_is_theocracy }
						}
						NOT = { AND = { is_ruler = yes government_has_flag = government_is_mercenary  } } # Blocked for mercenaries
						NOT = { government_has_flag = government_is_republic }
						portrait_pel_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						OR = {
							is_ruler = no
							highest_held_title_tier = tier_barony
						}
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_kingdom
								AND = { is_ruler = yes government_has_flag = government_is_theocracy }
							}
							NOT = { AND = { is_ruler = yes government_has_flag = government_is_mercenary  } } # Blocked for mercenaries
							NOT = { government_has_flag = government_is_republic }
							portrait_pel_clothing_spouse_trigger = yes
						}
					}
				}
			}
		}
	}
	
	## Northron - northern_proxy ##

	northern_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = northmen_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 10
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = northern_proxy
                }
			}
			modifier = {
				add = 10
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = northern_proxy
                }
			}
		}
	}

	northern_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = northmen_high_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 10
				portrait_low_nobles_clothing_trigger = {
	                CULTURE_INPUT = northern_proxy
	            }
			}
		}
	}

	northern_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = northmen_high_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 10
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = northern_proxy
                }   
			}
		}
	}

	northern_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = northmen_high_headgear
				range = { 0.51 0.99 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 10
				OR = {
					portrait_royalty_trigger = {
						CULTURE_INPUT = northern_proxy
					}
				}
			}
		}
	}

	## Western - western_proxy ##

	western_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = no_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 0
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = western_proxy
                }
			}
			modifier = {
				add = 10
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = western_proxy
                }
			}
		}
	}

	western_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = no_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 10
				portrait_low_nobles_clothing_trigger = {
	                CULTURE_INPUT = western_proxy
	            }
			}
		}
	}

	western_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = no_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 10
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = western_proxy
                }   
			}
		}
	}

	western_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = no_headgear
				range = { 0.51 0.99 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 10
				OR = {
					portrait_royalty_trigger = {
						CULTURE_INPUT = western_proxy
					}
				}
			}
		}
	}

	## Byzantine - byzantine_proxy ##
	
	byzantine_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = anbalukkhori_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 10
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = byzantine_proxy
                }
			}
			modifier = {
				add = 10
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = byzantine_proxy
                }
			}
		}
	}

	byzantine_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = anbalukkhori_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 10
				portrait_low_nobles_clothing_trigger = {
	                CULTURE_INPUT = byzantine_proxy
	            }
			}
		}
	}

	byzantine_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = anbalukkhori_high_headgear
				range = { 0.32 0.38 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 10
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = byzantine_proxy
                }   
			}
		}
	}

	byzantine_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = anbalukkhori_high_headgear
				range = { 0.52 0.60 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 10
				OR = {
					portrait_royalty_trigger = {
						CULTURE_INPUT = byzantine_proxy
					}
				}
			}
		}
	}	
	
	## MENA - mena_proxy ##

	mena_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = haradrim_low_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 10
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = mena_proxy
                }
			}
			modifier = {
				add = 10
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = mena_proxy
                }
			}
		}
	}

	mena_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = haradrim_high_headgear
				range = { 0.01 0.09 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 10
				portrait_low_nobles_clothing_trigger = {
	                CULTURE_INPUT = mena_proxy
	            }
			}
		}
	}

	mena_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = haradrim_high_headgear
				range = { 0.11 0.19 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 10
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = mena_proxy
                }   
			}
		}
	}

	mena_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = haradrim_high_headgear
				range = { 0.21 0.23 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 10
				OR = {
					portrait_royalty_trigger = {
						CULTURE_INPUT = mena_proxy
					}
				}
			}
		}
	}

	## INDIAN - indian_proxy ##

	indian_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = rayan_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 10
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = indian_proxy
                }
			}
			modifier = {
				add = 10
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = indian_proxy
                }
			}
		}
	}

	indian_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = rayan_high_headgear
				range = { 0.01 0.24 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 10
				portrait_low_nobles_clothing_trigger = {
	                CULTURE_INPUT = indian_proxy
	            }
			}
		}
	}

	indian_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = rayan_high_headgear
				range = { 0.26 0.49 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 10
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = indian_proxy
                }   
			}
		}
	}

	indian_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = rayan_high_headgear
				range = { 0.51 0.74 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 10
				OR = {
					portrait_royalty_trigger = {
						CULTURE_INPUT = indian_proxy
					}
				}
			}
		}
	}

	## STEPPE - steppe_proxy ##

	steppe_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = igath_low_headgear
				range = { 0.95 0.99 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 10
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = steppe_proxy
                }
			}
			modifier = {
				add = 10
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = steppe_proxy
                }
			}
		}
	}

	steppe_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = igath_low_headgear
				range = { 0.95 0.99 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 10
				portrait_low_nobles_clothing_trigger = {
	                CULTURE_INPUT = steppe_proxy
	            }
			}
		}
	}

	steppe_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ioriag_low_headgear
				range = { 0.95 0.99 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 10
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = steppe_proxy
                }   
			}
		}
	}

	steppe_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ioriag_high_headgear
				range = { 0.95 0.99 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 10
				OR = {
					portrait_royalty_trigger = {
						CULTURE_INPUT = steppe_proxy
					}
				}
			}
		}
	}

	## African - african_proxy ##

	african_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mumakani_low_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 10
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = african_proxy
                }
			}
			modifier = {
				add = 10
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = african_proxy
                }
			}
		}
	}

	african_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mumakani_high_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 10
				portrait_low_nobles_clothing_trigger = {
	                CULTURE_INPUT = african_proxy
	            }
			}
		}
	}

	african_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mumakani_high_headgear
				range = { 0.01 0.49 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 10
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = african_proxy
                }   
			}
		}
	}

	african_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mumakani_high_headgear
				range = { 0.76 0.99 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 10
				OR = {
					portrait_royalty_trigger = {
						CULTURE_INPUT = african_proxy
					}
				}
			}
		}
	}	
}